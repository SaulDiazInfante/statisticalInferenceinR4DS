<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistical Inference For Data Science - 8&nbsp; Functions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./_intermediate_r_04.html" rel="next">
<link href="./_intermediate_r_02.html" rel="prev">
<link href="./cover1.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="twitter:title" content="Statistical Inference For Data Science - 8&nbsp; Functions">
<meta name="twitter:description" content="Functions are an extremely important concept in almost every programming language, and R is no different. Learn what functions are and how to use them—then take charge by writing your own functions.">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar docked">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Functions</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistical Inference For Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/SaulDiazInfante/statisticalInferenceinR4DS" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Download" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-download"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./Statistical-Inference-For-Data-Science.pdf">
            <i class="bi bi-bi-file-pdf pe-1"></i>
          Download PDF
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./Statistical-Inference-For-Data-Science.epub">
            <i class="bi bi-bi-journal pe-1"></i>
          Download ePub
          </a>
        </li>
    </ul>
    <a href="" title="Share" id="sidebar-tool-dropdown-1" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-share"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-1">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
            <i class="bi bi-bi-twitter pe-1"></i>
          Twitter
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
            <i class="bi bi-bi-facebook pe-1"></i>
          Facebook
          </a>
        </li>
    </ul>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./background_00.html" class="sidebar-item-text sidebar-link">R fundamentals: core data types</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_fundamentals_for_data_science.html" class="sidebar-item-text sidebar-link">Nuts and bolts: Data types</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_r_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Intro to basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_r_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Vectors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_r_03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Matrices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_r_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Factors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_r_05.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data frames</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_r_06.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lists</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./background_01.html" class="sidebar-item-text sidebar-link">R fundamentals for funtional programming</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_r_01.html" class="sidebar-item-text sidebar-link">Relational and logical operators, and conditional statements</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_r_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_r_03.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_r_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The apply family</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_r_05.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Utilities</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_visualization.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Data visualization with ggplot2 and friends</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./background_02.html" class="sidebar-item-text sidebar-link">R fundamentals: functional programming</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_writing_functions_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">_writing_functions_01.html</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_visualization.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Data visualization with ggplot2 and friends</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./background_03.html" class="sidebar-item-text sidebar-link">R fundamentals: importing, cleaning and reshaping data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_importing_data_in_R_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Importing data from flat files with utils</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_importing_data_in_R_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">readr &amp; data.table</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_importing_data_in_R_03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">List the sheets of an Excel file</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_introduction_to_importing_data_in_R_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Reproducible Excel work with XLConnect</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_importing_data_in_R_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Importing data from databases (Part 1)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_importing_data_in_R_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Importing data from databases (Part 2)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_importing_data_in_R_03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Importing data from the web (Part 1)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_importing_data_in_R_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Importing data from the web (Part 2)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_intermediate_importing_data_in_R_05.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Importing data from statistical software packages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_cleaning_data_in_R_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Common Data Problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_cleaning_data_in_R_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Categorical and Text Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_cleaning_data_in_R_03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Advanced Data Problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_cleaning_data_in_R_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Record Linkage</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_reshaping_data_with_tidyr_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Tidy Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_reshaping_data_with_tidyr_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">From Wide to Long and Back</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_reshaping_data_with_tidyr_03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Expanding Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_reshaping_data_with_tidyr_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Rectangling Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_joining_data_with_dplyr_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Joining Tables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_joining_data_with_dplyr_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Left and Right Joins</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_joining_data_with_dplyr_03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Full, Semi, and Anti Joins</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./_joining_data_with_dplyr_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Case Study: Joins on Stack Overflow Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./statistical-inference-whole-game.html" class="sidebar-item-text sidebar-link">The whole game of statistical Inference</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./statistical_inference.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Statistical Inference with resampling: Bootstrap and Jacknife.</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linear_regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Lienar Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#function-documentation" id="toc-function-documentation" class="nav-link active" data-scroll-target="#function-documentation"><span class="toc-section-number">8.1</span>  Function documentation</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp" id="toc-instructions-100-xp" class="nav-link" data-scroll-target="#instructions-100-xp">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#use-a-function" id="toc-use-a-function" class="nav-link" data-scroll-target="#use-a-function"><span class="toc-section-number">8.2</span>  Use a function</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-1" id="toc-instructions-100-xp-1" class="nav-link" data-scroll-target="#instructions-100-xp-1">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#use-a-function-2" id="toc-use-a-function-2" class="nav-link" data-scroll-target="#use-a-function-2"><span class="toc-section-number">8.3</span>  Use a function (2)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-2" id="toc-instructions-100-xp-2" class="nav-link" data-scroll-target="#instructions-100-xp-2">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#use-a-function-3" id="toc-use-a-function-3" class="nav-link" data-scroll-target="#use-a-function-3"><span class="toc-section-number">8.4</span>  Use a function (3)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-3" id="toc-instructions-100-xp-3" class="nav-link" data-scroll-target="#instructions-100-xp-3">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#functions-inside-functions" id="toc-functions-inside-functions" class="nav-link" data-scroll-target="#functions-inside-functions"><span class="toc-section-number">8.5</span>  Functions inside functions</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-4" id="toc-instructions-100-xp-4" class="nav-link" data-scroll-target="#instructions-100-xp-4">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#write-your-own-function" id="toc-write-your-own-function" class="nav-link" data-scroll-target="#write-your-own-function"><span class="toc-section-number">8.6</span>  Write your own function</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-5" id="toc-instructions-100-xp-5" class="nav-link" data-scroll-target="#instructions-100-xp-5">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#write-your-own-function-2" id="toc-write-your-own-function-2" class="nav-link" data-scroll-target="#write-your-own-function-2"><span class="toc-section-number">8.7</span>  Write your own function (2)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-6" id="toc-instructions-100-xp-6" class="nav-link" data-scroll-target="#instructions-100-xp-6">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#write-your-own-function-3" id="toc-write-your-own-function-3" class="nav-link" data-scroll-target="#write-your-own-function-3"><span class="toc-section-number">8.8</span>  Write your own function (3)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-7" id="toc-instructions-100-xp-7" class="nav-link" data-scroll-target="#instructions-100-xp-7">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#function-scoping" id="toc-function-scoping" class="nav-link" data-scroll-target="#function-scoping"><span class="toc-section-number">8.9</span>  Function scoping</a>
  <ul class="collapse">
  <li><a href="#instructions-50-xp" id="toc-instructions-50-xp" class="nav-link" data-scroll-target="#instructions-50-xp">Instructions <code>50 XP</code></a></li>
  </ul></li>
  <li><a href="#r-passes-arguments-by-value" id="toc-r-passes-arguments-by-value" class="nav-link" data-scroll-target="#r-passes-arguments-by-value"><span class="toc-section-number">8.10</span>  R passes arguments by value</a>
  <ul class="collapse">
  <li><a href="#instructions-50-xp-1" id="toc-instructions-50-xp-1" class="nav-link" data-scroll-target="#instructions-50-xp-1">Instructions <code>50 XP</code></a></li>
  </ul></li>
  <li><a href="#r-you-functional" id="toc-r-you-functional" class="nav-link" data-scroll-target="#r-you-functional"><span class="toc-section-number">8.11</span>  R you functional?</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-8" id="toc-instructions-100-xp-8" class="nav-link" data-scroll-target="#instructions-100-xp-8">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#r-you-functional-2" id="toc-r-you-functional-2" class="nav-link" data-scroll-target="#r-you-functional-2"><span class="toc-section-number">8.12</span>  R you functional? (2)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-9" id="toc-instructions-100-xp-9" class="nav-link" data-scroll-target="#instructions-100-xp-9"><span class="toc-section-number">8.12.1</span>  Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#load-an-r-package" id="toc-load-an-r-package" class="nav-link" data-scroll-target="#load-an-r-package"><span class="toc-section-number">8.13</span>  Load an R Package</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-10" id="toc-instructions-100-xp-10" class="nav-link" data-scroll-target="#instructions-100-xp-10">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#different-ways-to-load-a-package" id="toc-different-ways-to-load-a-package" class="nav-link" data-scroll-target="#different-ways-to-load-a-package"><span class="toc-section-number">8.14</span>  Different ways to load a package</a>
  <ul class="collapse">
  <li><a href="#instructions-50-xp-2" id="toc-instructions-50-xp-2" class="nav-link" data-scroll-target="#instructions-50-xp-2">Instructions <code>50 XP</code></a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/SaulDiazInfante/statisticalInferenceinR4DS/edit/main/_intermediate_r_03.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Functions</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Functions are an extremely important concept in almost every programming language, and R is no different. Learn what functions are and how to use them—then take charge by writing your own functions.</p>
<section id="function-documentation" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="function-documentation"><span class="header-section-number">8.1</span> Function documentation</h2>
<p>Before even thinking of using an R function, you should clarify which arguments it expects. All the relevant details such as a description, usage, and arguments can be found in the documentation. To consult the documentation on the sample() function, for example, you can use one of following R commands:</p>
<div class="sourceCode" id="cb1" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(sample)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>?sample</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you execute these commands, you’ll be redirected to &lt;www.rdocumentation.org.&gt;</p>
<p>A quick hack to see the arguments of the <code>sample()</code> function is the <code>args()</code> function. Try it out in the console:</p>
<div class="sourceCode" id="cb2" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(sample)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the next exercises, you’ll be learning how to use the <code>mean()</code> function with increasing complexity. The first thing you’ll have to do is get acquainted with the <code>mean()</code> function.</p>
<section id="instructions-100-xp" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp">Instructions <code>100 XP</code></h3>
<ul>
<li>Consult the documentation on the <code>mean()</code> function: <code>?mean</code> or <code>help(mean)</code>.</li>
<li>Inspect the arguments of the mean() function using the args() function.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_021.R</strong></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Consult the documentation on the mean() function</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">help</span>(mean)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># Inspect the arguments of the mean() function</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="fu">args</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="use-a-function" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="use-a-function"><span class="header-section-number">8.2</span> Use a function</h2>
<p>The documentation on the <code>mean()</code> function gives us quite some information:</p>
<ul>
<li>The <code>mean()</code> function computes the arithmetic mean.</li>
<li>The most general method takes multiple arguments: <code>x</code> and <code>...</code>.</li>
<li>The <code>x</code> argument should be a vector containing numeric, logical or time-related information.</li>
</ul>
<p>Remember that R can match arguments both by position and by name. Can you still remember the difference? You’ll find out in this exercise!</p>
<p>Once more, you’ll be working with the view counts of your social network profiles for the past 7 days. These are stored in the <code>linkedin</code> and <code>facebook</code> vectors and have already been created for you.</p>
<section id="instructions-100-xp-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-1">Instructions <code>100 XP</code></h3>
<ul>
<li>Calculate the average number of views for both <code>linkedin</code> and <code>facebook</code> and assign the result to avg_li and <code>avg_fb</code>, respectively. Experiment with different types of argument matching!</li>
</ul>
<p>-Print out both <code>avg_li</code> and <code>avg_fb</code>.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_022.R</strong></pre>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># Calculate average number of views</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>avg_li <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin)</span>
<span id="cb4-7"><a href="#cb4-7"></a>avg_fb <span class="ot">&lt;-</span> <span class="fu">mean</span>(facebook)</span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co"># Inspect avg_li and avg_fb</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="fu">print</span>(avg_li)</span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="fu">print</span>(avg_fb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="use-a-function-2" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="use-a-function-2"><span class="header-section-number">8.3</span> Use a function (2)</h2>
<p>Check the documentation on the <code>mean()</code> function again:</p>
<div class="sourceCode" id="cb5" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>?mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The Usage section of the documentation includes two versions of the <code>mean()</code>function. The first usage,</p>
<div class="sourceCode" id="cb6" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>is the most general usage of the mean function. The ‘Default S3 method’, however, is:</p>
<div class="sourceCode" id="cb7" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>...</code> is called the ellipsis. It is a way for R to pass arguments along without the function having to name them explicitly. The ellipsis will be treated in more detail in future courses.</p>
<p>For the remainder of this exercise, just work with the second usage of the mean function. Notice that both trim and na.rm have default values. This makes them <em>optional arguments</em>.</p>
<section id="instructions-100-xp-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-2">Instructions <code>100 XP</code></h3>
<ul>
<li>Calculate the mean of the element-wise sum of <code>linkedin</code> and <code>facebook</code> and store the result in a variable avg_sum.</li>
<li>Calculate the mean once more, but this time set the <code>trim</code> argument equal to 0.2 and assign the result to <code>avg_sum_trimmed</code>.</li>
<li>Print out both <code>avg_sum</code> and <code>avg_sum_trimmed</code>; can you spot the difference?</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_023.R</strong></pre>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co"># Calculate the mean of the sum</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>avg_sum <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook)</span>
<span id="cb8-7"><a href="#cb8-7"></a></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co"># Calculate the trimmed mean of the sum</span></span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a>avg_sum_trimmed <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook, <span class="at">trim =</span> <span class="fl">0.2</span>)</span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co"># Inspect both new variables</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="fu">print</span>(avg_sum)</span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="fu">print</span>(avg_sum_trimmed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="use-a-function-3" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="use-a-function-3"><span class="header-section-number">8.4</span> Use a function (3)</h2>
<p>In the video, Filip guided you through the example of specifying arguments of the <code>sd()</code> function. The <code>sd()</code> function has an optional argument, <code>na.rm</code> that specified whether or not to remove missing values from the input vector before calculating the standard deviation.</p>
<p>If you’ve had a good look at the documentation, you’ll know by now that the <code>mean()</code> function also has this argument, <code>na.rm</code>, and it does the exact same thing. By default, it is set to <code>FALSE</code>, as the Usage of the default S3 method shows:</p>
<div class="sourceCode" id="cb9" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s see what happens if your vectors <code>linkedin</code> and <code>facebook</code> contain missing values (<code>NA</code>).</p>
<section id="instructions-100-xp-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-3">Instructions <code>100 XP</code></h3>
<ul>
<li>Calculate the average number of LinkedIn profile views, without specifying any optional arguments. Simply print the result to the console.</li>
<li>Calculate the average number of LinkedIn profile views, but this time tell R to strip missing values from the input vector.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_024.R</strong></pre>
</div>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb10-4"><a href="#cb10-4"></a></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co"># Basic average of linkedin</span></span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="fu">mean</span>(linkedin)</span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co"># Advanced average of linkedin</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="fu">mean</span>(linkedin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="functions-inside-functions" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="functions-inside-functions"><span class="header-section-number">8.5</span> Functions inside functions</h2>
<p>You already know that R functions return objects that you can then use somewhere else. This makes it easy to use functions inside functions, as you’ve seen before:</p>
<div class="sourceCode" id="cb11" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>speed <span class="ot">&lt;-</span> <span class="dv">31</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Your speed is"</span>, speed))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice that both the <code>print()</code> and <code>paste()</code> functions use the ellipsis - <code>...</code> - as an argument. Can you figure out how they’re used?</p>
<section id="instructions-100-xp-4" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-4">Instructions <code>100 XP</code></h3>
<p>Use <code>abs()</code> on <code>linkedin - facebook</code> to get the absolute differences between the daily LinkedIn and Facebook profile views. Place the call to <code>abs()</code> inside <code>mean()</code> to calculate the Mean Absolute Deviation. In the <code>mean()</code> call, make sure to specify <code>na.rm</code> to treat missing values correctly!</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_025.R</strong></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb12-3"><a href="#cb12-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co"># Calculate the mean absolute deviation</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="fu">mean</span>(<span class="fu">abs</span>(linkedin <span class="sc">-</span> facebook), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="write-your-own-function" class="level2" data-number="8.6">
<h2 data-number="8.6" class="anchored" data-anchor-id="write-your-own-function"><span class="header-section-number">8.6</span> Write your own function</h2>
<p>Wow, things are getting serious… you’re about to write your own function! Before you have a go at it, have a look at the following function template:</p>
<div class="sourceCode" id="cb13" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2) {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>body</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice that this recipe uses the assignment operator (<code>&lt;-</code>) just as if you were assigning a vector to a variable for example. This is not a coincidence. Creating a function in R basically is the assignment of a function object to a variable! In the recipe above, you’re creating a new R variable my_fun, that becomes available in the workspace as soon as you execute the definition. From then on, you can use the my_fun as a function.</p>
<section id="instructions-100-xp-5" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-5">Instructions <code>100 XP</code></h3>
<ul>
<li>Create a function <code>pow_two()</code>: it takes one argument and returns that number squared (that number times itself).</li>
<li>Call this newly defined function with 12 as input.</li>
<li>Next, create a function <code>sum_abs()</code>, that takes two arguments and returns the sum of the absolute values of both arguments.</li>
<li>Finally, call the function <code>sum_abs()</code> with arguments <code>-2</code> and <code>3</code> afterwards.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_026.R</strong></pre>
</div>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Create a function pow_two()</span></span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb14-4"><a href="#cb14-4"></a>  x <span class="sc">^</span> <span class="dv">2</span> </span>
<span id="cb14-5"><a href="#cb14-5"></a>}</span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co"># Use the function</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="fu">pow_two</span>(<span class="dv">12</span>)</span>
<span id="cb14-9"><a href="#cb14-9"></a></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co"># Create a function sum_abs()</span></span>
<span id="cb14-11"><a href="#cb14-11"></a></span>
<span id="cb14-12"><a href="#cb14-12"></a>sum_abs <span class="ot">&lt;-</span> <span class="cf">function</span>(x1, x2){</span>
<span id="cb14-13"><a href="#cb14-13"></a>  <span class="fu">abs</span>(x1 <span class="sc">+</span> x2)</span>
<span id="cb14-14"><a href="#cb14-14"></a>}</span>
<span id="cb14-15"><a href="#cb14-15"></a></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="co"># Use the function</span></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="fu">sum_abs</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="write-your-own-function-2" class="level2" data-number="8.7">
<h2 data-number="8.7" class="anchored" data-anchor-id="write-your-own-function-2"><span class="header-section-number">8.7</span> Write your own function (2)</h2>
<p>There are situations in which your function does not require an input. Let’s say you want to write a function that gives us the random outcome of throwing a fair die:</p>
<div class="sourceCode" id="cb15" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>throw_die <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>number <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>number</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">throw_die</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Up to you to code a function that doesn’t take any arguments!</p>
<section id="instructions-100-xp-6" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-6">Instructions <code>100 XP</code></h3>
<ul>
<li>Define a function, <code>hello()</code>. It prints out “Hi there!” and returns <code>TRUE</code>. It has no arguments.</li>
<li>Call the function <code>hello()</code>, without specifying arguments of course.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_027.R</strong></pre>
</div>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Define the function hello()</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>hello <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">print</span>(<span class="st">"Hi there!"</span>)</span>
<span id="cb16-4"><a href="#cb16-4"></a>  return <span class="cn">TRUE</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>}</span>
<span id="cb16-6"><a href="#cb16-6"></a></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co"># Call the function hello()</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="fu">hello</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="write-your-own-function-3" class="level2" data-number="8.8">
<h2 data-number="8.8" class="anchored" data-anchor-id="write-your-own-function-3"><span class="header-section-number">8.8</span> Write your own function (3)</h2>
<p>Do you still remember the difference between an argument with and without default values? The usage section in the sd() documentation shows the following information:</p>
<div class="sourceCode" id="cb17" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This tells us that <code>x</code> has to be defined for the <code>sd()</code> function to be called correctly, however, <code>na.rm</code> already has a default value. Not specifying this argument won’t cause an error.</p>
<p>You can define default argument values in your own R functions as well. You can use the following recipe to do so:</p>
<div class="sourceCode" id="cb18" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, <span class="at">arg2 =</span> val2) {</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>body</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The editor on the right already includes an extended version of the <code>pow_two()</code> function from before. Can you finish it?</p>
<section id="instructions-100-xp-7" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-7">Instructions <code>100 XP</code></h3>
<ul>
<li>Add an optional argument, named <code>print_info</code>, that is <code>TRUE</code> by default.</li>
<li>Wrap an if construct around the <code>print()</code> function: this function should only be executed if <code>print_info</code> is <code>TRUE</code>.</li>
<li>Feel free to experiment with the <code>pow_two()</code> function you’ve just coded.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_028.R</strong></pre>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Finish the pow_two() function</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">print_info =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb19-3"><a href="#cb19-3"></a>y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="cf">if</span>(print_info){</span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(x, <span class="st">"to the power two equals"</span>, y))</span>
<span id="cb19-6"><a href="#cb19-6"></a>}</span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="fu">return</span>(y)</span>
<span id="cb19-8"><a href="#cb19-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="function-scoping" class="level2" data-number="8.9">
<h2 data-number="8.9" class="anchored" data-anchor-id="function-scoping"><span class="header-section-number">8.9</span> Function scoping</h2>
<p>An issue that Filip did not discuss in the video is function scoping. It implies that variables that are defined inside a function are not accessible outside that function. Try running the following code and see if you understand the results:</p>
<div class="sourceCode" id="cb20" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">return</span>(y)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">pow_two</span>(<span class="dv">4</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>y</code> was defined inside the <code>pow_two()</code> function and therefore it is not accessible outside of that function. This is also true for the function’s arguments of course - <code>x</code> in this case.</p>
<p>Which statement is correct about the following chunk of code? The function <code>two_dice()</code> is already available in the workspace.</p>
<div class="sourceCode" id="cb21" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>two_dice <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>possibilities <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>dice1 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>dice2 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>dice1 <span class="sc">+</span> dice2</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-50-xp" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-50-xp">Instructions <code>50 XP</code></h3>
<ul>
<li><em>Whatever the way of calling the two_dice() function, R won’t have access to dice1 and dice2 outside the function.</em></li>
</ul>
</section>
</section>
<section id="r-passes-arguments-by-value" class="level2" data-number="8.10">
<h2 data-number="8.10" class="anchored" data-anchor-id="r-passes-arguments-by-value"><span class="header-section-number">8.10</span> R passes arguments by value</h2>
<p>The title gives it away already: R passes arguments by value. What does this mean? Simply put, it means that an R function cannot change the variable that you input to that function. Let’s look at a simple example (try it in the console):</p>
<div class="sourceCode" id="cb22" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>triple <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span>x</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">triple</span>(a)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Inside the <code>triple()</code> function, the argument <code>x</code> gets overwritten with its value times three. Afterwards this new <code>x</code> is returned. If you call this function with a variable <code>a</code> set equal to 5, you obtain 15. But did the value of <code>a</code> change? If R were to pass <code>a</code> to <code>triple()</code> by reference, the override of the <code>x</code> inside the R passes by value, so the R objects you pass to a function can never change unless you do an explicit assignment. a remains equal to 5, even after calling <code>triple(a)</code>.</p>
<p>Can you tell which one of the following statements is false about the following piece of code?</p>
<div class="sourceCode" id="cb23" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>increment <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc =</span> <span class="dv">1</span>) {</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x <span class="sc">+</span> inc</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">increment</span>(count)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-50-xp-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-50-xp-1">Instructions <code>50 XP</code></h3>
<ul>
<li><em>In the end, count will equal 10.</em></li>
</ul>
</section>
</section>
<section id="r-you-functional" class="level2" data-number="8.11">
<h2 data-number="8.11" class="anchored" data-anchor-id="r-you-functional"><span class="header-section-number">8.11</span> R you functional?</h2>
<p>Now that you’ve acquired some skills in defining functions with different types of arguments and return values, you should try to create more advanced functions. As you’ve noticed in the previous exercises, it’s perfectly possible to add control-flow constructs, loops and even other functions to your function body.</p>
<p>Remember our social media example? The vectors <code>linkedin</code> and <code>facebook</code> are already defined in the workspace so you can get your hands dirty straight away. As a first step, you will be writing a function that can interpret a single value of this vector. In the next exercise, you will write another function that can handle an entire vector at once.</p>
<section id="instructions-100-xp-8" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-8">Instructions <code>100 XP</code></h3>
<ul>
<li>Finish the function definition for <code>interpret()</code>, that interprets the number of profile views on a single day:</li>
<li>The function takes one argument, num_views.</li>
<li>If <code>num_views</code> is greater than 15, the function prints out “You’re popular!” to the console and returns <code>num_views</code>.</li>
<li>Else, the function prints out “Try to be more visible!” and returns 0. Finally, call the interpret() function twice: on the first value of the linkedin vector and on the second element of the facebook vector.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_029.R</strong></pre>
</div>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co"># Define the interpret function</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb24-7"><a href="#cb24-7"></a>  <span class="fu">return</span>(num_views)</span>
<span id="cb24-8"><a href="#cb24-8"></a>} <span class="cf">else</span> {</span>
<span id="cb24-9"><a href="#cb24-9"></a>  <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb24-10"><a href="#cb24-10"></a>  <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb24-11"><a href="#cb24-11"></a>}</span>
<span id="cb24-12"><a href="#cb24-12"></a>}</span>
<span id="cb24-13"><a href="#cb24-13"></a></span>
<span id="cb24-14"><a href="#cb24-14"></a><span class="co"># Call the interpret function twice</span></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="fu">interpret</span>(linkedin[<span class="dv">1</span>])</span>
<span id="cb24-16"><a href="#cb24-16"></a><span class="fu">interpret</span>(facebook[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="r-you-functional-2" class="level2" data-number="8.12">
<h2 data-number="8.12" class="anchored" data-anchor-id="r-you-functional-2"><span class="header-section-number">8.12</span> R you functional? (2)</h2>
<p>A possible implementation of the <code>interpret()</code> function has been provided for you. In this exercise you’ll be writing another function that will use the <code>interpret()</code> function to interpret all the data from your daily profile views inside a vector. Furthermore, your function will return the sum of views on popular days, if asked for. A <code>for</code> loop is ideal for iterating over all the vector elements. The ability to return the sum of views on popular days is something you can code through a function argument with a default value.</p>
<section id="instructions-100-xp-9" class="level3" data-number="8.12.1">
<h3 data-number="8.12.1" class="anchored" data-anchor-id="instructions-100-xp-9"><span class="header-section-number">8.12.1</span> Instructions <code>100 XP</code></h3>
<p>Finish the template for the <code>interpret_all()</code> function:</p>
<ul>
<li>Make return_sum an optional argument, that is <code>TRUE</code> by default.</li>
<li>Inside the for loop, iterate over all views: on every iteration, add the result of <code>interpret(v)</code> to count. Remember that <code>interpret(v)</code> returns v for popular days, and 0 otherwise. At the same time, <code>interpret(v)</code> will also do some printouts.</li>
<li>Finish the if construct:</li>
<li>If return_sum is TRUE, return count.</li>
<li>Else, return NULL.</li>
</ul>
<p>Call this newly defined function on both linkedin and facebook.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_029.R</strong></pre>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb25-3"><a href="#cb25-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb25-4"><a href="#cb25-4"></a></span>
<span id="cb25-5"><a href="#cb25-5"></a><span class="co"># The interpret() can be used inside interpret_all()</span></span>
<span id="cb25-6"><a href="#cb25-6"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb25-7"><a href="#cb25-7"></a><span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb25-8"><a href="#cb25-8"></a>  <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb25-9"><a href="#cb25-9"></a>  <span class="fu">return</span>(num_views)</span>
<span id="cb25-10"><a href="#cb25-10"></a>} <span class="cf">else</span> {</span>
<span id="cb25-11"><a href="#cb25-11"></a>  <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb25-12"><a href="#cb25-12"></a>  <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb25-13"><a href="#cb25-13"></a>}</span>
<span id="cb25-14"><a href="#cb25-14"></a>}</span>
<span id="cb25-15"><a href="#cb25-15"></a></span>
<span id="cb25-16"><a href="#cb25-16"></a><span class="co"># Define the interpret_all() function</span></span>
<span id="cb25-17"><a href="#cb25-17"></a><span class="co"># views: vector with data to interpret</span></span>
<span id="cb25-18"><a href="#cb25-18"></a><span class="co"># return_sum: return total number of views on popular days?</span></span>
<span id="cb25-19"><a href="#cb25-19"></a>interpret_all <span class="ot">&lt;-</span> <span class="cf">function</span>(views, <span class="at">return_sum =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb25-20"><a href="#cb25-20"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb25-21"><a href="#cb25-21"></a></span>
<span id="cb25-22"><a href="#cb25-22"></a><span class="cf">for</span> (v <span class="cf">in</span> views) {</span>
<span id="cb25-23"><a href="#cb25-23"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="fu">interpret</span>(v)</span>
<span id="cb25-24"><a href="#cb25-24"></a>}</span>
<span id="cb25-25"><a href="#cb25-25"></a></span>
<span id="cb25-26"><a href="#cb25-26"></a><span class="cf">if</span> (return_sum) {</span>
<span id="cb25-27"><a href="#cb25-27"></a>  <span class="fu">return</span> (count)</span>
<span id="cb25-28"><a href="#cb25-28"></a>} <span class="cf">else</span> {</span>
<span id="cb25-29"><a href="#cb25-29"></a>  <span class="fu">return</span> (<span class="cn">NULL</span>)</span>
<span id="cb25-30"><a href="#cb25-30"></a>}</span>
<span id="cb25-31"><a href="#cb25-31"></a>}</span>
<span id="cb25-32"><a href="#cb25-32"></a></span>
<span id="cb25-33"><a href="#cb25-33"></a><span class="co"># Call the interpret_all() function on both linkedin and facebook</span></span>
<span id="cb25-34"><a href="#cb25-34"></a></span>
<span id="cb25-35"><a href="#cb25-35"></a><span class="fu">interpret_all</span>(linkedin)</span>
<span id="cb25-36"><a href="#cb25-36"></a><span class="fu">interpret_all</span>(facebook)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="load-an-r-package" class="level2" data-number="8.13">
<h2 data-number="8.13" class="anchored" data-anchor-id="load-an-r-package"><span class="header-section-number">8.13</span> Load an R Package</h2>
<p>There are basically two extremely important functions when it comes down to R packages:</p>
<ul>
<li><code>install.packages()</code>, which as you can expect, installs a given package.</li>
<li>library() which loads packages, i.e.&nbsp;attaches them to the search list on your R workspace.</li>
</ul>
<p>To install packages, you need administrator privileges. This means that <code>install.packages()</code> will thus not work in the DataCamp interface. However, almost all CRAN packages are installed on our servers. You can load them with <code>library()</code>.</p>
<p>In this exercise, you’ll be learning how to load the <code>ggplot2</code> package, a powerful package for data visualization. You’ll use it to create a plot of two variables of the <code>mtcars</code> data frame. The data has already been prepared for you in the workspace.</p>
<p>Before starting, execute the following commands in the console:</p>
<ul>
<li>search(), to look at the currently attached packages and</li>
<li>qplot(mtcars<span class="math inline">\(wt, mtcars\)</span>hp), to build a plot of two variables of the mtcars data frame. An error should occur, because you haven’t loaded the <code>ggplot2</code> package yet!</li>
</ul>
<section id="instructions-100-xp-10" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-10">Instructions <code>100 XP</code></h3>
<ul>
<li>To fix the error you saw in the console, load the <code>ggplot2</code> package. Make sure you are loading (and not installing) the package!</li>
<li>Now, retry calling the qplot() function with the same arguments.</li>
<li>Finally, check out the currently attached packages again.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_030.R</strong></pre>
</div>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Load the ggplot2 package</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="co"># Retry the qplot() function</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="fu">qplot</span>(mtcars<span class="sc">$</span>wt, mtcars<span class="sc">$</span>hp)</span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="co"># Check out the currently attached packages again</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="fu">search</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="different-ways-to-load-a-package" class="level2" data-number="8.14">
<h2 data-number="8.14" class="anchored" data-anchor-id="different-ways-to-load-a-package"><span class="header-section-number">8.14</span> Different ways to load a package</h2>
<p>The <code>library()</code> and <code>require()</code> functions are not very picky when it comes down to argument types: both <code>library(rjson)</code> and <code>library("rjson")</code> work perfectly fine for loading a package.</p>
<p>Have a look at some more code chunks that (attempt to) load one or more packages:</p>
<div class="sourceCode" id="cb27" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 1</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rjson)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 2</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"data.table"</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rjson)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 3</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rjson, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 4</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="fu">c</span>(<span class="st">"data.table"</span>, <span class="st">"rjson"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Select the option that lists all of the chunks that do not generate an error. The console is yours to experiment in.</p>
<section id="instructions-50-xp-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-50-xp-2">Instructions <code>50 XP</code></h3>
<p><em>Possible Answers: (1) and (2)</em></p>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./_intermediate_r_02.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Loops</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./_intermediate_r_04.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The apply family</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb28" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb28-1"><a href="#cb28-1"></a><span class="co">---</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="an">execute:</span></span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="co">  echo: true</span></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="co">  cache: true</span></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="an">format:</span></span>
<span id="cb28-6"><a href="#cb28-6"></a><span class="co">  html: </span></span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="co">    theme: morph</span></span>
<span id="cb28-8"><a href="#cb28-8"></a><span class="co">    fig-width: 8</span></span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="co">    fig-height: 4</span></span>
<span id="cb28-10"><a href="#cb28-10"></a><span class="co">    code-fold: false</span></span>
<span id="cb28-11"><a href="#cb28-11"></a><span class="co">    code-link: true</span></span>
<span id="cb28-12"><a href="#cb28-12"></a><span class="co">    highlight-style: dracula</span></span>
<span id="cb28-13"><a href="#cb28-13"></a><span class="co">    code-line-numbers: true</span></span>
<span id="cb28-14"><a href="#cb28-14"></a><span class="co">    code-block-border-left: true</span></span>
<span id="cb28-15"><a href="#cb28-15"></a><span class="co">    code-tools:</span></span>
<span id="cb28-16"><a href="#cb28-16"></a><span class="co">      source: true</span></span>
<span id="cb28-17"><a href="#cb28-17"></a><span class="co">      toggle: false</span></span>
<span id="cb28-18"><a href="#cb28-18"></a><span class="co">      caption: none</span></span>
<span id="cb28-19"><a href="#cb28-19"></a><span class="co">---</span></span>
<span id="cb28-20"><a href="#cb28-20"></a><span class="fu"># Functions</span></span>
<span id="cb28-21"><a href="#cb28-21"></a></span>
<span id="cb28-22"><a href="#cb28-22"></a>Functions are an extremely important concept in almost every </span>
<span id="cb28-23"><a href="#cb28-23"></a>programming language, and R is no different. Learn what functions are </span>
<span id="cb28-24"><a href="#cb28-24"></a>and how to use them—then take charge by writing your own functions.</span>
<span id="cb28-25"><a href="#cb28-25"></a></span>
<span id="cb28-26"><a href="#cb28-26"></a><span class="fu">## Function documentation</span></span>
<span id="cb28-27"><a href="#cb28-27"></a></span>
<span id="cb28-28"><a href="#cb28-28"></a>Before even thinking of using an R function, you should clarify which </span>
<span id="cb28-29"><a href="#cb28-29"></a>arguments it expects. All the relevant details such as a description, </span>
<span id="cb28-30"><a href="#cb28-30"></a>usage, and arguments can be found in the documentation. To consult </span>
<span id="cb28-31"><a href="#cb28-31"></a>the documentation on the sample() function, for example, you can use </span>
<span id="cb28-32"><a href="#cb28-32"></a>one of following R commands:</span>
<span id="cb28-33"><a href="#cb28-33"></a></span>
<span id="cb28-34"><a href="#cb28-34"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-35"><a href="#cb28-35"></a><span class="fu">help</span>(sample)</span>
<span id="cb28-36"><a href="#cb28-36"></a>?sample</span>
<span id="cb28-37"><a href="#cb28-37"></a><span class="in">```</span></span>
<span id="cb28-38"><a href="#cb28-38"></a>If you execute these commands, you'll be redirected to </span>
<span id="cb28-39"><a href="#cb28-39"></a><span class="kw">&lt;www.rdocumentation.org.&gt;</span></span>
<span id="cb28-40"><a href="#cb28-40"></a></span>
<span id="cb28-41"><a href="#cb28-41"></a>A quick hack to see the arguments of the <span class="in">`sample()`</span> function is the </span>
<span id="cb28-42"><a href="#cb28-42"></a><span class="in">`args()`</span> function. Try it out in the console:</span>
<span id="cb28-43"><a href="#cb28-43"></a></span>
<span id="cb28-44"><a href="#cb28-44"></a><span class="in">``` {.r code-line-numbers="false"}</span></span>
<span id="cb28-45"><a href="#cb28-45"></a><span class="fu">args</span>(sample)</span>
<span id="cb28-46"><a href="#cb28-46"></a><span class="in">```</span></span>
<span id="cb28-47"><a href="#cb28-47"></a>In the next exercises, you'll be learning how to use the <span class="in">`mean()`</span> function with increasing complexity. The first thing you'll have to do is get acquainted with the <span class="in">`mean()`</span> function.</span>
<span id="cb28-48"><a href="#cb28-48"></a></span>
<span id="cb28-49"><a href="#cb28-49"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-50"><a href="#cb28-50"></a></span>
<span id="cb28-51"><a href="#cb28-51"></a><span class="ss">- </span>Consult the documentation on the <span class="in">`mean()`</span> function: <span class="in">`?mean`</span> or </span>
<span id="cb28-52"><a href="#cb28-52"></a><span class="in">`help(mean)`</span>.</span>
<span id="cb28-53"><a href="#cb28-53"></a><span class="ss">- </span>Inspect the arguments of the mean() function using the args() </span>
<span id="cb28-54"><a href="#cb28-54"></a>function.</span>
<span id="cb28-55"><a href="#cb28-55"></a></span>
<span id="cb28-56"><a href="#cb28-56"></a><span class="in">```{.r filename="ex_021.R"}</span></span>
<span id="cb28-57"><a href="#cb28-57"></a><span class="co"># Consult the documentation on the mean() function</span></span>
<span id="cb28-58"><a href="#cb28-58"></a></span>
<span id="cb28-59"><a href="#cb28-59"></a><span class="fu">help</span>(mean)</span>
<span id="cb28-60"><a href="#cb28-60"></a><span class="co"># Inspect the arguments of the mean() function</span></span>
<span id="cb28-61"><a href="#cb28-61"></a><span class="fu">args</span>(mean)</span>
<span id="cb28-62"><a href="#cb28-62"></a><span class="in">```</span></span>
<span id="cb28-63"><a href="#cb28-63"></a><span class="fu">## Use a function</span></span>
<span id="cb28-64"><a href="#cb28-64"></a></span>
<span id="cb28-65"><a href="#cb28-65"></a>The documentation on the <span class="in">`mean()`</span> </span>
<span id="cb28-66"><a href="#cb28-66"></a>function gives us quite some information:</span>
<span id="cb28-67"><a href="#cb28-67"></a></span>
<span id="cb28-68"><a href="#cb28-68"></a><span class="ss">- </span>The <span class="in">`mean()`</span> function computes the arithmetic mean.</span>
<span id="cb28-69"><a href="#cb28-69"></a><span class="ss">- </span>The most general method takes multiple arguments: <span class="in">`x`</span> and <span class="in">`...`</span>.</span>
<span id="cb28-70"><a href="#cb28-70"></a><span class="ss">- </span>The <span class="in">`x`</span> argument should be a vector containing numeric, logical or </span>
<span id="cb28-71"><a href="#cb28-71"></a>time-related information.</span>
<span id="cb28-72"><a href="#cb28-72"></a></span>
<span id="cb28-73"><a href="#cb28-73"></a>Remember that R can match arguments both by position and by name. Can </span>
<span id="cb28-74"><a href="#cb28-74"></a>you still remember the difference? You'll find out in this exercise!</span>
<span id="cb28-75"><a href="#cb28-75"></a></span>
<span id="cb28-76"><a href="#cb28-76"></a>Once more, you'll be working with the view counts of your social network </span>
<span id="cb28-77"><a href="#cb28-77"></a>profiles for the past 7 days. These are stored in the <span class="in">`linkedin`</span> </span>
<span id="cb28-78"><a href="#cb28-78"></a>and <span class="in">`facebook`</span> vectors and have already been created for you.</span>
<span id="cb28-79"><a href="#cb28-79"></a></span>
<span id="cb28-80"><a href="#cb28-80"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-81"><a href="#cb28-81"></a></span>
<span id="cb28-82"><a href="#cb28-82"></a><span class="ss">- </span>Calculate the average number of views for both <span class="in">`linkedin`</span> and </span>
<span id="cb28-83"><a href="#cb28-83"></a><span class="in">`facebook`</span> and assign the result to avg_li and <span class="in">`avg_fb`</span>, respectively. Experiment with </span>
<span id="cb28-84"><a href="#cb28-84"></a>different types of argument matching!</span>
<span id="cb28-85"><a href="#cb28-85"></a></span>
<span id="cb28-86"><a href="#cb28-86"></a>-Print out both <span class="in">`avg_li`</span> and <span class="in">`avg_fb`</span>.</span>
<span id="cb28-87"><a href="#cb28-87"></a></span>
<span id="cb28-88"><a href="#cb28-88"></a><span class="in">```{.r filename="ex_022.R"}</span></span>
<span id="cb28-89"><a href="#cb28-89"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb28-90"><a href="#cb28-90"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb28-91"><a href="#cb28-91"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb28-92"><a href="#cb28-92"></a></span>
<span id="cb28-93"><a href="#cb28-93"></a><span class="co"># Calculate average number of views</span></span>
<span id="cb28-94"><a href="#cb28-94"></a>avg_li <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin)</span>
<span id="cb28-95"><a href="#cb28-95"></a>avg_fb <span class="ot">&lt;-</span> <span class="fu">mean</span>(facebook)</span>
<span id="cb28-96"><a href="#cb28-96"></a></span>
<span id="cb28-97"><a href="#cb28-97"></a></span>
<span id="cb28-98"><a href="#cb28-98"></a><span class="co"># Inspect avg_li and avg_fb</span></span>
<span id="cb28-99"><a href="#cb28-99"></a><span class="fu">print</span>(avg_li)</span>
<span id="cb28-100"><a href="#cb28-100"></a><span class="fu">print</span>(avg_fb)</span>
<span id="cb28-101"><a href="#cb28-101"></a><span class="in">```</span></span>
<span id="cb28-102"><a href="#cb28-102"></a></span>
<span id="cb28-103"><a href="#cb28-103"></a><span class="fu">## Use a function (2)</span></span>
<span id="cb28-104"><a href="#cb28-104"></a></span>
<span id="cb28-105"><a href="#cb28-105"></a>Check the documentation on the <span class="in">`mean()`</span> function again:</span>
<span id="cb28-106"><a href="#cb28-106"></a></span>
<span id="cb28-107"><a href="#cb28-107"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-108"><a href="#cb28-108"></a>?mean</span>
<span id="cb28-109"><a href="#cb28-109"></a><span class="in">```</span></span>
<span id="cb28-110"><a href="#cb28-110"></a></span>
<span id="cb28-111"><a href="#cb28-111"></a>The Usage section of the documentation includes two versions of the </span>
<span id="cb28-112"><a href="#cb28-112"></a><span class="in">`mean()`</span>function. The first usage,</span>
<span id="cb28-113"><a href="#cb28-113"></a></span>
<span id="cb28-114"><a href="#cb28-114"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-115"><a href="#cb28-115"></a><span class="fu">mean</span>(x, ...)</span>
<span id="cb28-116"><a href="#cb28-116"></a><span class="in">```</span></span>
<span id="cb28-117"><a href="#cb28-117"></a>is the most general usage of the mean function. The 'Default S3 method', </span>
<span id="cb28-118"><a href="#cb28-118"></a>however, is:</span>
<span id="cb28-119"><a href="#cb28-119"></a></span>
<span id="cb28-120"><a href="#cb28-120"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-121"><a href="#cb28-121"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span>
<span id="cb28-122"><a href="#cb28-122"></a><span class="in">```</span></span>
<span id="cb28-123"><a href="#cb28-123"></a>The <span class="in">`...`</span> is called the ellipsis. It is a way for R to pass arguments </span>
<span id="cb28-124"><a href="#cb28-124"></a>along without the function having to name them explicitly. The ellipsis </span>
<span id="cb28-125"><a href="#cb28-125"></a>will be treated in more detail in future courses.</span>
<span id="cb28-126"><a href="#cb28-126"></a></span>
<span id="cb28-127"><a href="#cb28-127"></a>For the remainder of this exercise, just work with the second usage of </span>
<span id="cb28-128"><a href="#cb28-128"></a>the mean function. Notice that both trim and na.rm have default values. </span>
<span id="cb28-129"><a href="#cb28-129"></a>This makes them *optional arguments*.</span>
<span id="cb28-130"><a href="#cb28-130"></a></span>
<span id="cb28-131"><a href="#cb28-131"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-132"><a href="#cb28-132"></a></span>
<span id="cb28-133"><a href="#cb28-133"></a><span class="ss">- </span>Calculate the mean of the element-wise sum of <span class="in">`linkedin`</span> and <span class="in">`facebook`</span></span>
<span id="cb28-134"><a href="#cb28-134"></a>and store the result in a variable avg_sum.</span>
<span id="cb28-135"><a href="#cb28-135"></a><span class="ss">- </span>Calculate the mean once more, but this time set the <span class="in">`trim`</span> argument </span>
<span id="cb28-136"><a href="#cb28-136"></a>equal to 0.2 and assign the result to <span class="in">`avg_sum_trimmed`</span>.</span>
<span id="cb28-137"><a href="#cb28-137"></a><span class="ss">- </span>Print out both <span class="in">`avg_sum`</span> and <span class="in">`avg_sum_trimmed`</span>; can you spot the</span>
<span id="cb28-138"><a href="#cb28-138"></a>difference?</span>
<span id="cb28-139"><a href="#cb28-139"></a></span>
<span id="cb28-140"><a href="#cb28-140"></a><span class="in">```{.r filename="ex_023.R"}</span></span>
<span id="cb28-141"><a href="#cb28-141"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb28-142"><a href="#cb28-142"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb28-143"><a href="#cb28-143"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb28-144"><a href="#cb28-144"></a></span>
<span id="cb28-145"><a href="#cb28-145"></a><span class="co"># Calculate the mean of the sum</span></span>
<span id="cb28-146"><a href="#cb28-146"></a>avg_sum <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook)</span>
<span id="cb28-147"><a href="#cb28-147"></a></span>
<span id="cb28-148"><a href="#cb28-148"></a><span class="co"># Calculate the trimmed mean of the sum</span></span>
<span id="cb28-149"><a href="#cb28-149"></a></span>
<span id="cb28-150"><a href="#cb28-150"></a>avg_sum_trimmed <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook, <span class="at">trim =</span> <span class="fl">0.2</span>)</span>
<span id="cb28-151"><a href="#cb28-151"></a><span class="co"># Inspect both new variables</span></span>
<span id="cb28-152"><a href="#cb28-152"></a><span class="fu">print</span>(avg_sum)</span>
<span id="cb28-153"><a href="#cb28-153"></a><span class="fu">print</span>(avg_sum_trimmed)</span>
<span id="cb28-154"><a href="#cb28-154"></a><span class="in">```</span> </span>
<span id="cb28-155"><a href="#cb28-155"></a></span>
<span id="cb28-156"><a href="#cb28-156"></a><span class="fu">## Use a function (3)</span></span>
<span id="cb28-157"><a href="#cb28-157"></a></span>
<span id="cb28-158"><a href="#cb28-158"></a>In the video, Filip guided you through the example of specifying </span>
<span id="cb28-159"><a href="#cb28-159"></a>arguments of the <span class="in">`sd()`</span> function. The <span class="in">`sd()`</span> function has an optional </span>
<span id="cb28-160"><a href="#cb28-160"></a>argument, <span class="in">`na.rm`</span> that specified whether or not to remove missing values </span>
<span id="cb28-161"><a href="#cb28-161"></a>from the input vector before calculating the standard deviation.</span>
<span id="cb28-162"><a href="#cb28-162"></a></span>
<span id="cb28-163"><a href="#cb28-163"></a>If you've had a good look at the documentation, you'll know by now that </span>
<span id="cb28-164"><a href="#cb28-164"></a>the <span class="in">`mean()`</span> function also has this argument, <span class="in">`na.rm`</span>, and it does the </span>
<span id="cb28-165"><a href="#cb28-165"></a>exact same thing. By default, it is set to <span class="in">`FALSE`</span>, as the Usage of the </span>
<span id="cb28-166"><a href="#cb28-166"></a>default S3 method shows:</span>
<span id="cb28-167"><a href="#cb28-167"></a></span>
<span id="cb28-168"><a href="#cb28-168"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-169"><a href="#cb28-169"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span>
<span id="cb28-170"><a href="#cb28-170"></a><span class="in">```</span></span>
<span id="cb28-171"><a href="#cb28-171"></a></span>
<span id="cb28-172"><a href="#cb28-172"></a>Let's see what happens if your vectors <span class="in">`linkedin`</span> and <span class="in">`facebook`</span> contain </span>
<span id="cb28-173"><a href="#cb28-173"></a>missing values (<span class="in">`NA`</span>).</span>
<span id="cb28-174"><a href="#cb28-174"></a></span>
<span id="cb28-175"><a href="#cb28-175"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-176"><a href="#cb28-176"></a></span>
<span id="cb28-177"><a href="#cb28-177"></a><span class="ss">- </span>Calculate the average number of LinkedIn profile views, without </span>
<span id="cb28-178"><a href="#cb28-178"></a>specifying any optional arguments. Simply print the result to the </span>
<span id="cb28-179"><a href="#cb28-179"></a>console.</span>
<span id="cb28-180"><a href="#cb28-180"></a><span class="ss">- </span>Calculate the average number of LinkedIn profile views, but this time </span>
<span id="cb28-181"><a href="#cb28-181"></a>tell R to strip missing values from the input vector.</span>
<span id="cb28-182"><a href="#cb28-182"></a></span>
<span id="cb28-183"><a href="#cb28-183"></a><span class="in">```{.r filename="ex_024.R"}</span></span>
<span id="cb28-184"><a href="#cb28-184"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb28-185"><a href="#cb28-185"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb28-186"><a href="#cb28-186"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb28-187"><a href="#cb28-187"></a></span>
<span id="cb28-188"><a href="#cb28-188"></a><span class="co"># Basic average of linkedin</span></span>
<span id="cb28-189"><a href="#cb28-189"></a></span>
<span id="cb28-190"><a href="#cb28-190"></a><span class="fu">mean</span>(linkedin)</span>
<span id="cb28-191"><a href="#cb28-191"></a><span class="co"># Advanced average of linkedin</span></span>
<span id="cb28-192"><a href="#cb28-192"></a><span class="fu">mean</span>(linkedin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-193"><a href="#cb28-193"></a><span class="in">```</span></span>
<span id="cb28-194"><a href="#cb28-194"></a><span class="fu">## Functions inside functions</span></span>
<span id="cb28-195"><a href="#cb28-195"></a></span>
<span id="cb28-196"><a href="#cb28-196"></a>You already know that R functions return objects that you can then use </span>
<span id="cb28-197"><a href="#cb28-197"></a>somewhere else. This makes it easy to use functions inside functions, </span>
<span id="cb28-198"><a href="#cb28-198"></a>as you've seen before:</span>
<span id="cb28-199"><a href="#cb28-199"></a></span>
<span id="cb28-200"><a href="#cb28-200"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-201"><a href="#cb28-201"></a>speed <span class="ot">&lt;-</span> <span class="dv">31</span></span>
<span id="cb28-202"><a href="#cb28-202"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Your speed is"</span>, speed))</span>
<span id="cb28-203"><a href="#cb28-203"></a><span class="in">```</span></span>
<span id="cb28-204"><a href="#cb28-204"></a>Notice that both the <span class="in">`print()`</span> and <span class="in">`paste()`</span> functions use the ellipsis </span>
<span id="cb28-205"><a href="#cb28-205"></a><span class="ss">- </span><span class="in">`...`</span> - as an argument. Can you figure out how they're used?</span>
<span id="cb28-206"><a href="#cb28-206"></a></span>
<span id="cb28-207"><a href="#cb28-207"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-208"><a href="#cb28-208"></a></span>
<span id="cb28-209"><a href="#cb28-209"></a>Use <span class="in">`abs()`</span> on <span class="in">`linkedin - facebook`</span> to get the absolute differences</span>
<span id="cb28-210"><a href="#cb28-210"></a>between the daily LinkedIn and Facebook profile views. Place the call to </span>
<span id="cb28-211"><a href="#cb28-211"></a><span class="in">`abs()`</span> inside <span class="in">`mean()`</span> to calculate the Mean Absolute Deviation. In the </span>
<span id="cb28-212"><a href="#cb28-212"></a><span class="in">`mean()`</span> call, make sure to specify <span class="in">`na.rm`</span> to treat missing values</span>
<span id="cb28-213"><a href="#cb28-213"></a>correctly!</span>
<span id="cb28-214"><a href="#cb28-214"></a></span>
<span id="cb28-215"><a href="#cb28-215"></a><span class="in">```{.r filename="ex_025.R"}</span></span>
<span id="cb28-216"><a href="#cb28-216"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb28-217"><a href="#cb28-217"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb28-218"><a href="#cb28-218"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb28-219"><a href="#cb28-219"></a></span>
<span id="cb28-220"><a href="#cb28-220"></a><span class="co"># Calculate the mean absolute deviation</span></span>
<span id="cb28-221"><a href="#cb28-221"></a><span class="fu">mean</span>(<span class="fu">abs</span>(linkedin <span class="sc">-</span> facebook), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)    </span>
<span id="cb28-222"><a href="#cb28-222"></a><span class="in">```</span> </span>
<span id="cb28-223"><a href="#cb28-223"></a><span class="fu">## Write your own function</span></span>
<span id="cb28-224"><a href="#cb28-224"></a>Wow, things are getting serious… you're about to write your own </span>
<span id="cb28-225"><a href="#cb28-225"></a>function! Before you have a go at it, have a look at the following </span>
<span id="cb28-226"><a href="#cb28-226"></a>function template:</span>
<span id="cb28-227"><a href="#cb28-227"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-228"><a href="#cb28-228"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2) {</span>
<span id="cb28-229"><a href="#cb28-229"></a>body</span>
<span id="cb28-230"><a href="#cb28-230"></a>}</span>
<span id="cb28-231"><a href="#cb28-231"></a><span class="in">```</span></span>
<span id="cb28-232"><a href="#cb28-232"></a>Notice that this recipe uses the assignment operator (<span class="in">`&lt;-`</span>)</span>
<span id="cb28-233"><a href="#cb28-233"></a>just as if you were assigning a vector to a variable for example. This </span>
<span id="cb28-234"><a href="#cb28-234"></a>is not a coincidence. Creating a function in R basically is the </span>
<span id="cb28-235"><a href="#cb28-235"></a>assignment of a function object to a variable! In the recipe above, </span>
<span id="cb28-236"><a href="#cb28-236"></a>you're creating a new R variable my_fun, that becomes available in the </span>
<span id="cb28-237"><a href="#cb28-237"></a>workspace as soon as you execute the definition. From then on, you can </span>
<span id="cb28-238"><a href="#cb28-238"></a>use the my_fun as a function.</span>
<span id="cb28-239"><a href="#cb28-239"></a></span>
<span id="cb28-240"><a href="#cb28-240"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-241"><a href="#cb28-241"></a></span>
<span id="cb28-242"><a href="#cb28-242"></a><span class="ss">- </span>Create a function <span class="in">`pow_two()`</span>: it takes one argument and returns that </span>
<span id="cb28-243"><a href="#cb28-243"></a>number squared (that number times itself).</span>
<span id="cb28-244"><a href="#cb28-244"></a><span class="ss">- </span>Call this newly defined function with 12 as input.</span>
<span id="cb28-245"><a href="#cb28-245"></a><span class="ss">- </span>Next, create a function <span class="in">`sum_abs()`</span>, that takes two arguments and </span>
<span id="cb28-246"><a href="#cb28-246"></a>returns the sum of the absolute values of both arguments.</span>
<span id="cb28-247"><a href="#cb28-247"></a><span class="ss">- </span>Finally, call the function <span class="in">`sum_abs()`</span> with arguments <span class="in">`-2`</span> and <span class="in">`3`</span> </span>
<span id="cb28-248"><a href="#cb28-248"></a>afterwards.</span>
<span id="cb28-249"><a href="#cb28-249"></a></span>
<span id="cb28-250"><a href="#cb28-250"></a><span class="in">```{.r filename=ex_026.R}</span></span>
<span id="cb28-251"><a href="#cb28-251"></a><span class="co"># Create a function pow_two()</span></span>
<span id="cb28-252"><a href="#cb28-252"></a></span>
<span id="cb28-253"><a href="#cb28-253"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb28-254"><a href="#cb28-254"></a>  x <span class="sc">^</span> <span class="dv">2</span> </span>
<span id="cb28-255"><a href="#cb28-255"></a>}</span>
<span id="cb28-256"><a href="#cb28-256"></a></span>
<span id="cb28-257"><a href="#cb28-257"></a><span class="co"># Use the function</span></span>
<span id="cb28-258"><a href="#cb28-258"></a><span class="fu">pow_two</span>(<span class="dv">12</span>)</span>
<span id="cb28-259"><a href="#cb28-259"></a></span>
<span id="cb28-260"><a href="#cb28-260"></a><span class="co"># Create a function sum_abs()</span></span>
<span id="cb28-261"><a href="#cb28-261"></a></span>
<span id="cb28-262"><a href="#cb28-262"></a>sum_abs <span class="ot">&lt;-</span> <span class="cf">function</span>(x1, x2){</span>
<span id="cb28-263"><a href="#cb28-263"></a>  <span class="fu">abs</span>(x1 <span class="sc">+</span> x2)</span>
<span id="cb28-264"><a href="#cb28-264"></a>}</span>
<span id="cb28-265"><a href="#cb28-265"></a></span>
<span id="cb28-266"><a href="#cb28-266"></a><span class="co"># Use the function</span></span>
<span id="cb28-267"><a href="#cb28-267"></a><span class="fu">sum_abs</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb28-268"><a href="#cb28-268"></a><span class="in">```</span></span>
<span id="cb28-269"><a href="#cb28-269"></a><span class="fu">## Write your own function (2)</span></span>
<span id="cb28-270"><a href="#cb28-270"></a></span>
<span id="cb28-271"><a href="#cb28-271"></a>There are situations in which your function does not require an input. Let's say</span>
<span id="cb28-272"><a href="#cb28-272"></a>you want to write a function that gives us the random outcome of throwing a fair </span>
<span id="cb28-273"><a href="#cb28-273"></a>die:</span>
<span id="cb28-274"><a href="#cb28-274"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-275"><a href="#cb28-275"></a>throw_die <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb28-276"><a href="#cb28-276"></a>number <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb28-277"><a href="#cb28-277"></a>number</span>
<span id="cb28-278"><a href="#cb28-278"></a>}</span>
<span id="cb28-279"><a href="#cb28-279"></a></span>
<span id="cb28-280"><a href="#cb28-280"></a><span class="fu">throw_die</span>()</span>
<span id="cb28-281"><a href="#cb28-281"></a><span class="in">```</span></span>
<span id="cb28-282"><a href="#cb28-282"></a></span>
<span id="cb28-283"><a href="#cb28-283"></a>Up to you to code a function that doesn't take any arguments!</span>
<span id="cb28-284"><a href="#cb28-284"></a></span>
<span id="cb28-285"><a href="#cb28-285"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-286"><a href="#cb28-286"></a></span>
<span id="cb28-287"><a href="#cb28-287"></a><span class="ss">- </span>Define a function, <span class="in">`hello()`</span>. It prints out "Hi there!" and returns <span class="in">`TRUE`</span>. It </span>
<span id="cb28-288"><a href="#cb28-288"></a>has no arguments.</span>
<span id="cb28-289"><a href="#cb28-289"></a><span class="ss">- </span>Call the function <span class="in">`hello()`</span>, without specifying arguments of course.</span>
<span id="cb28-290"><a href="#cb28-290"></a></span>
<span id="cb28-291"><a href="#cb28-291"></a><span class="in">```{.r filename="ex_027.R"}</span></span>
<span id="cb28-292"><a href="#cb28-292"></a><span class="co"># Define the function hello()</span></span>
<span id="cb28-293"><a href="#cb28-293"></a>hello <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb28-294"><a href="#cb28-294"></a>  <span class="fu">print</span>(<span class="st">"Hi there!"</span>)</span>
<span id="cb28-295"><a href="#cb28-295"></a>  return <span class="cn">TRUE</span></span>
<span id="cb28-296"><a href="#cb28-296"></a>}</span>
<span id="cb28-297"><a href="#cb28-297"></a></span>
<span id="cb28-298"><a href="#cb28-298"></a><span class="co"># Call the function hello()</span></span>
<span id="cb28-299"><a href="#cb28-299"></a><span class="fu">hello</span>()</span>
<span id="cb28-300"><a href="#cb28-300"></a><span class="in">```</span></span>
<span id="cb28-301"><a href="#cb28-301"></a></span>
<span id="cb28-302"><a href="#cb28-302"></a><span class="fu">## Write your own function (3)</span></span>
<span id="cb28-303"><a href="#cb28-303"></a></span>
<span id="cb28-304"><a href="#cb28-304"></a>Do you still remember the difference between an argument with and without </span>
<span id="cb28-305"><a href="#cb28-305"></a>default values? The usage section in the sd() documentation shows the following </span>
<span id="cb28-306"><a href="#cb28-306"></a>information:</span>
<span id="cb28-307"><a href="#cb28-307"></a></span>
<span id="cb28-308"><a href="#cb28-308"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-309"><a href="#cb28-309"></a><span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb28-310"><a href="#cb28-310"></a><span class="in">```</span></span>
<span id="cb28-311"><a href="#cb28-311"></a></span>
<span id="cb28-312"><a href="#cb28-312"></a>This tells us that <span class="in">`x`</span> has to be defined for the <span class="in">`sd()`</span> function to be called </span>
<span id="cb28-313"><a href="#cb28-313"></a>correctly, however, <span class="in">`na.rm`</span> already has a default value. Not specifying this </span>
<span id="cb28-314"><a href="#cb28-314"></a>argument won't cause an error.</span>
<span id="cb28-315"><a href="#cb28-315"></a></span>
<span id="cb28-316"><a href="#cb28-316"></a>You can define default argument values in your own R functions as well. You can</span>
<span id="cb28-317"><a href="#cb28-317"></a>use the following recipe to do so:</span>
<span id="cb28-318"><a href="#cb28-318"></a></span>
<span id="cb28-319"><a href="#cb28-319"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-320"><a href="#cb28-320"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, <span class="at">arg2 =</span> val2) {</span>
<span id="cb28-321"><a href="#cb28-321"></a>body</span>
<span id="cb28-322"><a href="#cb28-322"></a>}</span>
<span id="cb28-323"><a href="#cb28-323"></a><span class="in">```</span></span>
<span id="cb28-324"><a href="#cb28-324"></a></span>
<span id="cb28-325"><a href="#cb28-325"></a>The editor on the right already includes an extended version of the <span class="in">`pow_two()`</span></span>
<span id="cb28-326"><a href="#cb28-326"></a>function from before. Can you finish it?</span>
<span id="cb28-327"><a href="#cb28-327"></a></span>
<span id="cb28-328"><a href="#cb28-328"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-329"><a href="#cb28-329"></a></span>
<span id="cb28-330"><a href="#cb28-330"></a><span class="ss">- </span>Add an optional argument, named <span class="in">`print_info`</span>, that is <span class="in">`TRUE`</span> by default.</span>
<span id="cb28-331"><a href="#cb28-331"></a><span class="ss">- </span>Wrap an if construct around the <span class="in">`print()`</span> function: this function should only </span>
<span id="cb28-332"><a href="#cb28-332"></a>be executed if <span class="in">`print_info`</span> is <span class="in">`TRUE`</span>.</span>
<span id="cb28-333"><a href="#cb28-333"></a><span class="ss">- </span>Feel free to experiment with the <span class="in">`pow_two()`</span> function you've just coded.</span>
<span id="cb28-334"><a href="#cb28-334"></a></span>
<span id="cb28-335"><a href="#cb28-335"></a><span class="in">```{.r filename=ex_028.R}</span></span>
<span id="cb28-336"><a href="#cb28-336"></a><span class="co"># Finish the pow_two() function</span></span>
<span id="cb28-337"><a href="#cb28-337"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">print_info =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb28-338"><a href="#cb28-338"></a>y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb28-339"><a href="#cb28-339"></a><span class="cf">if</span>(print_info){</span>
<span id="cb28-340"><a href="#cb28-340"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(x, <span class="st">"to the power two equals"</span>, y))</span>
<span id="cb28-341"><a href="#cb28-341"></a>}</span>
<span id="cb28-342"><a href="#cb28-342"></a><span class="fu">return</span>(y)</span>
<span id="cb28-343"><a href="#cb28-343"></a>}</span>
<span id="cb28-344"><a href="#cb28-344"></a><span class="in">```</span></span>
<span id="cb28-345"><a href="#cb28-345"></a><span class="fu">## Function scoping</span></span>
<span id="cb28-346"><a href="#cb28-346"></a>An issue that Filip did not discuss in the video is function scoping. It implies</span>
<span id="cb28-347"><a href="#cb28-347"></a>that variables that are defined inside a function are not accessible outside </span>
<span id="cb28-348"><a href="#cb28-348"></a>that function. Try running the following code and see if you understand the </span>
<span id="cb28-349"><a href="#cb28-349"></a>results:</span>
<span id="cb28-350"><a href="#cb28-350"></a></span>
<span id="cb28-351"><a href="#cb28-351"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-352"><a href="#cb28-352"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb28-353"><a href="#cb28-353"></a>y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb28-354"><a href="#cb28-354"></a><span class="fu">return</span>(y)</span>
<span id="cb28-355"><a href="#cb28-355"></a>}</span>
<span id="cb28-356"><a href="#cb28-356"></a><span class="fu">pow_two</span>(<span class="dv">4</span>)</span>
<span id="cb28-357"><a href="#cb28-357"></a>y</span>
<span id="cb28-358"><a href="#cb28-358"></a>x</span>
<span id="cb28-359"><a href="#cb28-359"></a><span class="in">```</span> </span>
<span id="cb28-360"><a href="#cb28-360"></a><span class="in">`y`</span> was defined inside the <span class="in">`pow_two()`</span> function and therefore it is not </span>
<span id="cb28-361"><a href="#cb28-361"></a>accessible outside of that function. This is also true for the function's </span>
<span id="cb28-362"><a href="#cb28-362"></a>arguments of course - <span class="in">`x`</span> in this case.</span>
<span id="cb28-363"><a href="#cb28-363"></a></span>
<span id="cb28-364"><a href="#cb28-364"></a>Which statement is correct about the following chunk of code? </span>
<span id="cb28-365"><a href="#cb28-365"></a>The function <span class="in">`two_dice()`</span> is already available in the workspace.</span>
<span id="cb28-366"><a href="#cb28-366"></a></span>
<span id="cb28-367"><a href="#cb28-367"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-368"><a href="#cb28-368"></a>two_dice <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb28-369"><a href="#cb28-369"></a>possibilities <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb28-370"><a href="#cb28-370"></a>dice1 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb28-371"><a href="#cb28-371"></a>dice2 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb28-372"><a href="#cb28-372"></a>dice1 <span class="sc">+</span> dice2</span>
<span id="cb28-373"><a href="#cb28-373"></a>}</span>
<span id="cb28-374"><a href="#cb28-374"></a><span class="in">```</span> </span>
<span id="cb28-375"><a href="#cb28-375"></a><span class="fu">### Instructions `50 XP` {.unnumbered}</span></span>
<span id="cb28-376"><a href="#cb28-376"></a></span>
<span id="cb28-377"><a href="#cb28-377"></a><span class="ss">+ </span>*Whatever the way of calling the two_dice() function, R won't have access to </span>
<span id="cb28-378"><a href="#cb28-378"></a>dice1 and dice2 outside the function.*</span>
<span id="cb28-379"><a href="#cb28-379"></a></span>
<span id="cb28-380"><a href="#cb28-380"></a><span class="fu">## R passes arguments by value</span></span>
<span id="cb28-381"><a href="#cb28-381"></a></span>
<span id="cb28-382"><a href="#cb28-382"></a>The title gives it away already: R passes arguments by value. What does this </span>
<span id="cb28-383"><a href="#cb28-383"></a>mean? Simply put, it means that an R function cannot change the variable that you </span>
<span id="cb28-384"><a href="#cb28-384"></a>input to that function. Let's look at a simple example (try it in the console):</span>
<span id="cb28-385"><a href="#cb28-385"></a></span>
<span id="cb28-386"><a href="#cb28-386"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-387"><a href="#cb28-387"></a>triple <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb28-388"><a href="#cb28-388"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span>x</span>
<span id="cb28-389"><a href="#cb28-389"></a>x</span>
<span id="cb28-390"><a href="#cb28-390"></a>}</span>
<span id="cb28-391"><a href="#cb28-391"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb28-392"><a href="#cb28-392"></a><span class="fu">triple</span>(a)</span>
<span id="cb28-393"><a href="#cb28-393"></a>a</span>
<span id="cb28-394"><a href="#cb28-394"></a><span class="in">```</span></span>
<span id="cb28-395"><a href="#cb28-395"></a></span>
<span id="cb28-396"><a href="#cb28-396"></a>Inside the <span class="in">`triple()`</span> function, the argument <span class="in">`x`</span> gets overwritten with its value </span>
<span id="cb28-397"><a href="#cb28-397"></a>times three. Afterwards this new <span class="in">`x`</span> is returned. If you call this function with </span>
<span id="cb28-398"><a href="#cb28-398"></a>a variable <span class="in">`a`</span> set equal to 5, you obtain 15. But did the value of  <span class="in">`a`</span> change? </span>
<span id="cb28-399"><a href="#cb28-399"></a>If R were to pass <span class="in">`a`</span> to <span class="in">`triple()`</span> by reference, the override of the <span class="in">`x`</span> inside </span>
<span id="cb28-400"><a href="#cb28-400"></a>the R passes by value, so the R objects you pass to a function can never change </span>
<span id="cb28-401"><a href="#cb28-401"></a>unless you do an explicit assignment. a remains equal to 5, even after calling </span>
<span id="cb28-402"><a href="#cb28-402"></a><span class="in">`triple(a)`</span>.</span>
<span id="cb28-403"><a href="#cb28-403"></a></span>
<span id="cb28-404"><a href="#cb28-404"></a>Can you tell which one of the following statements is false about the following </span>
<span id="cb28-405"><a href="#cb28-405"></a>piece of code?</span>
<span id="cb28-406"><a href="#cb28-406"></a></span>
<span id="cb28-407"><a href="#cb28-407"></a></span>
<span id="cb28-408"><a href="#cb28-408"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-409"><a href="#cb28-409"></a>increment <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc =</span> <span class="dv">1</span>) {</span>
<span id="cb28-410"><a href="#cb28-410"></a>x <span class="ot">&lt;-</span> x <span class="sc">+</span> inc</span>
<span id="cb28-411"><a href="#cb28-411"></a>x</span>
<span id="cb28-412"><a href="#cb28-412"></a>}</span>
<span id="cb28-413"><a href="#cb28-413"></a>count <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb28-414"><a href="#cb28-414"></a>a <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span>
<span id="cb28-415"><a href="#cb28-415"></a>b <span class="ot">&lt;-</span> <span class="fu">increment</span>(count)</span>
<span id="cb28-416"><a href="#cb28-416"></a>count <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span>
<span id="cb28-417"><a href="#cb28-417"></a><span class="in">```</span></span>
<span id="cb28-418"><a href="#cb28-418"></a><span class="fu">### Instructions `50 XP` {.unnumbered}</span></span>
<span id="cb28-419"><a href="#cb28-419"></a></span>
<span id="cb28-420"><a href="#cb28-420"></a><span class="ss">+ </span>*In the end, count will equal 10.*</span>
<span id="cb28-421"><a href="#cb28-421"></a></span>
<span id="cb28-422"><a href="#cb28-422"></a><span class="fu">## R you functional?</span></span>
<span id="cb28-423"><a href="#cb28-423"></a>Now that you've acquired some skills in defining functions with different types </span>
<span id="cb28-424"><a href="#cb28-424"></a>of arguments and return values, you should try to create more advanced </span>
<span id="cb28-425"><a href="#cb28-425"></a>functions. As you've noticed in the previous exercises, it's perfectly possible </span>
<span id="cb28-426"><a href="#cb28-426"></a>to add control-flow constructs, loops and even other functions to your function </span>
<span id="cb28-427"><a href="#cb28-427"></a>body.</span>
<span id="cb28-428"><a href="#cb28-428"></a></span>
<span id="cb28-429"><a href="#cb28-429"></a>Remember our social media example? The vectors <span class="in">`linkedin`</span> and <span class="in">`facebook`</span> are </span>
<span id="cb28-430"><a href="#cb28-430"></a>already defined in the workspace so you can get your hands dirty straight away. </span>
<span id="cb28-431"><a href="#cb28-431"></a>As a first step, you will be writing a function that can interpret a single </span>
<span id="cb28-432"><a href="#cb28-432"></a>value of this vector. In the next exercise, you will write another function that </span>
<span id="cb28-433"><a href="#cb28-433"></a>can handle an entire vector at once.</span>
<span id="cb28-434"><a href="#cb28-434"></a></span>
<span id="cb28-435"><a href="#cb28-435"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-436"><a href="#cb28-436"></a></span>
<span id="cb28-437"><a href="#cb28-437"></a><span class="ss">- </span>Finish the function definition for <span class="in">`interpret()`</span>, that interprets the </span>
<span id="cb28-438"><a href="#cb28-438"></a>number of profile views on a single day:</span>
<span id="cb28-439"><a href="#cb28-439"></a><span class="ss">- </span>The function takes one argument, num_views.</span>
<span id="cb28-440"><a href="#cb28-440"></a><span class="ss">- </span>If <span class="in">`num_views`</span> is greater than 15, the function prints out </span>
<span id="cb28-441"><a href="#cb28-441"></a>"You're popular!" to the console and returns <span class="in">`num_views`</span>.</span>
<span id="cb28-442"><a href="#cb28-442"></a><span class="ss">- </span>Else, the function prints out "Try to be more visible!" and returns 0.</span>
<span id="cb28-443"><a href="#cb28-443"></a>Finally, call the interpret() function twice: on the first value of the linkedin </span>
<span id="cb28-444"><a href="#cb28-444"></a>vector and on the second element of the facebook vector.</span>
<span id="cb28-445"><a href="#cb28-445"></a></span>
<span id="cb28-446"><a href="#cb28-446"></a><span class="in">```{.r filename="ex_029.R"}</span></span>
<span id="cb28-447"><a href="#cb28-447"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb28-448"><a href="#cb28-448"></a></span>
<span id="cb28-449"><a href="#cb28-449"></a><span class="co"># Define the interpret function</span></span>
<span id="cb28-450"><a href="#cb28-450"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb28-451"><a href="#cb28-451"></a><span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb28-452"><a href="#cb28-452"></a>  <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb28-453"><a href="#cb28-453"></a>  <span class="fu">return</span>(num_views)</span>
<span id="cb28-454"><a href="#cb28-454"></a>} <span class="cf">else</span> {</span>
<span id="cb28-455"><a href="#cb28-455"></a>  <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb28-456"><a href="#cb28-456"></a>  <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb28-457"><a href="#cb28-457"></a>}</span>
<span id="cb28-458"><a href="#cb28-458"></a>}</span>
<span id="cb28-459"><a href="#cb28-459"></a></span>
<span id="cb28-460"><a href="#cb28-460"></a><span class="co"># Call the interpret function twice</span></span>
<span id="cb28-461"><a href="#cb28-461"></a><span class="fu">interpret</span>(linkedin[<span class="dv">1</span>])</span>
<span id="cb28-462"><a href="#cb28-462"></a><span class="fu">interpret</span>(facebook[<span class="dv">1</span>])</span>
<span id="cb28-463"><a href="#cb28-463"></a><span class="in">```</span></span>
<span id="cb28-464"><a href="#cb28-464"></a><span class="fu">## R you functional? (2)</span></span>
<span id="cb28-465"><a href="#cb28-465"></a>A possible implementation of the <span class="in">`interpret()`</span> function has been provided for </span>
<span id="cb28-466"><a href="#cb28-466"></a>you.  In this exercise you'll be writing another function that will use the </span>
<span id="cb28-467"><a href="#cb28-467"></a><span class="in">`interpret()`</span> function to interpret all the data from your daily profile views </span>
<span id="cb28-468"><a href="#cb28-468"></a>inside a vector. Furthermore, your function will return the sum of views on </span>
<span id="cb28-469"><a href="#cb28-469"></a>popular days, if asked for. A <span class="in">`for`</span> loop is ideal for iterating over all the </span>
<span id="cb28-470"><a href="#cb28-470"></a>vector elements. The ability to return the sum of views on popular days is </span>
<span id="cb28-471"><a href="#cb28-471"></a>something you can code through a function argument with a default value.</span>
<span id="cb28-472"><a href="#cb28-472"></a></span>
<span id="cb28-473"><a href="#cb28-473"></a><span class="fu">### Instructions `100 XP`</span></span>
<span id="cb28-474"><a href="#cb28-474"></a></span>
<span id="cb28-475"><a href="#cb28-475"></a>Finish the template for the <span class="in">`interpret_all()`</span> function:</span>
<span id="cb28-476"><a href="#cb28-476"></a></span>
<span id="cb28-477"><a href="#cb28-477"></a><span class="ss">- </span>Make return_sum an optional argument, that is <span class="in">`TRUE`</span> by default.</span>
<span id="cb28-478"><a href="#cb28-478"></a><span class="ss">- </span>Inside the for loop, iterate over all views: on every iteration, add the </span>
<span id="cb28-479"><a href="#cb28-479"></a>result of <span class="in">`interpret(v)`</span> to count. Remember that <span class="in">`interpret(v)`</span> returns v for </span>
<span id="cb28-480"><a href="#cb28-480"></a>popular days, and 0 otherwise. At the same time, <span class="in">`interpret(v)`</span> will also do </span>
<span id="cb28-481"><a href="#cb28-481"></a>some printouts.</span>
<span id="cb28-482"><a href="#cb28-482"></a><span class="ss">- </span>Finish the if construct:</span>
<span id="cb28-483"><a href="#cb28-483"></a><span class="ss">- </span>If return_sum is TRUE, return count.</span>
<span id="cb28-484"><a href="#cb28-484"></a><span class="ss">- </span>Else, return NULL.</span>
<span id="cb28-485"><a href="#cb28-485"></a></span>
<span id="cb28-486"><a href="#cb28-486"></a>Call this newly defined function on both linkedin and facebook.</span>
<span id="cb28-487"><a href="#cb28-487"></a></span>
<span id="cb28-488"><a href="#cb28-488"></a><span class="in">```{.r filename="ex_029.R"}</span></span>
<span id="cb28-489"><a href="#cb28-489"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb28-490"><a href="#cb28-490"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb28-491"><a href="#cb28-491"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb28-492"><a href="#cb28-492"></a></span>
<span id="cb28-493"><a href="#cb28-493"></a><span class="co"># The interpret() can be used inside interpret_all()</span></span>
<span id="cb28-494"><a href="#cb28-494"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb28-495"><a href="#cb28-495"></a><span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb28-496"><a href="#cb28-496"></a>  <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb28-497"><a href="#cb28-497"></a>  <span class="fu">return</span>(num_views)</span>
<span id="cb28-498"><a href="#cb28-498"></a>} <span class="cf">else</span> {</span>
<span id="cb28-499"><a href="#cb28-499"></a>  <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb28-500"><a href="#cb28-500"></a>  <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb28-501"><a href="#cb28-501"></a>}</span>
<span id="cb28-502"><a href="#cb28-502"></a>}</span>
<span id="cb28-503"><a href="#cb28-503"></a></span>
<span id="cb28-504"><a href="#cb28-504"></a><span class="co"># Define the interpret_all() function</span></span>
<span id="cb28-505"><a href="#cb28-505"></a><span class="co"># views: vector with data to interpret</span></span>
<span id="cb28-506"><a href="#cb28-506"></a><span class="co"># return_sum: return total number of views on popular days?</span></span>
<span id="cb28-507"><a href="#cb28-507"></a>interpret_all <span class="ot">&lt;-</span> <span class="cf">function</span>(views, <span class="at">return_sum =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb28-508"><a href="#cb28-508"></a>count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb28-509"><a href="#cb28-509"></a></span>
<span id="cb28-510"><a href="#cb28-510"></a><span class="cf">for</span> (v <span class="cf">in</span> views) {</span>
<span id="cb28-511"><a href="#cb28-511"></a>  count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="fu">interpret</span>(v)</span>
<span id="cb28-512"><a href="#cb28-512"></a>}</span>
<span id="cb28-513"><a href="#cb28-513"></a></span>
<span id="cb28-514"><a href="#cb28-514"></a><span class="cf">if</span> (return_sum) {</span>
<span id="cb28-515"><a href="#cb28-515"></a>  <span class="fu">return</span> (count)</span>
<span id="cb28-516"><a href="#cb28-516"></a>} <span class="cf">else</span> {</span>
<span id="cb28-517"><a href="#cb28-517"></a>  <span class="fu">return</span> (<span class="cn">NULL</span>)</span>
<span id="cb28-518"><a href="#cb28-518"></a>}</span>
<span id="cb28-519"><a href="#cb28-519"></a>}</span>
<span id="cb28-520"><a href="#cb28-520"></a></span>
<span id="cb28-521"><a href="#cb28-521"></a><span class="co"># Call the interpret_all() function on both linkedin and facebook</span></span>
<span id="cb28-522"><a href="#cb28-522"></a></span>
<span id="cb28-523"><a href="#cb28-523"></a><span class="fu">interpret_all</span>(linkedin)</span>
<span id="cb28-524"><a href="#cb28-524"></a><span class="fu">interpret_all</span>(facebook)</span>
<span id="cb28-525"><a href="#cb28-525"></a><span class="in">```</span> </span>
<span id="cb28-526"><a href="#cb28-526"></a></span>
<span id="cb28-527"><a href="#cb28-527"></a><span class="fu">## Load an R Package</span></span>
<span id="cb28-528"><a href="#cb28-528"></a></span>
<span id="cb28-529"><a href="#cb28-529"></a>There are basically two extremely important functions when it comes down to R </span>
<span id="cb28-530"><a href="#cb28-530"></a>packages:</span>
<span id="cb28-531"><a href="#cb28-531"></a></span>
<span id="cb28-532"><a href="#cb28-532"></a><span class="ss">- </span><span class="in">`install.packages()`</span>, which as you can expect, installs a given package.</span>
<span id="cb28-533"><a href="#cb28-533"></a><span class="ss">- </span>library() which loads packages, i.e. attaches them to the search list on your</span>
<span id="cb28-534"><a href="#cb28-534"></a>R workspace. </span>
<span id="cb28-535"><a href="#cb28-535"></a></span>
<span id="cb28-536"><a href="#cb28-536"></a>To install packages, you need administrator privileges. This means </span>
<span id="cb28-537"><a href="#cb28-537"></a>that <span class="in">`install.packages()`</span> will thus not work in the DataCamp interface. However, </span>
<span id="cb28-538"><a href="#cb28-538"></a>almost all CRAN packages are installed on our servers. You can load them with</span>
<span id="cb28-539"><a href="#cb28-539"></a><span class="in">`library()`</span>.</span>
<span id="cb28-540"><a href="#cb28-540"></a></span>
<span id="cb28-541"><a href="#cb28-541"></a>In this exercise, you'll be learning how to load the <span class="in">`ggplot2`</span> package, </span>
<span id="cb28-542"><a href="#cb28-542"></a>a powerful package for data visualization. You'll use it to create a plot of two</span>
<span id="cb28-543"><a href="#cb28-543"></a>variables of the <span class="in">`mtcars`</span> data frame. The data has already been prepared for you</span>
<span id="cb28-544"><a href="#cb28-544"></a>in the workspace.</span>
<span id="cb28-545"><a href="#cb28-545"></a></span>
<span id="cb28-546"><a href="#cb28-546"></a>Before starting, execute the following commands in the console:</span>
<span id="cb28-547"><a href="#cb28-547"></a></span>
<span id="cb28-548"><a href="#cb28-548"></a><span class="ss">- </span>search(), to look at the currently attached packages and</span>
<span id="cb28-549"><a href="#cb28-549"></a><span class="ss">- </span>qplot(mtcars$wt, mtcars$hp), to build a plot of two variables of the mtcars </span>
<span id="cb28-550"><a href="#cb28-550"></a>data frame. An error should occur, because you haven't loaded the <span class="in">`ggplot2`</span> </span>
<span id="cb28-551"><a href="#cb28-551"></a>package yet!</span>
<span id="cb28-552"><a href="#cb28-552"></a></span>
<span id="cb28-553"><a href="#cb28-553"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb28-554"><a href="#cb28-554"></a></span>
<span id="cb28-555"><a href="#cb28-555"></a><span class="ss">- </span>To fix the error you saw in the console, load the <span class="in">`ggplot2`</span> package. </span>
<span id="cb28-556"><a href="#cb28-556"></a>Make sure you are loading (and not installing) the package!</span>
<span id="cb28-557"><a href="#cb28-557"></a><span class="ss">- </span>Now, retry calling the qplot() function with the same arguments.</span>
<span id="cb28-558"><a href="#cb28-558"></a><span class="ss">- </span>Finally, check out the currently attached packages again.</span>
<span id="cb28-559"><a href="#cb28-559"></a></span>
<span id="cb28-560"><a href="#cb28-560"></a><span class="in">```{.r filename="ex_030.R"}</span></span>
<span id="cb28-561"><a href="#cb28-561"></a><span class="co"># Load the ggplot2 package</span></span>
<span id="cb28-562"><a href="#cb28-562"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb28-563"><a href="#cb28-563"></a></span>
<span id="cb28-564"><a href="#cb28-564"></a><span class="co"># Retry the qplot() function</span></span>
<span id="cb28-565"><a href="#cb28-565"></a><span class="fu">qplot</span>(mtcars<span class="sc">$</span>wt, mtcars<span class="sc">$</span>hp)</span>
<span id="cb28-566"><a href="#cb28-566"></a></span>
<span id="cb28-567"><a href="#cb28-567"></a><span class="co"># Check out the currently attached packages again</span></span>
<span id="cb28-568"><a href="#cb28-568"></a><span class="fu">search</span>()</span>
<span id="cb28-569"><a href="#cb28-569"></a><span class="in">```</span></span>
<span id="cb28-570"><a href="#cb28-570"></a></span>
<span id="cb28-571"><a href="#cb28-571"></a><span class="fu">## Different ways to load a package</span></span>
<span id="cb28-572"><a href="#cb28-572"></a></span>
<span id="cb28-573"><a href="#cb28-573"></a>The <span class="in">`library()`</span> and <span class="in">`require()`</span> functions are not very picky when it comes down</span>
<span id="cb28-574"><a href="#cb28-574"></a>to argument types: both <span class="in">`library(rjson)`</span> and <span class="in">`library("rjson")`</span> work perfectly</span>
<span id="cb28-575"><a href="#cb28-575"></a>fine for loading a package.</span>
<span id="cb28-576"><a href="#cb28-576"></a></span>
<span id="cb28-577"><a href="#cb28-577"></a>Have a look at some more code chunks that (attempt to) load one or more </span>
<span id="cb28-578"><a href="#cb28-578"></a>packages:</span>
<span id="cb28-579"><a href="#cb28-579"></a></span>
<span id="cb28-580"><a href="#cb28-580"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb28-581"><a href="#cb28-581"></a><span class="co"># Chunk 1</span></span>
<span id="cb28-582"><a href="#cb28-582"></a><span class="fu">library</span>(data.table)</span>
<span id="cb28-583"><a href="#cb28-583"></a><span class="fu">require</span>(rjson)</span>
<span id="cb28-584"><a href="#cb28-584"></a></span>
<span id="cb28-585"><a href="#cb28-585"></a><span class="co"># Chunk 2</span></span>
<span id="cb28-586"><a href="#cb28-586"></a><span class="fu">library</span>(<span class="st">"data.table"</span>)</span>
<span id="cb28-587"><a href="#cb28-587"></a><span class="fu">require</span>(rjson)</span>
<span id="cb28-588"><a href="#cb28-588"></a></span>
<span id="cb28-589"><a href="#cb28-589"></a><span class="co"># Chunk 3</span></span>
<span id="cb28-590"><a href="#cb28-590"></a><span class="fu">library</span>(data.table)</span>
<span id="cb28-591"><a href="#cb28-591"></a><span class="fu">require</span>(rjson, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-592"><a href="#cb28-592"></a></span>
<span id="cb28-593"><a href="#cb28-593"></a><span class="co"># Chunk 4</span></span>
<span id="cb28-594"><a href="#cb28-594"></a><span class="fu">library</span>(<span class="fu">c</span>(<span class="st">"data.table"</span>, <span class="st">"rjson"</span>))</span>
<span id="cb28-595"><a href="#cb28-595"></a><span class="in">```</span></span>
<span id="cb28-596"><a href="#cb28-596"></a>Select the option that lists all of the chunks that do not generate an error.</span>
<span id="cb28-597"><a href="#cb28-597"></a>The console is yours to experiment in.</span>
<span id="cb28-598"><a href="#cb28-598"></a></span>
<span id="cb28-599"><a href="#cb28-599"></a><span class="fu">### Instructions `50 XP` {.unnumbered}</span></span>
<span id="cb28-600"><a href="#cb28-600"></a></span>
<span id="cb28-601"><a href="#cb28-601"></a>*Possible Answers: (1) and (2)*</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>