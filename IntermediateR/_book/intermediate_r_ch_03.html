<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>IntermediateR - 3&nbsp; Functions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./summary.html" rel="next">
<link href="./intermediate_r_ch_02.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Functions</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">IntermediateR</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intermediate_r_ch_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Conditionals and Control Flow</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intermediate_r_ch_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Loops</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intermediate_r_ch_03.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Functions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#function-documentation" id="toc-function-documentation" class="nav-link active" data-scroll-target="#function-documentation"><span class="toc-section-number">3.1</span>  Function documentation</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp" id="toc-instructions-100-xp" class="nav-link" data-scroll-target="#instructions-100-xp">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#use-a-function" id="toc-use-a-function" class="nav-link" data-scroll-target="#use-a-function"><span class="toc-section-number">3.2</span>  Use a function</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-1" id="toc-instructions-100-xp-1" class="nav-link" data-scroll-target="#instructions-100-xp-1">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#use-a-function-2" id="toc-use-a-function-2" class="nav-link" data-scroll-target="#use-a-function-2"><span class="toc-section-number">3.3</span>  Use a function (2)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-2" id="toc-instructions-100-xp-2" class="nav-link" data-scroll-target="#instructions-100-xp-2">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#use-a-function-3" id="toc-use-a-function-3" class="nav-link" data-scroll-target="#use-a-function-3"><span class="toc-section-number">3.4</span>  Use a function (3)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-3" id="toc-instructions-100-xp-3" class="nav-link" data-scroll-target="#instructions-100-xp-3">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#functions-inside-functions" id="toc-functions-inside-functions" class="nav-link" data-scroll-target="#functions-inside-functions"><span class="toc-section-number">3.5</span>  Functions inside functions</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-4" id="toc-instructions-100-xp-4" class="nav-link" data-scroll-target="#instructions-100-xp-4">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#write-your-own-function" id="toc-write-your-own-function" class="nav-link" data-scroll-target="#write-your-own-function"><span class="toc-section-number">3.6</span>  Write your own function</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-5" id="toc-instructions-100-xp-5" class="nav-link" data-scroll-target="#instructions-100-xp-5">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#write-your-own-function-2" id="toc-write-your-own-function-2" class="nav-link" data-scroll-target="#write-your-own-function-2"><span class="toc-section-number">3.7</span>  Write your own function (2)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-6" id="toc-instructions-100-xp-6" class="nav-link" data-scroll-target="#instructions-100-xp-6">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#write-your-own-function-3" id="toc-write-your-own-function-3" class="nav-link" data-scroll-target="#write-your-own-function-3"><span class="toc-section-number">3.8</span>  Write your own function (3)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-7" id="toc-instructions-100-xp-7" class="nav-link" data-scroll-target="#instructions-100-xp-7">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#function-scoping" id="toc-function-scoping" class="nav-link" data-scroll-target="#function-scoping"><span class="toc-section-number">3.9</span>  Function scoping</a>
  <ul class="collapse">
  <li><a href="#instructions-50-xp" id="toc-instructions-50-xp" class="nav-link" data-scroll-target="#instructions-50-xp">Instructions <code>50 XP</code></a></li>
  </ul></li>
  <li><a href="#r-passes-arguments-by-value" id="toc-r-passes-arguments-by-value" class="nav-link" data-scroll-target="#r-passes-arguments-by-value"><span class="toc-section-number">3.10</span>  R passes arguments by value</a>
  <ul class="collapse">
  <li><a href="#instructions-50-xp-1" id="toc-instructions-50-xp-1" class="nav-link" data-scroll-target="#instructions-50-xp-1">Instructions <code>50 XP</code></a></li>
  </ul></li>
  <li><a href="#r-you-functional" id="toc-r-you-functional" class="nav-link" data-scroll-target="#r-you-functional"><span class="toc-section-number">3.11</span>  R you functional?</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-8" id="toc-instructions-100-xp-8" class="nav-link" data-scroll-target="#instructions-100-xp-8">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#r-you-functional-2" id="toc-r-you-functional-2" class="nav-link" data-scroll-target="#r-you-functional-2"><span class="toc-section-number">3.12</span>  R you functional? (2)</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-9" id="toc-instructions-100-xp-9" class="nav-link" data-scroll-target="#instructions-100-xp-9"><span class="toc-section-number">3.12.1</span>  Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#load-an-r-package" id="toc-load-an-r-package" class="nav-link" data-scroll-target="#load-an-r-package"><span class="toc-section-number">3.13</span>  Load an R Package</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-10" id="toc-instructions-100-xp-10" class="nav-link" data-scroll-target="#instructions-100-xp-10">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#different-ways-to-load-a-package" id="toc-different-ways-to-load-a-package" class="nav-link" data-scroll-target="#different-ways-to-load-a-package"><span class="toc-section-number">3.14</span>  Different ways to load a package</a>
  <ul class="collapse">
  <li><a href="#instructions-50-xp-2" id="toc-instructions-50-xp-2" class="nav-link" data-scroll-target="#instructions-50-xp-2">Instructions <code>50 XP</code></a></li>
  </ul></li>
  <li><a href="#use-lapply-with-a-built-in-r-function" id="toc-use-lapply-with-a-built-in-r-function" class="nav-link" data-scroll-target="#use-lapply-with-a-built-in-r-function"><span class="toc-section-number">3.15</span>  Use lapply with a built-in R function</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-11" id="toc-instructions-100-xp-11" class="nav-link" data-scroll-target="#instructions-100-xp-11">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#use-lapply-with-your-own-function" id="toc-use-lapply-with-your-own-function" class="nav-link" data-scroll-target="#use-lapply-with-your-own-function"><span class="toc-section-number">3.16</span>  Use lapply with your own function</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-12" id="toc-instructions-100-xp-12" class="nav-link" data-scroll-target="#instructions-100-xp-12">Instructions 100 XP</a></li>
  <li><a href="#instructions-100-xp-13" id="toc-instructions-100-xp-13" class="nav-link" data-scroll-target="#instructions-100-xp-13">Instructions <code>100 XP</code></a></li>
  <li><a href="#instructions-100-xp-14" id="toc-instructions-100-xp-14" class="nav-link" data-scroll-target="#instructions-100-xp-14">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#apply-functions-that-return-null" id="toc-apply-functions-that-return-null" class="nav-link" data-scroll-target="#apply-functions-that-return-null"><span class="toc-section-number">3.17</span>  Apply functions that return NULL</a></li>
  <li><a href="#how-to-use-sapply" id="toc-how-to-use-sapply" class="nav-link" data-scroll-target="#how-to-use-sapply"><span class="toc-section-number">3.18</span>  How to use sapply</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-15" id="toc-instructions-100-xp-15" class="nav-link" data-scroll-target="#instructions-100-xp-15"><span class="toc-section-number">3.18.1</span>  Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#sapply-with-your-own-function" id="toc-sapply-with-your-own-function" class="nav-link" data-scroll-target="#sapply-with-your-own-function"><span class="toc-section-number">3.19</span>  sapply with your own function</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-16" id="toc-instructions-100-xp-16" class="nav-link" data-scroll-target="#instructions-100-xp-16">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#sapply-with-function-returning-vector" id="toc-sapply-with-function-returning-vector" class="nav-link" data-scroll-target="#sapply-with-function-returning-vector"><span class="toc-section-number">3.20</span>  sapply with function returning vector</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-17" id="toc-instructions-100-xp-17" class="nav-link" data-scroll-target="#instructions-100-xp-17">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#sapply-cant-simplify-now-what" id="toc-sapply-cant-simplify-now-what" class="nav-link" data-scroll-target="#sapply-cant-simplify-now-what"><span class="toc-section-number">3.21</span>  sapply can’t simplify, now what?</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-18" id="toc-instructions-100-xp-18" class="nav-link" data-scroll-target="#instructions-100-xp-18">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#sapply-with-functions-that-return-null" id="toc-sapply-with-functions-that-return-null" class="nav-link" data-scroll-target="#sapply-with-functions-that-return-null"><span class="toc-section-number">3.22</span>  sapply with functions that return NULL</a>
  <ul class="collapse">
  <li><a href="#instructions-100-xp-19" id="toc-instructions-100-xp-19" class="nav-link" data-scroll-target="#instructions-100-xp-19">Instructions <code>100 XP</code></a></li>
  </ul></li>
  <li><a href="#reverse-engineering-sapply" id="toc-reverse-engineering-sapply" class="nav-link" data-scroll-target="#reverse-engineering-sapply"><span class="toc-section-number">3.23</span>  Reverse engineering sapply</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Functions</span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Functions are an extremely important concept in almost every programming language, and R is no different. Learn what functions are and how to use them—then take charge by writing your own functions.</p>
<section id="function-documentation" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="function-documentation"><span class="header-section-number">3.1</span> Function documentation</h2>
<p>Before even thinking of using an R function, you should clarify which arguments it expects. All the relevant details such as a description, usage, and arguments can be found in the documentation. To consult the documentation on the sample() function, for example, you can use one of following R commands:</p>
<div class="sourceCode" id="cb1" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(sample)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>?sample</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you execute these commands, you’ll be redirected to &lt;www.rdocumentation.org.&gt;</p>
<p>A quick hack to see the arguments of the <code>sample()</code> function is the <code>args()</code> function. Try it out in the console:</p>
<div class="sourceCode" id="cb2" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(sample)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the next exercises, you’ll be learning how to use the <code>mean()</code> function with increasing complexity. The first thing you’ll have to do is get acquainted with the <code>mean()</code> function.</p>
<section id="instructions-100-xp" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp">Instructions <code>100 XP</code></h3>
<ul>
<li>Consult the documentation on the <code>mean()</code> function: <code>?mean</code> or <code>help(mean)</code>.</li>
<li>Inspect the arguments of the mean() function using the args() function.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_021.R</strong></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Consult the documentation on the mean() function</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">help</span>(mean)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co"># Inspect the arguments of the mean() function</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="fu">args</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="use-a-function" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="use-a-function"><span class="header-section-number">3.2</span> Use a function</h2>
<p>The documentation on the <code>mean()</code> function gives us quite some information:</p>
<ul>
<li>The <code>mean()</code> function computes the arithmetic mean.</li>
<li>The most general method takes multiple arguments: <code>x</code> and <code>...</code>.</li>
<li>The <code>x</code> argument should be a vector containing numeric, logical or time-related information.</li>
</ul>
<p>Remember that R can match arguments both by position and by name. Can you still remember the difference? You’ll find out in this exercise!</p>
<p>Once more, you’ll be working with the view counts of your social network profiles for the past 7 days. These are stored in the <code>linkedin</code> and <code>facebook</code> vectors and have already been created for you.</p>
<section id="instructions-100-xp-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-1">Instructions <code>100 XP</code></h3>
<ul>
<li><p>Calculate the average number of views for both <code>linkedin</code> and <code>facebook</code> and assign the result to avg_li and <code>avg_fb</code>, respectively. Experiment with different types of argument matching!</p></li>
<li><p>Print out both <code>avg_li</code> and <code>avg_fb</code>.</p></li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_022.R</strong></pre>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># Calculate average number of views</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>avg_li <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin)</span>
<span id="cb4-7"><a href="#cb4-7"></a>avg_fb <span class="ot">&lt;-</span> <span class="fu">mean</span>(facebook)</span>
<span id="cb4-8"><a href="#cb4-8"></a></span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co"># Inspect avg_li and avg_fb</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="fu">print</span>(avg_li)</span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="fu">print</span>(avg_fb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="use-a-function-2" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="use-a-function-2"><span class="header-section-number">3.3</span> Use a function (2)</h2>
<p>Check the documentation on the <code>mean()</code> function again:</p>
<div class="sourceCode" id="cb5" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>?mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The Usage section of the documentation includes two versions of the <code>mean()</code>function. The first usage,</p>
<div class="sourceCode" id="cb6" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>is the most general usage of the mean function. The ‘Default S3 method’, however, is:</p>
<div class="sourceCode" id="cb7" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>...</code> is called the ellipsis. It is a way for R to pass arguments along without the function having to name them explicitly. The ellipsis will be treated in more detail in future courses.</p>
<p>For the remainder of this exercise, just work with the second usage of the mean function. Notice that both trim and na.rm have default values. This makes them <em>optional arguments</em>.</p>
<section id="instructions-100-xp-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-2">Instructions <code>100 XP</code></h3>
<ul>
<li>Calculate the mean of the element-wise sum of <code>linkedin</code> and <code>facebook</code> and store the result in a variable avg_sum.</li>
<li>Calculate the mean once more, but this time set the <code>trim</code> argument equal to 0.2 and assign the result to <code>avg_sum_trimmed</code>.</li>
<li>Print out both <code>avg_sum</code> and <code>avg_sum_trimmed</code>; can you spot the difference?</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_023.R</strong></pre>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co"># Calculate the mean of the sum</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>avg_sum <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook)</span>
<span id="cb8-7"><a href="#cb8-7"></a></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co"># Calculate the trimmed mean of the sum</span></span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a>avg_sum_trimmed <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook, <span class="at">trim =</span> <span class="fl">0.2</span>)</span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co"># Inspect both new variables</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="fu">print</span>(avg_sum)</span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="fu">print</span>(avg_sum_trimmed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="use-a-function-3" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="use-a-function-3"><span class="header-section-number">3.4</span> Use a function (3)</h2>
<p>In the video, Filip guided you through the example of specifying arguments of the <code>sd()</code> function. The <code>sd()</code> function has an optional argument, <code>na.rm</code> that specified whether or not to remove missing values from the input vector before calculating the standard deviation.</p>
<p>If you’ve had a good look at the documentation, you’ll know by now that the <code>mean()</code> function also has this argument, <code>na.rm</code>, and it does the exact same thing. By default, it is set to <code>FALSE</code>, as the Usage of the default S3 method shows:</p>
<div class="sourceCode" id="cb9" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s see what happens if your vectors <code>linkedin</code> and <code>facebook</code> contain missing values (<code>NA</code>).</p>
<section id="instructions-100-xp-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-3">Instructions <code>100 XP</code></h3>
<ul>
<li>Calculate the average number of LinkedIn profile views, without specifying any optional arguments. Simply print the result to the console.</li>
<li>Calculate the average number of LinkedIn profile views, but this time tell R to strip missing values from the input vector.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_024.R</strong></pre>
</div>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a> <span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb10-4"><a href="#cb10-4"></a></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co"># Basic average of linkedin</span></span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="fu">mean</span>(linkedin)</span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co"># Advanced average of linkedin</span></span>
<span id="cb10-9"><a href="#cb10-9"></a><span class="fu">mean</span>(linkedin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="functions-inside-functions" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="functions-inside-functions"><span class="header-section-number">3.5</span> Functions inside functions</h2>
<p>You already know that R functions return objects that you can then use somewhere else. This makes it easy to use functions inside functions, as you’ve seen before:</p>
<div class="sourceCode" id="cb11" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>speed <span class="ot">&lt;-</span> <span class="dv">31</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Your speed is"</span>, speed))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice that both the <code>print()</code> and <code>paste()</code> functions use the ellipsis - <code>...</code> - as an argument. Can you figure out how they’re used?</p>
<section id="instructions-100-xp-4" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-4">Instructions <code>100 XP</code></h3>
<p>Use <code>abs()</code> on <code>linkedin - facebook</code> to get the absolute differences between the daily LinkedIn and Facebook profile views. Place the call to <code>abs()</code> inside <code>mean()</code> to calculate the Mean Absolute Deviation. In the <code>mean()</code> call, make sure to specify <code>na.rm</code> to treat missing values correctly!</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_025.R</strong></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb12-3"><a href="#cb12-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb12-4"><a href="#cb12-4"></a></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co"># Calculate the mean absolute deviation</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="fu">mean</span>(<span class="fu">abs</span>(linkedin <span class="sc">-</span> facebook), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="write-your-own-function" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="write-your-own-function"><span class="header-section-number">3.6</span> Write your own function</h2>
<p>Wow, things are getting serious… you’re about to write your own function! Before you have a go at it, have a look at the following function template:</p>
<div class="sourceCode" id="cb13" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2) {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  body</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Notice that this recipe uses the assignment operator (<code>&lt;-</code>) just as if you were assigning a vector to a variable for example. This is not a coincidence. Creating a function in R basically is the assignment of a function object to a variable! In the recipe above, you’re creating a new R variable my_fun, that becomes available in the workspace as soon as you execute the definition. From then on, you can use the my_fun as a function.</p>
<section id="instructions-100-xp-5" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-5">Instructions <code>100 XP</code></h3>
<ul>
<li>Create a function <code>pow_two()</code>: it takes one argument and returns that number squared (that number times itself).</li>
<li>Call this newly defined function with 12 as input.</li>
<li>Next, create a function <code>sum_abs()</code>, that takes two arguments and returns the sum of the absolute values of both arguments.</li>
<li>Finally, call the function <code>sum_abs()</code> with arguments <code>-2</code> and <code>3</code> afterwards.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_026.R</strong></pre>
</div>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Create a function pow_two()</span></span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb14-4"><a href="#cb14-4"></a>    x <span class="sc">^</span> <span class="dv">2</span> </span>
<span id="cb14-5"><a href="#cb14-5"></a>}</span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co"># Use the function</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="fu">pow_two</span>(<span class="dv">12</span>)</span>
<span id="cb14-9"><a href="#cb14-9"></a></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co"># Create a function sum_abs()</span></span>
<span id="cb14-11"><a href="#cb14-11"></a></span>
<span id="cb14-12"><a href="#cb14-12"></a>sum_abs <span class="ot">&lt;-</span> <span class="cf">function</span>(x1, x2){</span>
<span id="cb14-13"><a href="#cb14-13"></a>    <span class="fu">abs</span>(x1 <span class="sc">+</span> x2)</span>
<span id="cb14-14"><a href="#cb14-14"></a>}</span>
<span id="cb14-15"><a href="#cb14-15"></a></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="co"># Use the function</span></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="fu">sum_abs</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="write-your-own-function-2" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="write-your-own-function-2"><span class="header-section-number">3.7</span> Write your own function (2)</h2>
<p>There are situations in which your function does not require an input. Let’s say you want to write a function that gives us the random outcome of throwing a fair die:</p>
<div class="sourceCode" id="cb15" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>throw_die <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  number <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  number</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">throw_die</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Up to you to code a function that doesn’t take any arguments!</p>
<section id="instructions-100-xp-6" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-6">Instructions <code>100 XP</code></h3>
<ul>
<li>Define a function, <code>hello()</code>. It prints out “Hi there!” and returns <code>TRUE</code>. It has no arguments.</li>
<li>Call the function <code>hello()</code>, without specifying arguments of course.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_027.R</strong></pre>
</div>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Define the function hello()</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>hello <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb16-3"><a href="#cb16-3"></a>    <span class="fu">print</span>(<span class="st">"Hi there!"</span>)</span>
<span id="cb16-4"><a href="#cb16-4"></a>    return <span class="cn">TRUE</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>}</span>
<span id="cb16-6"><a href="#cb16-6"></a></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co"># Call the function hello()</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="fu">hello</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="write-your-own-function-3" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="write-your-own-function-3"><span class="header-section-number">3.8</span> Write your own function (3)</h2>
<p>Do you still remember the difference between an argument with and without default values? The usage section in the sd() documentation shows the following information:</p>
<div class="sourceCode" id="cb17" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This tells us that <code>x</code> has to be defined for the <code>sd()</code> function to be called correctly, however, <code>na.rm</code> already has a default value. Not specifying this argument won’t cause an error.</p>
<p>You can define default argument values in your own R functions as well. You can use the following recipe to do so:</p>
<div class="sourceCode" id="cb18" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, <span class="at">arg2 =</span> val2) {</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  body</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The editor on the right already includes an extended version of the <code>pow_two()</code> function from before. Can you finish it?</p>
<section id="instructions-100-xp-7" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-7">Instructions <code>100 XP</code></h3>
<ul>
<li>Add an optional argument, named <code>print_info</code>, that is <code>TRUE</code> by default.</li>
<li>Wrap an if construct around the <code>print()</code> function: this function should only be executed if <code>print_info</code> is <code>TRUE</code>.</li>
<li>Feel free to experiment with the <code>pow_two()</code> function you’ve just coded.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_028.R</strong></pre>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># Finish the pow_two() function</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">print_info =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb19-3"><a href="#cb19-3"></a>  y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="cf">if</span>(print_info){</span>
<span id="cb19-5"><a href="#cb19-5"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(x, <span class="st">"to the power two equals"</span>, y))</span>
<span id="cb19-6"><a href="#cb19-6"></a>  }</span>
<span id="cb19-7"><a href="#cb19-7"></a>  <span class="fu">return</span>(y)</span>
<span id="cb19-8"><a href="#cb19-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="function-scoping" class="level2" data-number="3.9">
<h2 data-number="3.9" class="anchored" data-anchor-id="function-scoping"><span class="header-section-number">3.9</span> Function scoping</h2>
<p>An issue that Filip did not discuss in the video is function scoping. It implies that variables that are defined inside a function are not accessible outside that function. Try running the following code and see if you understand the results:</p>
<div class="sourceCode" id="cb20" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(y)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">pow_two</span>(<span class="dv">4</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>y</code> was defined inside the <code>pow_two()</code> function and therefore it is not accessible outside of that function. This is also true for the function’s arguments of course - <code>x</code> in this case.</p>
<p>Which statement is correct about the following chunk of code? The function <code>two_dice()</code> is already available in the workspace.</p>
<div class="sourceCode" id="cb21" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>two_dice <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  possibilities <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  dice1 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  dice2 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  dice1 <span class="sc">+</span> dice2</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-50-xp" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-50-xp">Instructions <code>50 XP</code></h3>
<ul>
<li><em>Whatever the way of calling the two_dice() function, R won’t have access to dice1 and dice2 outside the function.</em></li>
</ul>
</section>
</section>
<section id="r-passes-arguments-by-value" class="level2" data-number="3.10">
<h2 data-number="3.10" class="anchored" data-anchor-id="r-passes-arguments-by-value"><span class="header-section-number">3.10</span> R passes arguments by value</h2>
<p>The title gives it away already: R passes arguments by value. What does this mean? Simply put, it means that an R function cannot change the variable that you input to that function. Let’s look at a simple example (try it in the console):</p>
<div class="sourceCode" id="cb22" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>triple <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span>x</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">triple</span>(a)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Inside the <code>triple()</code> function, the argument <code>x</code> gets overwritten with its value times three. Afterwards this new <code>x</code> is returned. If you call this function with a variable <code>a</code> set equal to 5, you obtain 15. But did the value of <code>a</code> change? If R were to pass <code>a</code> to <code>triple()</code> by reference, the override of the <code>x</code> inside the R passes by value, so the R objects you pass to a function can never change unless you do an explicit assignment. a remains equal to 5, even after calling <code>triple(a)</code>.</p>
<p>Can you tell which one of the following statements is false about the following piece of code?</p>
<div class="sourceCode" id="cb23" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>increment <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc =</span> <span class="dv">1</span>) {</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> inc</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">increment</span>(count)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-50-xp-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-50-xp-1">Instructions <code>50 XP</code></h3>
<ul>
<li><em>In the end, count will equal 10.</em></li>
</ul>
</section>
</section>
<section id="r-you-functional" class="level2" data-number="3.11">
<h2 data-number="3.11" class="anchored" data-anchor-id="r-you-functional"><span class="header-section-number">3.11</span> R you functional?</h2>
<p>Now that you’ve acquired some skills in defining functions with different types of arguments and return values, you should try to create more advanced functions. As you’ve noticed in the previous exercises, it’s perfectly possible to add control-flow constructs, loops and even other functions to your function body.</p>
<p>Remember our social media example? The vectors <code>linkedin</code> and <code>facebook</code> are already defined in the workspace so you can get your hands dirty straight away. As a first step, you will be writing a function that can interpret a single value of this vector. In the next exercise, you will write another function that can handle an entire vector at once.</p>
<section id="instructions-100-xp-8" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-8">Instructions <code>100 XP</code></h3>
<ul>
<li>Finish the function definition for <code>interpret()</code>, that interprets the number of profile views on a single day:</li>
<li>The function takes one argument, num_views.</li>
<li>If <code>num_views</code> is greater than 15, the function prints out “You’re popular!” to the console and returns <code>num_views</code>.</li>
<li>Else, the function prints out “Try to be more visible!” and returns 0. Finally, call the interpret() function twice: on the first value of the linkedin vector and on the second element of the facebook vector.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_029.R</strong></pre>
</div>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="co"># Define the interpret function</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb24-6"><a href="#cb24-6"></a>    <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb24-7"><a href="#cb24-7"></a>    <span class="fu">return</span>(num_views)</span>
<span id="cb24-8"><a href="#cb24-8"></a>  } <span class="cf">else</span> {</span>
<span id="cb24-9"><a href="#cb24-9"></a>    <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb24-10"><a href="#cb24-10"></a>    <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb24-11"><a href="#cb24-11"></a>  }</span>
<span id="cb24-12"><a href="#cb24-12"></a>}</span>
<span id="cb24-13"><a href="#cb24-13"></a></span>
<span id="cb24-14"><a href="#cb24-14"></a><span class="co"># Call the interpret function twice</span></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="fu">interpret</span>(linkedin[<span class="dv">1</span>])</span>
<span id="cb24-16"><a href="#cb24-16"></a><span class="fu">interpret</span>(facebook[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="r-you-functional-2" class="level2" data-number="3.12">
<h2 data-number="3.12" class="anchored" data-anchor-id="r-you-functional-2"><span class="header-section-number">3.12</span> R you functional? (2)</h2>
<p>A possible implementation of the <code>interpret()</code> function has been provided for you. In this exercise you’ll be writing another function that will use the <code>interpret()</code> function to interpret all the data from your daily profile views inside a vector. Furthermore, your function will return the sum of views on popular days, if asked for. A <code>for</code> loop is ideal for iterating over all the vector elements. The ability to return the sum of views on popular days is something you can code through a function argument with a default value.</p>
<section id="instructions-100-xp-9" class="level3" data-number="3.12.1">
<h3 data-number="3.12.1" class="anchored" data-anchor-id="instructions-100-xp-9"><span class="header-section-number">3.12.1</span> Instructions <code>100 XP</code></h3>
<p>Finish the template for the <code>interpret_all()</code> function:</p>
<ul>
<li>Make return_sum an optional argument, that is <code>TRUE</code> by default.</li>
<li>Inside the for loop, iterate over all views: on every iteration, add the result of <code>interpret(v)</code> to count. Remember that <code>interpret(v)</code> returns v for popular days, and 0 otherwise. At the same time, <code>interpret(v)</code> will also do some printouts.</li>
<li>Finish the if construct:</li>
<li>If return_sum is TRUE, return count.</li>
<li>Else, return NULL.</li>
</ul>
<p>Call this newly defined function on both linkedin and facebook.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_029.R</strong></pre>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb25-3"><a href="#cb25-3"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb25-4"><a href="#cb25-4"></a></span>
<span id="cb25-5"><a href="#cb25-5"></a><span class="co"># The interpret() can be used inside interpret_all()</span></span>
<span id="cb25-6"><a href="#cb25-6"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb25-7"><a href="#cb25-7"></a>  <span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb25-8"><a href="#cb25-8"></a>    <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb25-9"><a href="#cb25-9"></a>    <span class="fu">return</span>(num_views)</span>
<span id="cb25-10"><a href="#cb25-10"></a>  } <span class="cf">else</span> {</span>
<span id="cb25-11"><a href="#cb25-11"></a>    <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb25-12"><a href="#cb25-12"></a>    <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb25-13"><a href="#cb25-13"></a>  }</span>
<span id="cb25-14"><a href="#cb25-14"></a>}</span>
<span id="cb25-15"><a href="#cb25-15"></a></span>
<span id="cb25-16"><a href="#cb25-16"></a><span class="co"># Define the interpret_all() function</span></span>
<span id="cb25-17"><a href="#cb25-17"></a><span class="co"># views: vector with data to interpret</span></span>
<span id="cb25-18"><a href="#cb25-18"></a><span class="co"># return_sum: return total number of views on popular days?</span></span>
<span id="cb25-19"><a href="#cb25-19"></a>interpret_all <span class="ot">&lt;-</span> <span class="cf">function</span>(views, <span class="at">return_sum =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb25-20"><a href="#cb25-20"></a>  count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb25-21"><a href="#cb25-21"></a></span>
<span id="cb25-22"><a href="#cb25-22"></a>  <span class="cf">for</span> (v <span class="cf">in</span> views) {</span>
<span id="cb25-23"><a href="#cb25-23"></a>    count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="fu">interpret</span>(v)</span>
<span id="cb25-24"><a href="#cb25-24"></a>  }</span>
<span id="cb25-25"><a href="#cb25-25"></a></span>
<span id="cb25-26"><a href="#cb25-26"></a>  <span class="cf">if</span> (return_sum) {</span>
<span id="cb25-27"><a href="#cb25-27"></a>    <span class="fu">return</span> (count)</span>
<span id="cb25-28"><a href="#cb25-28"></a>  } <span class="cf">else</span> {</span>
<span id="cb25-29"><a href="#cb25-29"></a>    <span class="fu">return</span> (<span class="cn">NULL</span>)</span>
<span id="cb25-30"><a href="#cb25-30"></a>  }</span>
<span id="cb25-31"><a href="#cb25-31"></a>}</span>
<span id="cb25-32"><a href="#cb25-32"></a></span>
<span id="cb25-33"><a href="#cb25-33"></a><span class="co"># Call the interpret_all() function on both linkedin and facebook</span></span>
<span id="cb25-34"><a href="#cb25-34"></a></span>
<span id="cb25-35"><a href="#cb25-35"></a><span class="fu">interpret_all</span>(linkedin)</span>
<span id="cb25-36"><a href="#cb25-36"></a><span class="fu">interpret_all</span>(facebook)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="load-an-r-package" class="level2" data-number="3.13">
<h2 data-number="3.13" class="anchored" data-anchor-id="load-an-r-package"><span class="header-section-number">3.13</span> Load an R Package</h2>
<p>There are basically two extremely important functions when it comes down to R packages:</p>
<ul>
<li><code>install.packages()</code>, which as you can expect, installs a given package.</li>
<li>library() which loads packages, i.e.&nbsp;attaches them to the search list on your R workspace.</li>
</ul>
<p>To install packages, you need administrator privileges. This means that <code>install.packages()</code> will thus not work in the DataCamp interface. However, almost all CRAN packages are installed on our servers. You can load them with <code>library()</code>.</p>
<p>In this exercise, you’ll be learning how to load the <code>ggplot2</code> package, a powerful package for data visualization. You’ll use it to create a plot of two variables of the <code>mtcars</code> data frame. The data has already been prepared for you in the workspace.</p>
<p>Before starting, execute the following commands in the console:</p>
<ul>
<li>search(), to look at the currently attached packages and</li>
<li>qplot(mtcars<span class="math inline">\(wt, mtcars\)</span>hp), to build a plot of two variables of the mtcars data frame. An error should occur, because you haven’t loaded the <code>ggplot2</code> package yet!</li>
</ul>
<section id="instructions-100-xp-10" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-10">Instructions <code>100 XP</code></h3>
<ul>
<li>To fix the error you saw in the console, load the <code>ggplot2</code> package. Make sure you are loading (and not installing) the package!</li>
<li>Now, retry calling the qplot() function with the same arguments.</li>
<li>Finally, check out the currently attached packages again.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_030.R</strong></pre>
</div>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Load the ggplot2 package</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="co"># Retry the qplot() function</span></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="fu">qplot</span>(mtcars<span class="sc">$</span>wt, mtcars<span class="sc">$</span>hp)</span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a><span class="co"># Check out the currently attached packages again</span></span>
<span id="cb26-8"><a href="#cb26-8"></a><span class="fu">search</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="different-ways-to-load-a-package" class="level2" data-number="3.14">
<h2 data-number="3.14" class="anchored" data-anchor-id="different-ways-to-load-a-package"><span class="header-section-number">3.14</span> Different ways to load a package</h2>
<p>The <code>library()</code> and <code>require()</code> functions are not very picky when it comes down to argument types: both <code>library(rjson)</code> and <code>library("rjson")</code> work perfectly fine for loading a package.</p>
<p>Have a look at some more code chunks that (attempt to) load one or more packages:</p>
<div class="sourceCode" id="cb27" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 1</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rjson)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 2</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"data.table"</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rjson)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 3</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(rjson, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk 4</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="fu">c</span>(<span class="st">"data.table"</span>, <span class="st">"rjson"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Select the option that lists all of the chunks that do not generate an error. The console is yours to experiment in.</p>
<section id="instructions-50-xp-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-50-xp-2">Instructions <code>50 XP</code></h3>
<p><em>Possible Answers: (1) and (2)</em></p>
</section>
</section>
<section id="use-lapply-with-a-built-in-r-function" class="level2" data-number="3.15">
<h2 data-number="3.15" class="anchored" data-anchor-id="use-lapply-with-a-built-in-r-function"><span class="header-section-number">3.15</span> Use lapply with a built-in R function</h2>
<p>Before you go about solving the exercises below, have a look at the documentation of the lapply() function. The Usage section shows the following expression:</p>
<div class="sourceCode" id="cb28" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(X, FUN, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To put it generally, <code>lapply</code> takes a vector or list <code>X</code>, and applies the function <code>FUN</code> to each of its members. If <code>FUN</code> requires additional arguments, you pass them after you’ve specified <code>X</code> and <code>FUN (...)</code>. The output of <code>lapply()</code> is a list, the same length as <code>X</code>, where each element is the result of applying FUN on the corresponding element of <code>X</code>.</p>
<p>Now that you are truly brushing up on your data science skills, let’s revisit some of the most relevant figures in data science history. We’ve compiled a vector of famous mathematicians/statisticians and the year they were born. Up to you to extract some information!</p>
<section id="instructions-100-xp-11" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-11">Instructions <code>100 XP</code></h3>
<ul>
<li>Have a look at the <code>strsplit()</code> calls, that splits the strings in pioneers on the <code>:</code> sign. The result, <code>split_math</code> is a list of 4 character vectors: the first vector element represents the name, the second element the birth year.</li>
<li>Use <code>lapply()</code> to convert the character vectors in <code>split_math</code> to lowercase letters: apply <code>tolower()</code> on each of the elements in <code>split_math</code>. Assign the result, which is a list, to a new variable <code>split_low</code>.</li>
<li>Finally, inspect the contents of <code>split_low</code> with <code>str()</code>.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_031.R</strong></pre>
</div>
<div class="sourceCode" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># The vector pioneers has already been created for you</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>pioneers <span class="ot">&lt;-</span> </span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">c</span>(<span class="st">"GAUSS:1777"</span>, <span class="st">"BAYES:1702"</span>, <span class="st">"PASCAL:1623"</span>, <span class="st">"PEARSON:1857"</span>)</span>
<span id="cb29-4"><a href="#cb29-4"></a></span>
<span id="cb29-5"><a href="#cb29-5"></a><span class="co"># Split names from birth year</span></span>
<span id="cb29-6"><a href="#cb29-6"></a>split_math <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(pioneers, <span class="at">split =</span> <span class="st">":"</span>)</span>
<span id="cb29-7"><a href="#cb29-7"></a></span>
<span id="cb29-8"><a href="#cb29-8"></a><span class="co"># Convert to lowercase strings: split_low</span></span>
<span id="cb29-9"><a href="#cb29-9"></a>split_low <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_math, tolower)</span>
<span id="cb29-10"><a href="#cb29-10"></a></span>
<span id="cb29-11"><a href="#cb29-11"></a><span class="co"># Take a look at the structure of split_low</span></span>
<span id="cb29-12"><a href="#cb29-12"></a><span class="fu">str</span>(split_low)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="use-lapply-with-your-own-function" class="level2" data-number="3.16">
<h2 data-number="3.16" class="anchored" data-anchor-id="use-lapply-with-your-own-function"><span class="header-section-number">3.16</span> Use lapply with your own function</h2>
<p>As Filip explained in the instructional video, you can use lapply() on your own functions as well. You just need to code a new function and make sure it is available in the workspace. After that, you can use the function inside lapply() just as you did with base R functions.</p>
<p>In the previous exercise you already used lapply() once to convert the information about your favorite pioneering statisticians to a list of vectors composed of two character strings. Let’s write some code to select the names and the birth years separately.</p>
<p>The sample code already includes code that defined select_first(), that takes a vector as input and returns the first element of this vector.</p>
<section id="instructions-100-xp-12" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-12">Instructions 100 XP</h3>
<ul>
<li>Apply select_first() over the elements of split_low with lapply() and assign the result to a new variable names.</li>
<li>Next, write a function select_second() that does the exact same thing for the second element of an inputted vector.</li>
<li>Finally, apply the select_second() function over split_low and assign the output to the variable years.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_0.32.R</strong></pre>
</div>
<div class="sourceCode" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># Code from previous exercise:</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>pioneers <span class="ot">&lt;-</span> </span>
<span id="cb30-3"><a href="#cb30-3"></a> <span class="fu">c</span>(<span class="st">"GAUSS:1777"</span>, <span class="st">"BAYES:1702"</span>, <span class="st">"PASCAL:1623"</span>, <span class="st">"PEARSON:1857"</span>)</span>
<span id="cb30-4"><a href="#cb30-4"></a>split <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(pioneers, <span class="at">split =</span> <span class="st">":"</span>)</span>
<span id="cb30-5"><a href="#cb30-5"></a>split_low <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split, tolower)</span>
<span id="cb30-6"><a href="#cb30-6"></a><span class="co"># Write function select_first()</span></span>
<span id="cb30-7"><a href="#cb30-7"></a>select_first <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb30-8"><a href="#cb30-8"></a> x[<span class="dv">1</span>]</span>
<span id="cb30-9"><a href="#cb30-9"></a>}</span>
<span id="cb30-10"><a href="#cb30-10"></a><span class="co"># Apply select_first() over split_low: names</span></span>
<span id="cb30-11"><a href="#cb30-11"></a>names <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_first)</span>
<span id="cb30-12"><a href="#cb30-12"></a><span class="co"># Write function select_second()</span></span>
<span id="cb30-13"><a href="#cb30-13"></a>select_second <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb30-14"><a href="#cb30-14"></a> x[<span class="dv">2</span>]</span>
<span id="cb30-15"><a href="#cb30-15"></a>}</span>
<span id="cb30-16"><a href="#cb30-16"></a><span class="co"># Apply select_second() over split_low: years</span></span>
<span id="cb30-17"><a href="#cb30-17"></a>years <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_second)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>## lapply and anonymous functions Writing your own functions and then using them inside <code>lapply()</code> is quite an accomplishment! But defining functions to use them only once is kind of overkill, isn’t it? That’s why you can use so-called anonymous functions in R.</p>
<p>Previously, you learned that functions in R are objects in their own right. This means that they aren’t automatically bound to a name. When you create a function, you can use the assignment operator to give the function a name. It’s perfectly possible, however, to not give the function a name. This is called an anonymous function:</p>
<div class="sourceCode" id="cb31" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Named function</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>triple <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="dv">3</span> <span class="sc">*</span> x }</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Anonymous function with same implementation</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="cf">function</span>(x) { <span class="dv">3</span> <span class="sc">*</span> x }</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Use anonymous function inside lapply()</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="cf">function</span>(x) { <span class="dv">3</span> <span class="sc">*</span> x })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>split_low</code> is defined for you.</p>
</section>
<section id="instructions-100-xp-13" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-13">Instructions <code>100 XP</code></h3>
<ul>
<li>Transform the first call of <code>lapply()</code> such that it uses an anonymous function that does the same thing.</li>
<li>In a similar fashion, convert the second call of <code>lapply</code> to use an anonymous version of the <code>select_second()</code> function.</li>
<li>Remove both the definitions of <code>select_first()</code> and <code>select_second()</code>, as they are no longer useful.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_033.R</strong></pre>
</div>
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="co"># split_low has been created for you</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>split_low</span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="co"># Transform: use anonymous function inside lapply</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>names <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, <span class="cf">function</span>(x){ x[<span class="dv">1</span>] })</span>
<span id="cb32-5"><a href="#cb32-5"></a><span class="co"># Transform: use anonymous function inside lapply</span></span>
<span id="cb32-6"><a href="#cb32-6"></a>years <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, <span class="cf">function</span>(x){ x[<span class="dv">2</span>] })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>## Use lapply with additional arguments</p>
<p>In the video, the triple() function was transformed to the multiply() function to allow for a more generic approach. lapply() provides a way to handle functions that require more than one argument, such as the multiply() function:</p>
<div class="sourceCode" id="cb33" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>multiply <span class="ot">&lt;-</span> <span class="cf">function</span>(x, factor) {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">*</span> factor</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), multiply, <span class="at">factor =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>On the right we’ve included a generic version of the select functions that you’ve coded earlier: select_el(). It takes a vector as its first argument, and an index as its second argument. It returns the vector’s element at the specified index.</p>
</section>
<section id="instructions-100-xp-14" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-14">Instructions <code>100 XP</code></h3>
<p>Use lapply() twice to call select_el() over all elements in split_low: once with the index equal to 1 and a second time with the index equal to 2. Assign the result to names and years, respectively.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_034.R</strong></pre>
</div>
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Definition of split_low</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>pioneers <span class="ot">&lt;-</span> </span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="fu">c</span>(<span class="st">"GAUSS:1777"</span>, <span class="st">"BAYES:1702"</span>, <span class="st">"PASCAL:1623"</span>, <span class="st">"PEARSON:1857"</span>)</span>
<span id="cb34-4"><a href="#cb34-4"></a>split <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(pioneers, <span class="at">split =</span> <span class="st">":"</span>)</span>
<span id="cb34-5"><a href="#cb34-5"></a>split_low <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split, tolower)</span>
<span id="cb34-6"><a href="#cb34-6"></a></span>
<span id="cb34-7"><a href="#cb34-7"></a><span class="co"># Generic select function</span></span>
<span id="cb34-8"><a href="#cb34-8"></a>select_el <span class="ot">&lt;-</span> <span class="cf">function</span>(x, index) {</span>
<span id="cb34-9"><a href="#cb34-9"></a>  x[index]</span>
<span id="cb34-10"><a href="#cb34-10"></a>}</span>
<span id="cb34-11"><a href="#cb34-11"></a></span>
<span id="cb34-12"><a href="#cb34-12"></a><span class="co"># Use lapply() twice on split_low: names and years</span></span>
<span id="cb34-13"><a href="#cb34-13"></a>names <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_el, <span class="dv">1</span>)</span>
<span id="cb34-14"><a href="#cb34-14"></a>years <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_el, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="apply-functions-that-return-null" class="level2" data-number="3.17">
<h2 data-number="3.17" class="anchored" data-anchor-id="apply-functions-that-return-null"><span class="header-section-number">3.17</span> Apply functions that return NULL</h2>
<p>In all of the previous exercises, it was assumed that the functions that were applied over vectors and lists actually returned a meaningful result. For example, the <code>tolower()</code> function simply returns the strings with the characters in lowercase. This won’t always be the case. Suppose you want to display the structure of every element of a list. You could use the <code>str()</code> function for this, which returns <code>NULL</code>:</p>
<div class="sourceCode" id="cb35" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="st">"a"</span>, <span class="cn">TRUE</span>), str)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This call actually returns a list, the same size as the input list, containing all <code>NULL</code> values. On the other hand calling</p>
<div class="sourceCode" id="cb36" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str</span>(<span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>on its own prints only the structure of the logical to the console, not <code>NULL</code>. That’s because <code>str()</code> uses <code>invisible()</code> behind the scenes, which returns an invisible copy of the return value, <code>NULL</code> in this case. This prevents it from being printed when the result of <code>str()</code> is not assigned.</p>
<p>What will the following code chunk return (<code>split_low</code> is already available in the workspace)? Try to reason about the result before simply executing it in the console!</p>
<div class="sourceCode" id="cb37" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(split_low, <span class="cf">function</span>(x) {</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nchar</span>(x[<span class="dv">1</span>]) <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(x[<span class="dv">2</span>])</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="how-to-use-sapply" class="level2" data-number="3.18">
<h2 data-number="3.18" class="anchored" data-anchor-id="how-to-use-sapply"><span class="header-section-number">3.18</span> How to use sapply</h2>
<p>You can use <code>sapply()</code> similar to how you used <code>lapply()</code>. The first argument of <code>sapply()</code> is the list or vector <code>X</code> over which you want to apply a function, FUN. Potential additional arguments to this function are specified afterwards <code>(...):</code></p>
<div class="sourceCode" id="cb38" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(X, FUN, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the next couple of exercises, you’ll be working with the variable <code>temp</code>, that contains temperature measurements for 7 days. <code>temp</code> is a list of length 7, where each element is a vector of length 5, representing 5 measurements on a given day. This variable has already been defined in the workspace: type str(temp) to see its structure.</p>
<section id="instructions-100-xp-15" class="level3" data-number="3.18.1">
<h3 data-number="3.18.1" class="anchored" data-anchor-id="instructions-100-xp-15"><span class="header-section-number">3.18.1</span> Instructions <code>100 XP</code></h3>
<ul>
<li>Use <code>lapply()</code> to calculate the minimum (built-in function <code>min()</code>) of the temperature measurements for every day.</li>
<li>Do the same thing but this time with <code>sapply()</code>. See how the output differs.</li>
<li>Use <code>lapply()</code> to compute the the maximum (<code>max()</code>) temperature for each day. Again, use <code>sapply()</code> to solve the same question and see how <code>lapply()</code> and <code>sapply()</code> differ.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_035.R</strong></pre>
</div>
<div class="sourceCode" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="co"># temp has already been defined in the workspace</span></span>
<span id="cb39-2"><a href="#cb39-2"></a></span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="co"># Use lapply() to find each day's minimum temperature</span></span>
<span id="cb39-4"><a href="#cb39-4"></a></span>
<span id="cb39-5"><a href="#cb39-5"></a><span class="fu">lapply</span>(temp, min)</span>
<span id="cb39-6"><a href="#cb39-6"></a></span>
<span id="cb39-7"><a href="#cb39-7"></a><span class="co"># Use sapply() to find each day's minimum temperature</span></span>
<span id="cb39-8"><a href="#cb39-8"></a><span class="fu">sapply</span>(temp, min)</span>
<span id="cb39-9"><a href="#cb39-9"></a></span>
<span id="cb39-10"><a href="#cb39-10"></a><span class="co"># Use lapply() to find each day's maximum temperature</span></span>
<span id="cb39-11"><a href="#cb39-11"></a><span class="fu">lapply</span>(temp, max)</span>
<span id="cb39-12"><a href="#cb39-12"></a></span>
<span id="cb39-13"><a href="#cb39-13"></a><span class="co"># Use sapply() to find each day's maximum temperature</span></span>
<span id="cb39-14"><a href="#cb39-14"></a><span class="fu">sapply</span>(temp, max)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="sapply-with-your-own-function" class="level2" data-number="3.19">
<h2 data-number="3.19" class="anchored" data-anchor-id="sapply-with-your-own-function"><span class="header-section-number">3.19</span> sapply with your own function</h2>
<p>Like <code>lapply()</code>, <code>sapply()</code> allows you to use self-defined functions and apply them over a vector or a list:</p>
<div class="sourceCode" id="cb40" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(X, FUN, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, <code>FUN</code> can be one of R’s built-in functions, but it can also be a function you wrote. This self-written function can be defined before hand, or can be inserted directly as an anonymous function.</p>
<section id="instructions-100-xp-16" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-16">Instructions <code>100 XP</code></h3>
<ul>
<li>Finish the definition of <code>extremes_avg()</code>: it takes a vector of temperatures and calculates the average of the minimum and maximum temperatures of the vector.</li>
<li>Next, use this function inside <code>sapply()</code> to apply it over the vectors inside <code>temp</code>.</li>
<li>Use the same function over <code>temp</code> with <code>lapply()</code> and see how the outputs differ.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_036.R</strong></pre>
</div>
<div class="sourceCode" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># temp is already defined in the workspace</span></span>
<span id="cb41-2"><a href="#cb41-2"></a></span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="co"># Finish function definition of extremes_avg</span></span>
<span id="cb41-4"><a href="#cb41-4"></a>extremes_avg <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb41-5"><a href="#cb41-5"></a>  ( <span class="fu">min</span>(x) <span class="sc">+</span> <span class="fu">max</span>(x) ) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb41-6"><a href="#cb41-6"></a>}</span>
<span id="cb41-7"><a href="#cb41-7"></a></span>
<span id="cb41-8"><a href="#cb41-8"></a><span class="co"># Apply extremes_avg() over temp using sapply()</span></span>
<span id="cb41-9"><a href="#cb41-9"></a><span class="fu">sapply</span>(temp, extremes_avg)</span>
<span id="cb41-10"><a href="#cb41-10"></a></span>
<span id="cb41-11"><a href="#cb41-11"></a><span class="co"># Apply extremes_avg() over temp using lapply()</span></span>
<span id="cb41-12"><a href="#cb41-12"></a><span class="fu">lapply</span>(temp, extremes_avg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="sapply-with-function-returning-vector" class="level2" data-number="3.20">
<h2 data-number="3.20" class="anchored" data-anchor-id="sapply-with-function-returning-vector"><span class="header-section-number">3.20</span> sapply with function returning vector</h2>
<p>In the previous exercises, you’ve seen how <code>sapply()</code> simplifies the list that <code>lapply()</code> would return by turning it into a vector. But what if the function you’re applying over a list or a vector returns a vector of length greater than 1? If you don’t remember from the video, don’t waste more time in the valley of ignorance and head over to the instructions!</p>
<section id="instructions-100-xp-17" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-17">Instructions <code>100 XP</code></h3>
<ul>
<li>Finish the definition of the <code>extremes()</code> function. It takes a vector of numerical values and returns a vector containing the minimum and maximum values of a given vector, with the names <code>"min"</code> and <code>"max"</code>, respectively.</li>
<li>Apply this function over the vector temp using <code>sapply()</code>.</li>
<li>Finally, apply this function over the vector temp using <code>lapply()</code> as well.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_037.R</strong></pre>
</div>
<div class="sourceCode" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="co"># temp is already available in the workspace</span></span>
<span id="cb42-2"><a href="#cb42-2"></a></span>
<span id="cb42-3"><a href="#cb42-3"></a><span class="co"># Create a function that returns min and max of a vector: extremes</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>extremes <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb42-5"><a href="#cb42-5"></a>  <span class="fu">c</span>(<span class="at">min =</span> <span class="fu">min</span>(x), <span class="at">max =</span> <span class="fu">max</span>(x))</span>
<span id="cb42-6"><a href="#cb42-6"></a>}</span>
<span id="cb42-7"><a href="#cb42-7"></a></span>
<span id="cb42-8"><a href="#cb42-8"></a><span class="co"># Apply extremes() over temp with sapply()</span></span>
<span id="cb42-9"><a href="#cb42-9"></a><span class="fu">sapply</span>(temp, extremes)</span>
<span id="cb42-10"><a href="#cb42-10"></a></span>
<span id="cb42-11"><a href="#cb42-11"></a><span class="co"># Apply extremes() over temp with lapply()</span></span>
<span id="cb42-12"><a href="#cb42-12"></a><span class="fu">lapply</span>(temp, extremes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="sapply-cant-simplify-now-what" class="level2" data-number="3.21">
<h2 data-number="3.21" class="anchored" data-anchor-id="sapply-cant-simplify-now-what"><span class="header-section-number">3.21</span> sapply can’t simplify, now what?</h2>
<p>It seems like we’ve hit the jackpot with <code>sapply()</code>. On all of the examples so far, <code>sapply()</code> was able to nicely simplify the rather bulky output of <code>lapply()</code>. But, as with life, there are things you can’t simplify. How does <code>sapply()</code> react?</p>
<p>We already created a function, below_zero(), that takes a vector of numerical values and returns a vector that only contains the values that are strictly below zero.</p>
<section id="instructions-100-xp-18" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-18">Instructions <code>100 XP</code></h3>
<ul>
<li>Apply <code>below_zero()</code> over <code>temp</code> using <code>sapply()</code> and store the result in <code>freezing_s</code>.</li>
<li>Apply <code>below_zero()</code> over temp using <code>lapply()</code>. Save the resulting list in a variable <code>freezing_l</code>.</li>
<li>Compare <code>freezing_s</code> to <code>freezing_l</code> using the <code>identical()</code> function.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_038.R</strong></pre>
</div>
<div class="sourceCode" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># temp is already prepared for you in the workspace</span></span>
<span id="cb43-2"><a href="#cb43-2"></a></span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="co"># Definition of below_zero()</span></span>
<span id="cb43-4"><a href="#cb43-4"></a>below_zero <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb43-5"><a href="#cb43-5"></a>  <span class="fu">return</span>(x[x <span class="sc">&lt;</span> <span class="dv">0</span>])</span>
<span id="cb43-6"><a href="#cb43-6"></a>}</span>
<span id="cb43-7"><a href="#cb43-7"></a></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="co"># Apply below_zero over temp using sapply(): freezing_s</span></span>
<span id="cb43-9"><a href="#cb43-9"></a>freezing_s <span class="ot">&lt;-</span> <span class="fu">sapply</span>(temp, below_zero)</span>
<span id="cb43-10"><a href="#cb43-10"></a></span>
<span id="cb43-11"><a href="#cb43-11"></a><span class="co"># Apply below_zero over temp using lapply(): freezing_l</span></span>
<span id="cb43-12"><a href="#cb43-12"></a>freezing_l <span class="ot">&lt;-</span> <span class="fu">lapply</span>(temp, below_zero)</span>
<span id="cb43-13"><a href="#cb43-13"></a></span>
<span id="cb43-14"><a href="#cb43-14"></a><span class="co"># Are freezing_s and freezing_l identical?</span></span>
<span id="cb43-15"><a href="#cb43-15"></a><span class="fu">identical</span>(freezing_s, freezing_s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="sapply-with-functions-that-return-null" class="level2" data-number="3.22">
<h2 data-number="3.22" class="anchored" data-anchor-id="sapply-with-functions-that-return-null"><span class="header-section-number">3.22</span> sapply with functions that return NULL</h2>
<p>You already have some apply tricks under your sleeve, but you’re surely hungry for some more, aren’t you? In this exercise, you’ll see how <code>sapply()</code> reacts when it is used to apply a function that returns <code>NULL</code> over a vector or a list.</p>
<p>A function <code>print_info()</code>, that takes a vector and prints the average of this vector, has already been created for you. It uses the <code>cat()</code> function.</p>
<section id="instructions-100-xp-19" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-19">Instructions <code>100 XP</code></h3>
<ul>
<li>Apply <code>print_info()</code> over the contents of temp with <code>sapply()</code>.</li>
<li>Repeat this process with <code>lapply()</code>. Do you notice the difference?</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_039.R</strong></pre>
</div>
<div class="sourceCode" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="co"># temp is already available in the workspace</span></span>
<span id="cb44-2"><a href="#cb44-2"></a></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="co"># Definition of print_info()</span></span>
<span id="cb44-4"><a href="#cb44-4"></a>print_info <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb44-5"><a href="#cb44-5"></a>  <span class="fu">cat</span>(<span class="st">"The average temperature is"</span>, <span class="fu">mean</span>(x), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb44-6"><a href="#cb44-6"></a>}</span>
<span id="cb44-7"><a href="#cb44-7"></a></span>
<span id="cb44-8"><a href="#cb44-8"></a><span class="co"># Apply print_info() over temp using sapply()</span></span>
<span id="cb44-9"><a href="#cb44-9"></a><span class="fu">sapply</span>(temp, print_info)</span>
<span id="cb44-10"><a href="#cb44-10"></a></span>
<span id="cb44-11"><a href="#cb44-11"></a><span class="co"># Apply print_info() over temp using lapply()</span></span>
<span id="cb44-12"><a href="#cb44-12"></a><span class="fu">lapply</span>(temp, print_info)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="reverse-engineering-sapply" class="level2" data-number="3.23">
<h2 data-number="3.23" class="anchored" data-anchor-id="reverse-engineering-sapply"><span class="header-section-number">3.23</span> Reverse engineering sapply</h2>
<div class="sourceCode" id="cb45" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">list</span>(<span class="fu">runif</span> (<span class="dv">10</span>), <span class="fu">runif</span> (<span class="dv">10</span>)), </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>       <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="at">min =</span> <span class="fu">min</span>(x), <span class="at">mean =</span> <span class="fu">mean</span>(x), <span class="at">max =</span> <span class="fu">max</span>(x)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Without going straight to the console to run the code, try to reason through which of the following statements are correct and why.</p>
<ol type="1">
<li><code>sapply()</code> can’t simplify the result that <code>lapply()</code> would return, and thus returns a list of vectors.</li>
<li>This code generates a matrix with 3 rows and 2 columns.</li>
<li>The function that is used inside sapply() is anonymous.</li>
<li>The resulting data structure does not contain any names.</li>
</ol>
<p>Select the option that lists all correct statements.</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intermediate_r_ch_02.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Loops</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./summary.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Summary</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb46" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb46-1"><a href="#cb46-1"></a><span class="co">---</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="an">execute:</span></span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="co">  echo: true</span></span>
<span id="cb46-4"><a href="#cb46-4"></a><span class="co">  cache: true</span></span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="an">format:</span></span>
<span id="cb46-6"><a href="#cb46-6"></a><span class="co">  html: </span></span>
<span id="cb46-7"><a href="#cb46-7"></a><span class="co">    theme: morph</span></span>
<span id="cb46-8"><a href="#cb46-8"></a><span class="co">    fig-width: 8</span></span>
<span id="cb46-9"><a href="#cb46-9"></a><span class="co">    fig-height: 4</span></span>
<span id="cb46-10"><a href="#cb46-10"></a><span class="co">    code-fold: false</span></span>
<span id="cb46-11"><a href="#cb46-11"></a><span class="co">    code-link: true</span></span>
<span id="cb46-12"><a href="#cb46-12"></a><span class="co">    highlight-style: dracula</span></span>
<span id="cb46-13"><a href="#cb46-13"></a><span class="co">    code-line-numbers: true</span></span>
<span id="cb46-14"><a href="#cb46-14"></a><span class="co">    code-block-border-left: true</span></span>
<span id="cb46-15"><a href="#cb46-15"></a><span class="co">    code-tools:</span></span>
<span id="cb46-16"><a href="#cb46-16"></a><span class="co">      source: true</span></span>
<span id="cb46-17"><a href="#cb46-17"></a><span class="co">      toggle: false</span></span>
<span id="cb46-18"><a href="#cb46-18"></a><span class="co">      caption: none</span></span>
<span id="cb46-19"><a href="#cb46-19"></a><span class="co">---</span></span>
<span id="cb46-20"><a href="#cb46-20"></a><span class="fu"># Functions</span></span>
<span id="cb46-21"><a href="#cb46-21"></a></span>
<span id="cb46-22"><a href="#cb46-22"></a>Functions are an extremely important concept in almost every </span>
<span id="cb46-23"><a href="#cb46-23"></a>programming language, and R is no different. Learn what functions are </span>
<span id="cb46-24"><a href="#cb46-24"></a>and how to use them—then take charge by writing your own functions.</span>
<span id="cb46-25"><a href="#cb46-25"></a></span>
<span id="cb46-26"><a href="#cb46-26"></a><span class="fu">## Function documentation</span></span>
<span id="cb46-27"><a href="#cb46-27"></a></span>
<span id="cb46-28"><a href="#cb46-28"></a>Before even thinking of using an R function, you should clarify which </span>
<span id="cb46-29"><a href="#cb46-29"></a>arguments it expects. All the relevant details such as a description, </span>
<span id="cb46-30"><a href="#cb46-30"></a>usage, and arguments can be found in the documentation. To consult </span>
<span id="cb46-31"><a href="#cb46-31"></a>the documentation on the sample() function, for example, you can use </span>
<span id="cb46-32"><a href="#cb46-32"></a>one of following R commands:</span>
<span id="cb46-33"><a href="#cb46-33"></a></span>
<span id="cb46-34"><a href="#cb46-34"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-35"><a href="#cb46-35"></a><span class="fu">help</span>(sample)</span>
<span id="cb46-36"><a href="#cb46-36"></a>?sample</span>
<span id="cb46-37"><a href="#cb46-37"></a><span class="in">```</span></span>
<span id="cb46-38"><a href="#cb46-38"></a>If you execute these commands, you'll be redirected to </span>
<span id="cb46-39"><a href="#cb46-39"></a><span class="kw">&lt;www.rdocumentation.org.&gt;</span></span>
<span id="cb46-40"><a href="#cb46-40"></a></span>
<span id="cb46-41"><a href="#cb46-41"></a>A quick hack to see the arguments of the <span class="in">`sample()`</span> function is the </span>
<span id="cb46-42"><a href="#cb46-42"></a><span class="in">`args()`</span> function. Try it out in the console:</span>
<span id="cb46-43"><a href="#cb46-43"></a></span>
<span id="cb46-44"><a href="#cb46-44"></a><span class="in">``` {.r code-line-numbers="false"}</span></span>
<span id="cb46-45"><a href="#cb46-45"></a><span class="fu">args</span>(sample)</span>
<span id="cb46-46"><a href="#cb46-46"></a><span class="in">```</span></span>
<span id="cb46-47"><a href="#cb46-47"></a>In the next exercises, you'll be learning how to use the <span class="in">`mean()`</span> function with </span>
<span id="cb46-48"><a href="#cb46-48"></a>increasing complexity. The first thing you'll have to do is get acquainted with </span>
<span id="cb46-49"><a href="#cb46-49"></a>the <span class="in">`mean()`</span> function.</span>
<span id="cb46-50"><a href="#cb46-50"></a></span>
<span id="cb46-51"><a href="#cb46-51"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-52"><a href="#cb46-52"></a></span>
<span id="cb46-53"><a href="#cb46-53"></a><span class="ss">- </span>Consult the documentation on the <span class="in">`mean()`</span> function: <span class="in">`?mean`</span> or </span>
<span id="cb46-54"><a href="#cb46-54"></a><span class="in">`help(mean)`</span>.</span>
<span id="cb46-55"><a href="#cb46-55"></a><span class="ss">- </span>Inspect the arguments of the mean() function using the args() </span>
<span id="cb46-56"><a href="#cb46-56"></a>function.</span>
<span id="cb46-57"><a href="#cb46-57"></a></span>
<span id="cb46-58"><a href="#cb46-58"></a><span class="in">```{.r filename="ex_021.R"}</span></span>
<span id="cb46-59"><a href="#cb46-59"></a><span class="co"># Consult the documentation on the mean() function</span></span>
<span id="cb46-60"><a href="#cb46-60"></a></span>
<span id="cb46-61"><a href="#cb46-61"></a><span class="fu">help</span>(mean)</span>
<span id="cb46-62"><a href="#cb46-62"></a><span class="co"># Inspect the arguments of the mean() function</span></span>
<span id="cb46-63"><a href="#cb46-63"></a><span class="fu">args</span>(mean)</span>
<span id="cb46-64"><a href="#cb46-64"></a><span class="in">```</span></span>
<span id="cb46-65"><a href="#cb46-65"></a><span class="fu">## Use a function</span></span>
<span id="cb46-66"><a href="#cb46-66"></a></span>
<span id="cb46-67"><a href="#cb46-67"></a>The documentation on the <span class="in">`mean()`</span> </span>
<span id="cb46-68"><a href="#cb46-68"></a>function gives us quite some information:</span>
<span id="cb46-69"><a href="#cb46-69"></a></span>
<span id="cb46-70"><a href="#cb46-70"></a><span class="ss">- </span>The <span class="in">`mean()`</span> function computes the arithmetic mean.</span>
<span id="cb46-71"><a href="#cb46-71"></a><span class="ss">- </span>The most general method takes multiple arguments: <span class="in">`x`</span> and <span class="in">`...`</span>.</span>
<span id="cb46-72"><a href="#cb46-72"></a><span class="ss">- </span>The <span class="in">`x`</span> argument should be a vector containing numeric, logical or </span>
<span id="cb46-73"><a href="#cb46-73"></a> time-related information.</span>
<span id="cb46-74"><a href="#cb46-74"></a></span>
<span id="cb46-75"><a href="#cb46-75"></a>Remember that R can match arguments both by position and by name. Can </span>
<span id="cb46-76"><a href="#cb46-76"></a>you still remember the difference? You'll find out in this exercise!</span>
<span id="cb46-77"><a href="#cb46-77"></a></span>
<span id="cb46-78"><a href="#cb46-78"></a>Once more, you'll be working with the view counts of your social network </span>
<span id="cb46-79"><a href="#cb46-79"></a>profiles for the past 7 days. These are stored in the <span class="in">`linkedin`</span> </span>
<span id="cb46-80"><a href="#cb46-80"></a>and <span class="in">`facebook`</span> vectors and have already been created for you.</span>
<span id="cb46-81"><a href="#cb46-81"></a></span>
<span id="cb46-82"><a href="#cb46-82"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-83"><a href="#cb46-83"></a></span>
<span id="cb46-84"><a href="#cb46-84"></a><span class="ss">- </span>Calculate the average number of views for both <span class="in">`linkedin`</span> and </span>
<span id="cb46-85"><a href="#cb46-85"></a><span class="in">`facebook`</span> and assign the result to avg_li and <span class="in">`avg_fb`</span>, respectively.</span>
<span id="cb46-86"><a href="#cb46-86"></a>Experiment with different types of argument matching!</span>
<span id="cb46-87"><a href="#cb46-87"></a></span>
<span id="cb46-88"><a href="#cb46-88"></a><span class="ss">- </span>Print out both <span class="in">`avg_li`</span> and <span class="in">`avg_fb`</span>.</span>
<span id="cb46-89"><a href="#cb46-89"></a></span>
<span id="cb46-90"><a href="#cb46-90"></a><span class="in">```{.r filename="ex_022.R"}</span></span>
<span id="cb46-91"><a href="#cb46-91"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb46-92"><a href="#cb46-92"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb46-93"><a href="#cb46-93"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb46-94"><a href="#cb46-94"></a></span>
<span id="cb46-95"><a href="#cb46-95"></a><span class="co"># Calculate average number of views</span></span>
<span id="cb46-96"><a href="#cb46-96"></a>avg_li <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin)</span>
<span id="cb46-97"><a href="#cb46-97"></a>avg_fb <span class="ot">&lt;-</span> <span class="fu">mean</span>(facebook)</span>
<span id="cb46-98"><a href="#cb46-98"></a></span>
<span id="cb46-99"><a href="#cb46-99"></a></span>
<span id="cb46-100"><a href="#cb46-100"></a><span class="co"># Inspect avg_li and avg_fb</span></span>
<span id="cb46-101"><a href="#cb46-101"></a><span class="fu">print</span>(avg_li)</span>
<span id="cb46-102"><a href="#cb46-102"></a><span class="fu">print</span>(avg_fb)</span>
<span id="cb46-103"><a href="#cb46-103"></a><span class="in">```</span></span>
<span id="cb46-104"><a href="#cb46-104"></a></span>
<span id="cb46-105"><a href="#cb46-105"></a><span class="fu">## Use a function (2)</span></span>
<span id="cb46-106"><a href="#cb46-106"></a></span>
<span id="cb46-107"><a href="#cb46-107"></a>Check the documentation on the <span class="in">`mean()`</span> function again:</span>
<span id="cb46-108"><a href="#cb46-108"></a></span>
<span id="cb46-109"><a href="#cb46-109"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-110"><a href="#cb46-110"></a>?mean</span>
<span id="cb46-111"><a href="#cb46-111"></a><span class="in">```</span></span>
<span id="cb46-112"><a href="#cb46-112"></a></span>
<span id="cb46-113"><a href="#cb46-113"></a>The Usage section of the documentation includes two versions of the </span>
<span id="cb46-114"><a href="#cb46-114"></a><span class="in">`mean()`</span>function. The first usage,</span>
<span id="cb46-115"><a href="#cb46-115"></a></span>
<span id="cb46-116"><a href="#cb46-116"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-117"><a href="#cb46-117"></a><span class="fu">mean</span>(x, ...)</span>
<span id="cb46-118"><a href="#cb46-118"></a><span class="in">```</span></span>
<span id="cb46-119"><a href="#cb46-119"></a>is the most general usage of the mean function. The 'Default S3 method', </span>
<span id="cb46-120"><a href="#cb46-120"></a>however, is:</span>
<span id="cb46-121"><a href="#cb46-121"></a></span>
<span id="cb46-122"><a href="#cb46-122"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-123"><a href="#cb46-123"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span>
<span id="cb46-124"><a href="#cb46-124"></a><span class="in">```</span></span>
<span id="cb46-125"><a href="#cb46-125"></a>The <span class="in">`...`</span> is called the ellipsis. It is a way for R to pass arguments </span>
<span id="cb46-126"><a href="#cb46-126"></a>along without the function having to name them explicitly. The ellipsis </span>
<span id="cb46-127"><a href="#cb46-127"></a>will be treated in more detail in future courses.</span>
<span id="cb46-128"><a href="#cb46-128"></a></span>
<span id="cb46-129"><a href="#cb46-129"></a>For the remainder of this exercise, just work with the second usage of </span>
<span id="cb46-130"><a href="#cb46-130"></a>the mean function. Notice that both trim and na.rm have default values. </span>
<span id="cb46-131"><a href="#cb46-131"></a>This makes them *optional arguments*.</span>
<span id="cb46-132"><a href="#cb46-132"></a></span>
<span id="cb46-133"><a href="#cb46-133"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-134"><a href="#cb46-134"></a></span>
<span id="cb46-135"><a href="#cb46-135"></a><span class="ss">- </span>Calculate the mean of the element-wise sum of <span class="in">`linkedin`</span> and <span class="in">`facebook`</span></span>
<span id="cb46-136"><a href="#cb46-136"></a>and store the result in a variable avg_sum.</span>
<span id="cb46-137"><a href="#cb46-137"></a><span class="ss">- </span>Calculate the mean once more, but this time set the <span class="in">`trim`</span> argument </span>
<span id="cb46-138"><a href="#cb46-138"></a>equal to 0.2 and assign the result to <span class="in">`avg_sum_trimmed`</span>.</span>
<span id="cb46-139"><a href="#cb46-139"></a><span class="ss">- </span>Print out both <span class="in">`avg_sum`</span> and <span class="in">`avg_sum_trimmed`</span>; can you spot the</span>
<span id="cb46-140"><a href="#cb46-140"></a>difference?</span>
<span id="cb46-141"><a href="#cb46-141"></a></span>
<span id="cb46-142"><a href="#cb46-142"></a><span class="in">```{.r filename="ex_023.R"}</span></span>
<span id="cb46-143"><a href="#cb46-143"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb46-144"><a href="#cb46-144"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb46-145"><a href="#cb46-145"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb46-146"><a href="#cb46-146"></a></span>
<span id="cb46-147"><a href="#cb46-147"></a><span class="co"># Calculate the mean of the sum</span></span>
<span id="cb46-148"><a href="#cb46-148"></a>avg_sum <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook)</span>
<span id="cb46-149"><a href="#cb46-149"></a></span>
<span id="cb46-150"><a href="#cb46-150"></a><span class="co"># Calculate the trimmed mean of the sum</span></span>
<span id="cb46-151"><a href="#cb46-151"></a></span>
<span id="cb46-152"><a href="#cb46-152"></a>avg_sum_trimmed <span class="ot">&lt;-</span> <span class="fu">mean</span>(linkedin <span class="sc">+</span> facebook, <span class="at">trim =</span> <span class="fl">0.2</span>)</span>
<span id="cb46-153"><a href="#cb46-153"></a><span class="co"># Inspect both new variables</span></span>
<span id="cb46-154"><a href="#cb46-154"></a><span class="fu">print</span>(avg_sum)</span>
<span id="cb46-155"><a href="#cb46-155"></a><span class="fu">print</span>(avg_sum_trimmed)</span>
<span id="cb46-156"><a href="#cb46-156"></a><span class="in">```</span> </span>
<span id="cb46-157"><a href="#cb46-157"></a></span>
<span id="cb46-158"><a href="#cb46-158"></a><span class="fu">## Use a function (3)</span></span>
<span id="cb46-159"><a href="#cb46-159"></a></span>
<span id="cb46-160"><a href="#cb46-160"></a>In the video, Filip guided you through the example of specifying </span>
<span id="cb46-161"><a href="#cb46-161"></a>arguments of the <span class="in">`sd()`</span> function. The <span class="in">`sd()`</span> function has an optional </span>
<span id="cb46-162"><a href="#cb46-162"></a>argument, <span class="in">`na.rm`</span> that specified whether or not to remove missing values </span>
<span id="cb46-163"><a href="#cb46-163"></a>from the input vector before calculating the standard deviation.</span>
<span id="cb46-164"><a href="#cb46-164"></a></span>
<span id="cb46-165"><a href="#cb46-165"></a>If you've had a good look at the documentation, you'll know by now that </span>
<span id="cb46-166"><a href="#cb46-166"></a>the <span class="in">`mean()`</span> function also has this argument, <span class="in">`na.rm`</span>, and it does the </span>
<span id="cb46-167"><a href="#cb46-167"></a>exact same thing. By default, it is set to <span class="in">`FALSE`</span>, as the Usage of the </span>
<span id="cb46-168"><a href="#cb46-168"></a>default S3 method shows:</span>
<span id="cb46-169"><a href="#cb46-169"></a></span>
<span id="cb46-170"><a href="#cb46-170"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-171"><a href="#cb46-171"></a><span class="fu">mean</span>(x, <span class="at">trim =</span> <span class="dv">0</span>, <span class="at">na.rm =</span> <span class="cn">FALSE</span>, ...)</span>
<span id="cb46-172"><a href="#cb46-172"></a><span class="in">```</span></span>
<span id="cb46-173"><a href="#cb46-173"></a></span>
<span id="cb46-174"><a href="#cb46-174"></a>Let's see what happens if your vectors <span class="in">`linkedin`</span> and <span class="in">`facebook`</span> contain </span>
<span id="cb46-175"><a href="#cb46-175"></a>missing values (<span class="in">`NA`</span>).</span>
<span id="cb46-176"><a href="#cb46-176"></a></span>
<span id="cb46-177"><a href="#cb46-177"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-178"><a href="#cb46-178"></a></span>
<span id="cb46-179"><a href="#cb46-179"></a><span class="ss">- </span>Calculate the average number of LinkedIn profile views, without </span>
<span id="cb46-180"><a href="#cb46-180"></a>specifying any optional arguments. Simply print the result to the </span>
<span id="cb46-181"><a href="#cb46-181"></a>console.</span>
<span id="cb46-182"><a href="#cb46-182"></a><span class="ss">- </span>Calculate the average number of LinkedIn profile views, but this time </span>
<span id="cb46-183"><a href="#cb46-183"></a>tell R to strip missing values from the input vector.</span>
<span id="cb46-184"><a href="#cb46-184"></a></span>
<span id="cb46-185"><a href="#cb46-185"></a><span class="in">```{.r filename="ex_024.R"}</span></span>
<span id="cb46-186"><a href="#cb46-186"></a> <span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb46-187"><a href="#cb46-187"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb46-188"><a href="#cb46-188"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb46-189"><a href="#cb46-189"></a></span>
<span id="cb46-190"><a href="#cb46-190"></a><span class="co"># Basic average of linkedin</span></span>
<span id="cb46-191"><a href="#cb46-191"></a></span>
<span id="cb46-192"><a href="#cb46-192"></a><span class="fu">mean</span>(linkedin)</span>
<span id="cb46-193"><a href="#cb46-193"></a><span class="co"># Advanced average of linkedin</span></span>
<span id="cb46-194"><a href="#cb46-194"></a><span class="fu">mean</span>(linkedin, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-195"><a href="#cb46-195"></a><span class="in">```</span></span>
<span id="cb46-196"><a href="#cb46-196"></a><span class="fu">## Functions inside functions</span></span>
<span id="cb46-197"><a href="#cb46-197"></a></span>
<span id="cb46-198"><a href="#cb46-198"></a>You already know that R functions return objects that you can then use </span>
<span id="cb46-199"><a href="#cb46-199"></a>somewhere else. This makes it easy to use functions inside functions, </span>
<span id="cb46-200"><a href="#cb46-200"></a>as you've seen before:</span>
<span id="cb46-201"><a href="#cb46-201"></a></span>
<span id="cb46-202"><a href="#cb46-202"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-203"><a href="#cb46-203"></a>speed <span class="ot">&lt;-</span> <span class="dv">31</span></span>
<span id="cb46-204"><a href="#cb46-204"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Your speed is"</span>, speed))</span>
<span id="cb46-205"><a href="#cb46-205"></a><span class="in">```</span></span>
<span id="cb46-206"><a href="#cb46-206"></a>Notice that both the <span class="in">`print()`</span> and <span class="in">`paste()`</span> functions use the ellipsis </span>
<span id="cb46-207"><a href="#cb46-207"></a><span class="ss">- </span><span class="in">`...`</span> - as an argument. Can you figure out how they're used?</span>
<span id="cb46-208"><a href="#cb46-208"></a></span>
<span id="cb46-209"><a href="#cb46-209"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-210"><a href="#cb46-210"></a></span>
<span id="cb46-211"><a href="#cb46-211"></a>Use <span class="in">`abs()`</span> on <span class="in">`linkedin - facebook`</span> to get the absolute differences</span>
<span id="cb46-212"><a href="#cb46-212"></a>between the daily LinkedIn and Facebook profile views. Place the call to </span>
<span id="cb46-213"><a href="#cb46-213"></a><span class="in">`abs()`</span> inside <span class="in">`mean()`</span> to calculate the Mean Absolute Deviation. In the </span>
<span id="cb46-214"><a href="#cb46-214"></a><span class="in">`mean()`</span> call, make sure to specify <span class="in">`na.rm`</span> to treat missing values</span>
<span id="cb46-215"><a href="#cb46-215"></a>correctly!</span>
<span id="cb46-216"><a href="#cb46-216"></a></span>
<span id="cb46-217"><a href="#cb46-217"></a><span class="in">```{.r filename="ex_025.R"}</span></span>
<span id="cb46-218"><a href="#cb46-218"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb46-219"><a href="#cb46-219"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="cn">NA</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb46-220"><a href="#cb46-220"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb46-221"><a href="#cb46-221"></a></span>
<span id="cb46-222"><a href="#cb46-222"></a><span class="co"># Calculate the mean absolute deviation</span></span>
<span id="cb46-223"><a href="#cb46-223"></a><span class="fu">mean</span>(<span class="fu">abs</span>(linkedin <span class="sc">-</span> facebook), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)    </span>
<span id="cb46-224"><a href="#cb46-224"></a><span class="in">```</span> </span>
<span id="cb46-225"><a href="#cb46-225"></a><span class="fu">## Write your own function</span></span>
<span id="cb46-226"><a href="#cb46-226"></a>Wow, things are getting serious… you're about to write your own </span>
<span id="cb46-227"><a href="#cb46-227"></a>function! Before you have a go at it, have a look at the following </span>
<span id="cb46-228"><a href="#cb46-228"></a>function template:</span>
<span id="cb46-229"><a href="#cb46-229"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-230"><a href="#cb46-230"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2) {</span>
<span id="cb46-231"><a href="#cb46-231"></a>  body</span>
<span id="cb46-232"><a href="#cb46-232"></a>}</span>
<span id="cb46-233"><a href="#cb46-233"></a><span class="in">```</span></span>
<span id="cb46-234"><a href="#cb46-234"></a>Notice that this recipe uses the assignment operator (<span class="in">`&lt;-`</span>)</span>
<span id="cb46-235"><a href="#cb46-235"></a>just as if you were assigning a vector to a variable for example. This </span>
<span id="cb46-236"><a href="#cb46-236"></a>is not a coincidence. Creating a function in R basically is the </span>
<span id="cb46-237"><a href="#cb46-237"></a>assignment of a function object to a variable! In the recipe above, </span>
<span id="cb46-238"><a href="#cb46-238"></a>you're creating a new R variable my_fun, that becomes available in the </span>
<span id="cb46-239"><a href="#cb46-239"></a>workspace as soon as you execute the definition. From then on, you can </span>
<span id="cb46-240"><a href="#cb46-240"></a>use the my_fun as a function.</span>
<span id="cb46-241"><a href="#cb46-241"></a></span>
<span id="cb46-242"><a href="#cb46-242"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-243"><a href="#cb46-243"></a></span>
<span id="cb46-244"><a href="#cb46-244"></a><span class="ss">- </span>Create a function <span class="in">`pow_two()`</span>: it takes one argument and returns that </span>
<span id="cb46-245"><a href="#cb46-245"></a>number squared (that number times itself).</span>
<span id="cb46-246"><a href="#cb46-246"></a><span class="ss">- </span>Call this newly defined function with 12 as input.</span>
<span id="cb46-247"><a href="#cb46-247"></a><span class="ss">- </span>Next, create a function <span class="in">`sum_abs()`</span>, that takes two arguments and </span>
<span id="cb46-248"><a href="#cb46-248"></a>returns the sum of the absolute values of both arguments.</span>
<span id="cb46-249"><a href="#cb46-249"></a><span class="ss">- </span>Finally, call the function <span class="in">`sum_abs()`</span> with arguments <span class="in">`-2`</span> and <span class="in">`3`</span> </span>
<span id="cb46-250"><a href="#cb46-250"></a>afterwards.</span>
<span id="cb46-251"><a href="#cb46-251"></a></span>
<span id="cb46-252"><a href="#cb46-252"></a><span class="in">```{.r filename=ex_026.R}</span></span>
<span id="cb46-253"><a href="#cb46-253"></a><span class="co"># Create a function pow_two()</span></span>
<span id="cb46-254"><a href="#cb46-254"></a></span>
<span id="cb46-255"><a href="#cb46-255"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-256"><a href="#cb46-256"></a>    x <span class="sc">^</span> <span class="dv">2</span> </span>
<span id="cb46-257"><a href="#cb46-257"></a>}</span>
<span id="cb46-258"><a href="#cb46-258"></a></span>
<span id="cb46-259"><a href="#cb46-259"></a><span class="co"># Use the function</span></span>
<span id="cb46-260"><a href="#cb46-260"></a><span class="fu">pow_two</span>(<span class="dv">12</span>)</span>
<span id="cb46-261"><a href="#cb46-261"></a></span>
<span id="cb46-262"><a href="#cb46-262"></a><span class="co"># Create a function sum_abs()</span></span>
<span id="cb46-263"><a href="#cb46-263"></a></span>
<span id="cb46-264"><a href="#cb46-264"></a>sum_abs <span class="ot">&lt;-</span> <span class="cf">function</span>(x1, x2){</span>
<span id="cb46-265"><a href="#cb46-265"></a>    <span class="fu">abs</span>(x1 <span class="sc">+</span> x2)</span>
<span id="cb46-266"><a href="#cb46-266"></a>}</span>
<span id="cb46-267"><a href="#cb46-267"></a></span>
<span id="cb46-268"><a href="#cb46-268"></a><span class="co"># Use the function</span></span>
<span id="cb46-269"><a href="#cb46-269"></a><span class="fu">sum_abs</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb46-270"><a href="#cb46-270"></a><span class="in">```</span></span>
<span id="cb46-271"><a href="#cb46-271"></a><span class="fu">## Write your own function (2)</span></span>
<span id="cb46-272"><a href="#cb46-272"></a></span>
<span id="cb46-273"><a href="#cb46-273"></a>There are situations in which your function does not require an input. Let's say</span>
<span id="cb46-274"><a href="#cb46-274"></a>you want to write a function that gives us the random outcome of throwing a fair </span>
<span id="cb46-275"><a href="#cb46-275"></a>die:</span>
<span id="cb46-276"><a href="#cb46-276"></a></span>
<span id="cb46-277"><a href="#cb46-277"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-278"><a href="#cb46-278"></a>throw_die <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb46-279"><a href="#cb46-279"></a>  number <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb46-280"><a href="#cb46-280"></a>  number</span>
<span id="cb46-281"><a href="#cb46-281"></a>}</span>
<span id="cb46-282"><a href="#cb46-282"></a><span class="fu">throw_die</span>()</span>
<span id="cb46-283"><a href="#cb46-283"></a><span class="in">```</span></span>
<span id="cb46-284"><a href="#cb46-284"></a></span>
<span id="cb46-285"><a href="#cb46-285"></a>Up to you to code a function that doesn't take any arguments!</span>
<span id="cb46-286"><a href="#cb46-286"></a></span>
<span id="cb46-287"><a href="#cb46-287"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-288"><a href="#cb46-288"></a></span>
<span id="cb46-289"><a href="#cb46-289"></a><span class="ss">- </span>Define a function, <span class="in">`hello()`</span>. It prints out "Hi there!" and returns <span class="in">`TRUE`</span>. It </span>
<span id="cb46-290"><a href="#cb46-290"></a>has no arguments.</span>
<span id="cb46-291"><a href="#cb46-291"></a><span class="ss">- </span>Call the function <span class="in">`hello()`</span>, without specifying arguments of course.</span>
<span id="cb46-292"><a href="#cb46-292"></a></span>
<span id="cb46-293"><a href="#cb46-293"></a><span class="in">```{.r filename="ex_027.R"}</span></span>
<span id="cb46-294"><a href="#cb46-294"></a><span class="co"># Define the function hello()</span></span>
<span id="cb46-295"><a href="#cb46-295"></a>hello <span class="ot">&lt;-</span> <span class="cf">function</span>(){</span>
<span id="cb46-296"><a href="#cb46-296"></a>    <span class="fu">print</span>(<span class="st">"Hi there!"</span>)</span>
<span id="cb46-297"><a href="#cb46-297"></a>    return <span class="cn">TRUE</span></span>
<span id="cb46-298"><a href="#cb46-298"></a>}</span>
<span id="cb46-299"><a href="#cb46-299"></a></span>
<span id="cb46-300"><a href="#cb46-300"></a><span class="co"># Call the function hello()</span></span>
<span id="cb46-301"><a href="#cb46-301"></a><span class="fu">hello</span>()</span>
<span id="cb46-302"><a href="#cb46-302"></a><span class="in">```</span></span>
<span id="cb46-303"><a href="#cb46-303"></a></span>
<span id="cb46-304"><a href="#cb46-304"></a><span class="fu">## Write your own function (3)</span></span>
<span id="cb46-305"><a href="#cb46-305"></a></span>
<span id="cb46-306"><a href="#cb46-306"></a>Do you still remember the difference between an argument with and without </span>
<span id="cb46-307"><a href="#cb46-307"></a>default values? The usage section in the sd() documentation shows the following </span>
<span id="cb46-308"><a href="#cb46-308"></a>information:</span>
<span id="cb46-309"><a href="#cb46-309"></a></span>
<span id="cb46-310"><a href="#cb46-310"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-311"><a href="#cb46-311"></a><span class="fu">sd</span>(x, <span class="at">na.rm =</span> <span class="cn">FALSE</span>)</span>
<span id="cb46-312"><a href="#cb46-312"></a><span class="in">```</span></span>
<span id="cb46-313"><a href="#cb46-313"></a></span>
<span id="cb46-314"><a href="#cb46-314"></a>This tells us that <span class="in">`x`</span> has to be defined for the <span class="in">`sd()`</span> function to be called </span>
<span id="cb46-315"><a href="#cb46-315"></a>correctly, however, <span class="in">`na.rm`</span> already has a default value. Not specifying this </span>
<span id="cb46-316"><a href="#cb46-316"></a>argument won't cause an error.</span>
<span id="cb46-317"><a href="#cb46-317"></a></span>
<span id="cb46-318"><a href="#cb46-318"></a>You can define default argument values in your own R functions as well. You can</span>
<span id="cb46-319"><a href="#cb46-319"></a>use the following recipe to do so:</span>
<span id="cb46-320"><a href="#cb46-320"></a></span>
<span id="cb46-321"><a href="#cb46-321"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-322"><a href="#cb46-322"></a>my_fun <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, <span class="at">arg2 =</span> val2) {</span>
<span id="cb46-323"><a href="#cb46-323"></a>  body</span>
<span id="cb46-324"><a href="#cb46-324"></a>}</span>
<span id="cb46-325"><a href="#cb46-325"></a><span class="in">```</span></span>
<span id="cb46-326"><a href="#cb46-326"></a></span>
<span id="cb46-327"><a href="#cb46-327"></a>The editor on the right already includes an extended version of the <span class="in">`pow_two()`</span></span>
<span id="cb46-328"><a href="#cb46-328"></a>function from before. Can you finish it?</span>
<span id="cb46-329"><a href="#cb46-329"></a></span>
<span id="cb46-330"><a href="#cb46-330"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-331"><a href="#cb46-331"></a></span>
<span id="cb46-332"><a href="#cb46-332"></a><span class="ss">- </span>Add an optional argument, named <span class="in">`print_info`</span>, that is <span class="in">`TRUE`</span> by default.</span>
<span id="cb46-333"><a href="#cb46-333"></a><span class="ss">- </span>Wrap an if construct around the <span class="in">`print()`</span> function: this function should only </span>
<span id="cb46-334"><a href="#cb46-334"></a>be executed if <span class="in">`print_info`</span> is <span class="in">`TRUE`</span>.</span>
<span id="cb46-335"><a href="#cb46-335"></a><span class="ss">- </span>Feel free to experiment with the <span class="in">`pow_two()`</span> function you've just coded.</span>
<span id="cb46-336"><a href="#cb46-336"></a></span>
<span id="cb46-337"><a href="#cb46-337"></a><span class="in">```{.r filename=ex_028.R}</span></span>
<span id="cb46-338"><a href="#cb46-338"></a><span class="co"># Finish the pow_two() function</span></span>
<span id="cb46-339"><a href="#cb46-339"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">print_info =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb46-340"><a href="#cb46-340"></a>  y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb46-341"><a href="#cb46-341"></a>  <span class="cf">if</span>(print_info){</span>
<span id="cb46-342"><a href="#cb46-342"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(x, <span class="st">"to the power two equals"</span>, y))</span>
<span id="cb46-343"><a href="#cb46-343"></a>  }</span>
<span id="cb46-344"><a href="#cb46-344"></a>  <span class="fu">return</span>(y)</span>
<span id="cb46-345"><a href="#cb46-345"></a>}</span>
<span id="cb46-346"><a href="#cb46-346"></a><span class="in">```</span></span>
<span id="cb46-347"><a href="#cb46-347"></a><span class="fu">## Function scoping</span></span>
<span id="cb46-348"><a href="#cb46-348"></a></span>
<span id="cb46-349"><a href="#cb46-349"></a>An issue that Filip did not discuss in the video is function scoping. It implies</span>
<span id="cb46-350"><a href="#cb46-350"></a>that variables that are defined inside a function are not accessible outside </span>
<span id="cb46-351"><a href="#cb46-351"></a>that function. Try running the following code and see if you understand the </span>
<span id="cb46-352"><a href="#cb46-352"></a>results:</span>
<span id="cb46-353"><a href="#cb46-353"></a></span>
<span id="cb46-354"><a href="#cb46-354"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-355"><a href="#cb46-355"></a>pow_two <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-356"><a href="#cb46-356"></a>  y <span class="ot">&lt;-</span> x <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb46-357"><a href="#cb46-357"></a>  <span class="fu">return</span>(y)</span>
<span id="cb46-358"><a href="#cb46-358"></a>}</span>
<span id="cb46-359"><a href="#cb46-359"></a><span class="fu">pow_two</span>(<span class="dv">4</span>)</span>
<span id="cb46-360"><a href="#cb46-360"></a>y</span>
<span id="cb46-361"><a href="#cb46-361"></a>x</span>
<span id="cb46-362"><a href="#cb46-362"></a><span class="in">```</span> </span>
<span id="cb46-363"><a href="#cb46-363"></a><span class="in">`y`</span> was defined inside the <span class="in">`pow_two()`</span> function and therefore it is not </span>
<span id="cb46-364"><a href="#cb46-364"></a>accessible outside of that function. This is also true for the function's </span>
<span id="cb46-365"><a href="#cb46-365"></a>arguments of course - <span class="in">`x`</span> in this case.</span>
<span id="cb46-366"><a href="#cb46-366"></a></span>
<span id="cb46-367"><a href="#cb46-367"></a>Which statement is correct about the following chunk of code? </span>
<span id="cb46-368"><a href="#cb46-368"></a>The function <span class="in">`two_dice()`</span> is already available in the workspace.</span>
<span id="cb46-369"><a href="#cb46-369"></a></span>
<span id="cb46-370"><a href="#cb46-370"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-371"><a href="#cb46-371"></a>two_dice <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb46-372"><a href="#cb46-372"></a>  possibilities <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb46-373"><a href="#cb46-373"></a>  dice1 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb46-374"><a href="#cb46-374"></a>  dice2 <span class="ot">&lt;-</span> <span class="fu">sample</span>(possibilities, <span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb46-375"><a href="#cb46-375"></a>  dice1 <span class="sc">+</span> dice2</span>
<span id="cb46-376"><a href="#cb46-376"></a>}</span>
<span id="cb46-377"><a href="#cb46-377"></a><span class="in">```</span> </span>
<span id="cb46-378"><a href="#cb46-378"></a><span class="fu">### Instructions `50 XP` {.unnumbered}</span></span>
<span id="cb46-379"><a href="#cb46-379"></a></span>
<span id="cb46-380"><a href="#cb46-380"></a><span class="ss">+ </span>*Whatever the way of calling the two_dice() function, R won't have access to </span>
<span id="cb46-381"><a href="#cb46-381"></a>dice1 and dice2 outside the function.*</span>
<span id="cb46-382"><a href="#cb46-382"></a></span>
<span id="cb46-383"><a href="#cb46-383"></a><span class="fu">## R passes arguments by value</span></span>
<span id="cb46-384"><a href="#cb46-384"></a></span>
<span id="cb46-385"><a href="#cb46-385"></a>The title gives it away already: R passes arguments by value. What does this </span>
<span id="cb46-386"><a href="#cb46-386"></a>mean? Simply put, it means that an R function cannot change the variable that you </span>
<span id="cb46-387"><a href="#cb46-387"></a>input to that function. Let's look at a simple example (try it in the console):</span>
<span id="cb46-388"><a href="#cb46-388"></a></span>
<span id="cb46-389"><a href="#cb46-389"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-390"><a href="#cb46-390"></a>triple <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-391"><a href="#cb46-391"></a>  x <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span>x</span>
<span id="cb46-392"><a href="#cb46-392"></a>  x</span>
<span id="cb46-393"><a href="#cb46-393"></a>}</span>
<span id="cb46-394"><a href="#cb46-394"></a>a <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb46-395"><a href="#cb46-395"></a><span class="fu">triple</span>(a)</span>
<span id="cb46-396"><a href="#cb46-396"></a>a</span>
<span id="cb46-397"><a href="#cb46-397"></a><span class="in">```</span></span>
<span id="cb46-398"><a href="#cb46-398"></a></span>
<span id="cb46-399"><a href="#cb46-399"></a>Inside the <span class="in">`triple()`</span> function, the argument <span class="in">`x`</span> gets overwritten with its value </span>
<span id="cb46-400"><a href="#cb46-400"></a>times three. Afterwards this new <span class="in">`x`</span> is returned. If you call this function with </span>
<span id="cb46-401"><a href="#cb46-401"></a>a variable <span class="in">`a`</span> set equal to 5, you obtain 15. But did the value of  <span class="in">`a`</span> change? </span>
<span id="cb46-402"><a href="#cb46-402"></a>If R were to pass <span class="in">`a`</span> to <span class="in">`triple()`</span> by reference, the override of the <span class="in">`x`</span> inside </span>
<span id="cb46-403"><a href="#cb46-403"></a>the R passes by value, so the R objects you pass to a function can never change </span>
<span id="cb46-404"><a href="#cb46-404"></a>unless you do an explicit assignment. a remains equal to 5, even after calling </span>
<span id="cb46-405"><a href="#cb46-405"></a><span class="in">`triple(a)`</span>.</span>
<span id="cb46-406"><a href="#cb46-406"></a></span>
<span id="cb46-407"><a href="#cb46-407"></a>Can you tell which one of the following statements is false about the following </span>
<span id="cb46-408"><a href="#cb46-408"></a>piece of code?</span>
<span id="cb46-409"><a href="#cb46-409"></a></span>
<span id="cb46-410"><a href="#cb46-410"></a></span>
<span id="cb46-411"><a href="#cb46-411"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-412"><a href="#cb46-412"></a>increment <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc =</span> <span class="dv">1</span>) {</span>
<span id="cb46-413"><a href="#cb46-413"></a>  x <span class="ot">&lt;-</span> x <span class="sc">+</span> inc</span>
<span id="cb46-414"><a href="#cb46-414"></a>  x</span>
<span id="cb46-415"><a href="#cb46-415"></a>}</span>
<span id="cb46-416"><a href="#cb46-416"></a>count <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb46-417"><a href="#cb46-417"></a>a <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span>
<span id="cb46-418"><a href="#cb46-418"></a>b <span class="ot">&lt;-</span> <span class="fu">increment</span>(count)</span>
<span id="cb46-419"><a href="#cb46-419"></a>count <span class="ot">&lt;-</span> <span class="fu">increment</span>(count, <span class="dv">2</span>)</span>
<span id="cb46-420"><a href="#cb46-420"></a><span class="in">```</span></span>
<span id="cb46-421"><a href="#cb46-421"></a><span class="fu">### Instructions `50 XP` {.unnumbered}</span></span>
<span id="cb46-422"><a href="#cb46-422"></a></span>
<span id="cb46-423"><a href="#cb46-423"></a><span class="ss">+ </span>*In the end, count will equal 10.*</span>
<span id="cb46-424"><a href="#cb46-424"></a></span>
<span id="cb46-425"><a href="#cb46-425"></a><span class="fu">## R you functional?</span></span>
<span id="cb46-426"><a href="#cb46-426"></a>Now that you've acquired some skills in defining functions with different types </span>
<span id="cb46-427"><a href="#cb46-427"></a>of arguments and return values, you should try to create more advanced </span>
<span id="cb46-428"><a href="#cb46-428"></a>functions. As you've noticed in the previous exercises, it's perfectly possible </span>
<span id="cb46-429"><a href="#cb46-429"></a>to add control-flow constructs, loops and even other functions to your function </span>
<span id="cb46-430"><a href="#cb46-430"></a>body.</span>
<span id="cb46-431"><a href="#cb46-431"></a></span>
<span id="cb46-432"><a href="#cb46-432"></a>Remember our social media example? The vectors <span class="in">`linkedin`</span> and <span class="in">`facebook`</span> are </span>
<span id="cb46-433"><a href="#cb46-433"></a>already defined in the workspace so you can get your hands dirty straight away. </span>
<span id="cb46-434"><a href="#cb46-434"></a>As a first step, you will be writing a function that can interpret a single </span>
<span id="cb46-435"><a href="#cb46-435"></a>value of this vector. In the next exercise, you will write another function that </span>
<span id="cb46-436"><a href="#cb46-436"></a>can handle an entire vector at once.</span>
<span id="cb46-437"><a href="#cb46-437"></a></span>
<span id="cb46-438"><a href="#cb46-438"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-439"><a href="#cb46-439"></a></span>
<span id="cb46-440"><a href="#cb46-440"></a><span class="ss">- </span>Finish the function definition for <span class="in">`interpret()`</span>, that interprets the </span>
<span id="cb46-441"><a href="#cb46-441"></a>number of profile views on a single day:</span>
<span id="cb46-442"><a href="#cb46-442"></a><span class="ss">- </span>The function takes one argument, num_views.</span>
<span id="cb46-443"><a href="#cb46-443"></a><span class="ss">- </span>If <span class="in">`num_views`</span> is greater than 15, the function prints out </span>
<span id="cb46-444"><a href="#cb46-444"></a>"You're popular!" to the console and returns <span class="in">`num_views`</span>.</span>
<span id="cb46-445"><a href="#cb46-445"></a><span class="ss">- </span>Else, the function prints out "Try to be more visible!" and returns 0.</span>
<span id="cb46-446"><a href="#cb46-446"></a>Finally, call the interpret() function twice: on the first value of the linkedin </span>
<span id="cb46-447"><a href="#cb46-447"></a>vector and on the second element of the facebook vector.</span>
<span id="cb46-448"><a href="#cb46-448"></a></span>
<span id="cb46-449"><a href="#cb46-449"></a><span class="in">```{.r filename="ex_029.R"}</span></span>
<span id="cb46-450"><a href="#cb46-450"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb46-451"><a href="#cb46-451"></a></span>
<span id="cb46-452"><a href="#cb46-452"></a><span class="co"># Define the interpret function</span></span>
<span id="cb46-453"><a href="#cb46-453"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb46-454"><a href="#cb46-454"></a>  <span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb46-455"><a href="#cb46-455"></a>    <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb46-456"><a href="#cb46-456"></a>    <span class="fu">return</span>(num_views)</span>
<span id="cb46-457"><a href="#cb46-457"></a>  } <span class="cf">else</span> {</span>
<span id="cb46-458"><a href="#cb46-458"></a>    <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb46-459"><a href="#cb46-459"></a>    <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb46-460"><a href="#cb46-460"></a>  }</span>
<span id="cb46-461"><a href="#cb46-461"></a>}</span>
<span id="cb46-462"><a href="#cb46-462"></a></span>
<span id="cb46-463"><a href="#cb46-463"></a><span class="co"># Call the interpret function twice</span></span>
<span id="cb46-464"><a href="#cb46-464"></a><span class="fu">interpret</span>(linkedin[<span class="dv">1</span>])</span>
<span id="cb46-465"><a href="#cb46-465"></a><span class="fu">interpret</span>(facebook[<span class="dv">1</span>])</span>
<span id="cb46-466"><a href="#cb46-466"></a><span class="in">```</span></span>
<span id="cb46-467"><a href="#cb46-467"></a><span class="fu">## R you functional? (2)</span></span>
<span id="cb46-468"><a href="#cb46-468"></a>A possible implementation of the <span class="in">`interpret()`</span> function has been provided for </span>
<span id="cb46-469"><a href="#cb46-469"></a>you.  In this exercise you'll be writing another function that will use the </span>
<span id="cb46-470"><a href="#cb46-470"></a><span class="in">`interpret()`</span> function to interpret all the data from your daily profile views </span>
<span id="cb46-471"><a href="#cb46-471"></a>inside a vector. Furthermore, your function will return the sum of views on </span>
<span id="cb46-472"><a href="#cb46-472"></a>popular days, if asked for. A <span class="in">`for`</span> loop is ideal for iterating over all the </span>
<span id="cb46-473"><a href="#cb46-473"></a>vector elements. The ability to return the sum of views on popular days is </span>
<span id="cb46-474"><a href="#cb46-474"></a>something you can code through a function argument with a default value.</span>
<span id="cb46-475"><a href="#cb46-475"></a></span>
<span id="cb46-476"><a href="#cb46-476"></a><span class="fu">### Instructions `100 XP`</span></span>
<span id="cb46-477"><a href="#cb46-477"></a></span>
<span id="cb46-478"><a href="#cb46-478"></a>Finish the template for the <span class="in">`interpret_all()`</span> function:</span>
<span id="cb46-479"><a href="#cb46-479"></a></span>
<span id="cb46-480"><a href="#cb46-480"></a><span class="ss">- </span>Make return_sum an optional argument, that is <span class="in">`TRUE`</span> by default.</span>
<span id="cb46-481"><a href="#cb46-481"></a><span class="ss">- </span>Inside the for loop, iterate over all views: on every iteration, add the </span>
<span id="cb46-482"><a href="#cb46-482"></a>result of <span class="in">`interpret(v)`</span> to count. Remember that <span class="in">`interpret(v)`</span> returns v for </span>
<span id="cb46-483"><a href="#cb46-483"></a>popular days, and 0 otherwise. At the same time, <span class="in">`interpret(v)`</span> will also do </span>
<span id="cb46-484"><a href="#cb46-484"></a>some printouts.</span>
<span id="cb46-485"><a href="#cb46-485"></a><span class="ss">- </span>Finish the if construct:</span>
<span id="cb46-486"><a href="#cb46-486"></a><span class="ss">- </span>If return_sum is TRUE, return count.</span>
<span id="cb46-487"><a href="#cb46-487"></a><span class="ss">- </span>Else, return NULL.</span>
<span id="cb46-488"><a href="#cb46-488"></a></span>
<span id="cb46-489"><a href="#cb46-489"></a>Call this newly defined function on both linkedin and facebook.</span>
<span id="cb46-490"><a href="#cb46-490"></a></span>
<span id="cb46-491"><a href="#cb46-491"></a><span class="in">```{.r filename="ex_029.R"}</span></span>
<span id="cb46-492"><a href="#cb46-492"></a><span class="co"># The linkedin and facebook vectors have already been created for you</span></span>
<span id="cb46-493"><a href="#cb46-493"></a>linkedin <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">9</span>, <span class="dv">13</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">17</span>, <span class="dv">14</span>)</span>
<span id="cb46-494"><a href="#cb46-494"></a>facebook <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">17</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">16</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">14</span>)</span>
<span id="cb46-495"><a href="#cb46-495"></a></span>
<span id="cb46-496"><a href="#cb46-496"></a><span class="co"># The interpret() can be used inside interpret_all()</span></span>
<span id="cb46-497"><a href="#cb46-497"></a>interpret <span class="ot">&lt;-</span> <span class="cf">function</span>(num_views) {</span>
<span id="cb46-498"><a href="#cb46-498"></a>  <span class="cf">if</span> (num_views <span class="sc">&gt;</span> <span class="dv">15</span>) {</span>
<span id="cb46-499"><a href="#cb46-499"></a>    <span class="fu">print</span>(<span class="st">"You're popular!"</span>)</span>
<span id="cb46-500"><a href="#cb46-500"></a>    <span class="fu">return</span>(num_views)</span>
<span id="cb46-501"><a href="#cb46-501"></a>  } <span class="cf">else</span> {</span>
<span id="cb46-502"><a href="#cb46-502"></a>    <span class="fu">print</span>(<span class="st">"Try to be more visible!"</span>)</span>
<span id="cb46-503"><a href="#cb46-503"></a>    <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb46-504"><a href="#cb46-504"></a>  }</span>
<span id="cb46-505"><a href="#cb46-505"></a>}</span>
<span id="cb46-506"><a href="#cb46-506"></a></span>
<span id="cb46-507"><a href="#cb46-507"></a><span class="co"># Define the interpret_all() function</span></span>
<span id="cb46-508"><a href="#cb46-508"></a><span class="co"># views: vector with data to interpret</span></span>
<span id="cb46-509"><a href="#cb46-509"></a><span class="co"># return_sum: return total number of views on popular days?</span></span>
<span id="cb46-510"><a href="#cb46-510"></a>interpret_all <span class="ot">&lt;-</span> <span class="cf">function</span>(views, <span class="at">return_sum =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb46-511"><a href="#cb46-511"></a>  count <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb46-512"><a href="#cb46-512"></a></span>
<span id="cb46-513"><a href="#cb46-513"></a>  <span class="cf">for</span> (v <span class="cf">in</span> views) {</span>
<span id="cb46-514"><a href="#cb46-514"></a>    count <span class="ot">&lt;-</span> count <span class="sc">+</span> <span class="fu">interpret</span>(v)</span>
<span id="cb46-515"><a href="#cb46-515"></a>  }</span>
<span id="cb46-516"><a href="#cb46-516"></a></span>
<span id="cb46-517"><a href="#cb46-517"></a>  <span class="cf">if</span> (return_sum) {</span>
<span id="cb46-518"><a href="#cb46-518"></a>    <span class="fu">return</span> (count)</span>
<span id="cb46-519"><a href="#cb46-519"></a>  } <span class="cf">else</span> {</span>
<span id="cb46-520"><a href="#cb46-520"></a>    <span class="fu">return</span> (<span class="cn">NULL</span>)</span>
<span id="cb46-521"><a href="#cb46-521"></a>  }</span>
<span id="cb46-522"><a href="#cb46-522"></a>}</span>
<span id="cb46-523"><a href="#cb46-523"></a></span>
<span id="cb46-524"><a href="#cb46-524"></a><span class="co"># Call the interpret_all() function on both linkedin and facebook</span></span>
<span id="cb46-525"><a href="#cb46-525"></a></span>
<span id="cb46-526"><a href="#cb46-526"></a><span class="fu">interpret_all</span>(linkedin)</span>
<span id="cb46-527"><a href="#cb46-527"></a><span class="fu">interpret_all</span>(facebook)</span>
<span id="cb46-528"><a href="#cb46-528"></a><span class="in">```</span> </span>
<span id="cb46-529"><a href="#cb46-529"></a></span>
<span id="cb46-530"><a href="#cb46-530"></a><span class="fu">## Load an R Package</span></span>
<span id="cb46-531"><a href="#cb46-531"></a></span>
<span id="cb46-532"><a href="#cb46-532"></a>There are basically two extremely important functions when it comes down to R </span>
<span id="cb46-533"><a href="#cb46-533"></a>packages:</span>
<span id="cb46-534"><a href="#cb46-534"></a></span>
<span id="cb46-535"><a href="#cb46-535"></a><span class="ss">- </span><span class="in">`install.packages()`</span>, which as you can expect, installs a given package.</span>
<span id="cb46-536"><a href="#cb46-536"></a><span class="ss">- </span>library() which loads packages, i.e. attaches them to the search list on your</span>
<span id="cb46-537"><a href="#cb46-537"></a>R workspace. </span>
<span id="cb46-538"><a href="#cb46-538"></a></span>
<span id="cb46-539"><a href="#cb46-539"></a>To install packages, you need administrator privileges. This means </span>
<span id="cb46-540"><a href="#cb46-540"></a>that <span class="in">`install.packages()`</span> will thus not work in the DataCamp interface. However, </span>
<span id="cb46-541"><a href="#cb46-541"></a>almost all CRAN packages are installed on our servers. You can load them with</span>
<span id="cb46-542"><a href="#cb46-542"></a><span class="in">`library()`</span>.</span>
<span id="cb46-543"><a href="#cb46-543"></a></span>
<span id="cb46-544"><a href="#cb46-544"></a>In this exercise, you'll be learning how to load the <span class="in">`ggplot2`</span> package, </span>
<span id="cb46-545"><a href="#cb46-545"></a>a powerful package for data visualization. You'll use it to create a plot of two</span>
<span id="cb46-546"><a href="#cb46-546"></a>variables of the <span class="in">`mtcars`</span> data frame. The data has already been prepared for you</span>
<span id="cb46-547"><a href="#cb46-547"></a>in the workspace.</span>
<span id="cb46-548"><a href="#cb46-548"></a></span>
<span id="cb46-549"><a href="#cb46-549"></a>Before starting, execute the following commands in the console:</span>
<span id="cb46-550"><a href="#cb46-550"></a></span>
<span id="cb46-551"><a href="#cb46-551"></a><span class="ss">- </span>search(), to look at the currently attached packages and</span>
<span id="cb46-552"><a href="#cb46-552"></a><span class="ss">- </span>qplot(mtcars$wt, mtcars$hp), to build a plot of two variables of the mtcars </span>
<span id="cb46-553"><a href="#cb46-553"></a>data frame. An error should occur, because you haven't loaded the <span class="in">`ggplot2`</span> </span>
<span id="cb46-554"><a href="#cb46-554"></a>package yet!</span>
<span id="cb46-555"><a href="#cb46-555"></a></span>
<span id="cb46-556"><a href="#cb46-556"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-557"><a href="#cb46-557"></a></span>
<span id="cb46-558"><a href="#cb46-558"></a><span class="ss">- </span>To fix the error you saw in the console, load the <span class="in">`ggplot2`</span> package. </span>
<span id="cb46-559"><a href="#cb46-559"></a>Make sure you are loading (and not installing) the package!</span>
<span id="cb46-560"><a href="#cb46-560"></a><span class="ss">- </span>Now, retry calling the qplot() function with the same arguments.</span>
<span id="cb46-561"><a href="#cb46-561"></a><span class="ss">- </span>Finally, check out the currently attached packages again.</span>
<span id="cb46-562"><a href="#cb46-562"></a></span>
<span id="cb46-563"><a href="#cb46-563"></a><span class="in">```{.r filename="ex_030.R"}</span></span>
<span id="cb46-564"><a href="#cb46-564"></a><span class="co"># Load the ggplot2 package</span></span>
<span id="cb46-565"><a href="#cb46-565"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb46-566"><a href="#cb46-566"></a></span>
<span id="cb46-567"><a href="#cb46-567"></a><span class="co"># Retry the qplot() function</span></span>
<span id="cb46-568"><a href="#cb46-568"></a><span class="fu">qplot</span>(mtcars<span class="sc">$</span>wt, mtcars<span class="sc">$</span>hp)</span>
<span id="cb46-569"><a href="#cb46-569"></a></span>
<span id="cb46-570"><a href="#cb46-570"></a><span class="co"># Check out the currently attached packages again</span></span>
<span id="cb46-571"><a href="#cb46-571"></a><span class="fu">search</span>()</span>
<span id="cb46-572"><a href="#cb46-572"></a><span class="in">```</span></span>
<span id="cb46-573"><a href="#cb46-573"></a></span>
<span id="cb46-574"><a href="#cb46-574"></a><span class="fu">## Different ways to load a package</span></span>
<span id="cb46-575"><a href="#cb46-575"></a></span>
<span id="cb46-576"><a href="#cb46-576"></a>The <span class="in">`library()`</span> and <span class="in">`require()`</span> functions are not very picky when it comes down</span>
<span id="cb46-577"><a href="#cb46-577"></a>to argument types: both <span class="in">`library(rjson)`</span> and <span class="in">`library("rjson")`</span> work perfectly</span>
<span id="cb46-578"><a href="#cb46-578"></a>fine for loading a package.</span>
<span id="cb46-579"><a href="#cb46-579"></a></span>
<span id="cb46-580"><a href="#cb46-580"></a>Have a look at some more code chunks that (attempt to) load one or more </span>
<span id="cb46-581"><a href="#cb46-581"></a>packages:</span>
<span id="cb46-582"><a href="#cb46-582"></a></span>
<span id="cb46-583"><a href="#cb46-583"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-584"><a href="#cb46-584"></a><span class="co"># Chunk 1</span></span>
<span id="cb46-585"><a href="#cb46-585"></a><span class="fu">library</span>(data.table)</span>
<span id="cb46-586"><a href="#cb46-586"></a><span class="fu">require</span>(rjson)</span>
<span id="cb46-587"><a href="#cb46-587"></a></span>
<span id="cb46-588"><a href="#cb46-588"></a><span class="co"># Chunk 2</span></span>
<span id="cb46-589"><a href="#cb46-589"></a><span class="fu">library</span>(<span class="st">"data.table"</span>)</span>
<span id="cb46-590"><a href="#cb46-590"></a><span class="fu">require</span>(rjson)</span>
<span id="cb46-591"><a href="#cb46-591"></a></span>
<span id="cb46-592"><a href="#cb46-592"></a><span class="co"># Chunk 3</span></span>
<span id="cb46-593"><a href="#cb46-593"></a><span class="fu">library</span>(data.table)</span>
<span id="cb46-594"><a href="#cb46-594"></a><span class="fu">require</span>(rjson, <span class="at">character.only =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-595"><a href="#cb46-595"></a></span>
<span id="cb46-596"><a href="#cb46-596"></a><span class="co"># Chunk 4</span></span>
<span id="cb46-597"><a href="#cb46-597"></a><span class="fu">library</span>(<span class="fu">c</span>(<span class="st">"data.table"</span>, <span class="st">"rjson"</span>))</span>
<span id="cb46-598"><a href="#cb46-598"></a><span class="in">```</span></span>
<span id="cb46-599"><a href="#cb46-599"></a>Select the option that lists all of the chunks that do not generate an error.</span>
<span id="cb46-600"><a href="#cb46-600"></a>The console is yours to experiment in.</span>
<span id="cb46-601"><a href="#cb46-601"></a></span>
<span id="cb46-602"><a href="#cb46-602"></a><span class="fu">### Instructions `50 XP` {.unnumbered}</span></span>
<span id="cb46-603"><a href="#cb46-603"></a></span>
<span id="cb46-604"><a href="#cb46-604"></a>*Possible Answers: (1) and (2)*</span>
<span id="cb46-605"><a href="#cb46-605"></a> </span>
<span id="cb46-606"><a href="#cb46-606"></a><span class="fu">## Use lapply with a built-in R function</span></span>
<span id="cb46-607"><a href="#cb46-607"></a></span>
<span id="cb46-608"><a href="#cb46-608"></a>Before you go about solving the exercises below, have a look at the </span>
<span id="cb46-609"><a href="#cb46-609"></a>documentation of the lapply() function. The Usage section shows the following</span>
<span id="cb46-610"><a href="#cb46-610"></a>expression:</span>
<span id="cb46-611"><a href="#cb46-611"></a></span>
<span id="cb46-612"><a href="#cb46-612"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-613"><a href="#cb46-613"></a><span class="fu">lapply</span>(X, FUN, ...)</span>
<span id="cb46-614"><a href="#cb46-614"></a><span class="in">```</span></span>
<span id="cb46-615"><a href="#cb46-615"></a></span>
<span id="cb46-616"><a href="#cb46-616"></a>To put it generally, <span class="in">`lapply`</span> takes a vector or list <span class="in">`X`</span>, and applies the</span>
<span id="cb46-617"><a href="#cb46-617"></a>function <span class="in">`FUN`</span> to each of its members. If <span class="in">`FUN`</span> requires additional arguments,</span>
<span id="cb46-618"><a href="#cb46-618"></a>you pass them after you've specified <span class="in">`X`</span> and <span class="in">`FUN (...)`</span>. The output of </span>
<span id="cb46-619"><a href="#cb46-619"></a><span class="in">`lapply()`</span> is a list, the same length as <span class="in">`X`</span>, where each element is the result</span>
<span id="cb46-620"><a href="#cb46-620"></a>of applying FUN on the corresponding element of <span class="in">`X`</span>.</span>
<span id="cb46-621"><a href="#cb46-621"></a></span>
<span id="cb46-622"><a href="#cb46-622"></a>Now that you are truly brushing up on your data science skills, let's revisit </span>
<span id="cb46-623"><a href="#cb46-623"></a>some of the most relevant figures in data science history. </span>
<span id="cb46-624"><a href="#cb46-624"></a>We've compiled a vector of famous mathematicians/statisticians and the year </span>
<span id="cb46-625"><a href="#cb46-625"></a>they were born. Up to you to extract some information!</span>
<span id="cb46-626"><a href="#cb46-626"></a></span>
<span id="cb46-627"><a href="#cb46-627"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-628"><a href="#cb46-628"></a></span>
<span id="cb46-629"><a href="#cb46-629"></a><span class="ss">- </span>Have a look at the <span class="in">`strsplit()`</span> calls, that splits the strings in pioneers on </span>
<span id="cb46-630"><a href="#cb46-630"></a>the <span class="in">`:`</span> sign. The result, <span class="in">`split_math`</span> is a list of 4 character vectors: </span>
<span id="cb46-631"><a href="#cb46-631"></a>the first vector element represents the name, the second element the birth year.</span>
<span id="cb46-632"><a href="#cb46-632"></a><span class="ss">- </span>Use <span class="in">`lapply()`</span> to convert the character vectors in <span class="in">`split_math`</span> to lowercase </span>
<span id="cb46-633"><a href="#cb46-633"></a>letters: apply <span class="in">`tolower()`</span> on each of the elements in <span class="in">`split_math`</span>. </span>
<span id="cb46-634"><a href="#cb46-634"></a>Assign the result, which is a list, to a new variable <span class="in">`split_low`</span>.</span>
<span id="cb46-635"><a href="#cb46-635"></a><span class="ss">- </span>Finally, inspect the contents of <span class="in">`split_low`</span> with <span class="in">`str()`</span>.</span>
<span id="cb46-636"><a href="#cb46-636"></a></span>
<span id="cb46-637"><a href="#cb46-637"></a><span class="in">```{.r filename="ex_031.R"}</span></span>
<span id="cb46-638"><a href="#cb46-638"></a><span class="co"># The vector pioneers has already been created for you</span></span>
<span id="cb46-639"><a href="#cb46-639"></a>pioneers <span class="ot">&lt;-</span> </span>
<span id="cb46-640"><a href="#cb46-640"></a>  <span class="fu">c</span>(<span class="st">"GAUSS:1777"</span>, <span class="st">"BAYES:1702"</span>, <span class="st">"PASCAL:1623"</span>, <span class="st">"PEARSON:1857"</span>)</span>
<span id="cb46-641"><a href="#cb46-641"></a></span>
<span id="cb46-642"><a href="#cb46-642"></a><span class="co"># Split names from birth year</span></span>
<span id="cb46-643"><a href="#cb46-643"></a>split_math <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(pioneers, <span class="at">split =</span> <span class="st">":"</span>)</span>
<span id="cb46-644"><a href="#cb46-644"></a></span>
<span id="cb46-645"><a href="#cb46-645"></a><span class="co"># Convert to lowercase strings: split_low</span></span>
<span id="cb46-646"><a href="#cb46-646"></a>split_low <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_math, tolower)</span>
<span id="cb46-647"><a href="#cb46-647"></a></span>
<span id="cb46-648"><a href="#cb46-648"></a><span class="co"># Take a look at the structure of split_low</span></span>
<span id="cb46-649"><a href="#cb46-649"></a><span class="fu">str</span>(split_low)</span>
<span id="cb46-650"><a href="#cb46-650"></a><span class="in">```</span></span>
<span id="cb46-651"><a href="#cb46-651"></a></span>
<span id="cb46-652"><a href="#cb46-652"></a><span class="fu">## Use lapply with your own function</span></span>
<span id="cb46-653"><a href="#cb46-653"></a></span>
<span id="cb46-654"><a href="#cb46-654"></a>As Filip explained in the instructional video, you can use lapply() </span>
<span id="cb46-655"><a href="#cb46-655"></a>on your own functions as well. You just need to code a new function </span>
<span id="cb46-656"><a href="#cb46-656"></a>and make sure it is available in the workspace. After that, you can </span>
<span id="cb46-657"><a href="#cb46-657"></a>use the function inside lapply() just as you did with base R </span>
<span id="cb46-658"><a href="#cb46-658"></a>functions.</span>
<span id="cb46-659"><a href="#cb46-659"></a></span>
<span id="cb46-660"><a href="#cb46-660"></a>In the previous exercise you already used lapply() once to convert </span>
<span id="cb46-661"><a href="#cb46-661"></a>the information about your favorite pioneering statisticians to a </span>
<span id="cb46-662"><a href="#cb46-662"></a>list of vectors composed of two character strings. Let's write some </span>
<span id="cb46-663"><a href="#cb46-663"></a>code to select the names and the birth years separately.</span>
<span id="cb46-664"><a href="#cb46-664"></a></span>
<span id="cb46-665"><a href="#cb46-665"></a>The sample code already includes code that defined select_first(), </span>
<span id="cb46-666"><a href="#cb46-666"></a>that takes a vector as input and returns the first element of this </span>
<span id="cb46-667"><a href="#cb46-667"></a>vector.</span>
<span id="cb46-668"><a href="#cb46-668"></a></span>
<span id="cb46-669"><a href="#cb46-669"></a><span class="fu">### Instructions 100 XP {.unnumbered}</span></span>
<span id="cb46-670"><a href="#cb46-670"></a></span>
<span id="cb46-671"><a href="#cb46-671"></a><span class="ss">- </span>Apply select_first() over the elements of split_low with lapply() </span>
<span id="cb46-672"><a href="#cb46-672"></a>and assign the result to a new variable names.</span>
<span id="cb46-673"><a href="#cb46-673"></a><span class="ss">- </span>Next, write a function select_second() that does the exact same </span>
<span id="cb46-674"><a href="#cb46-674"></a>thing for the second element of an inputted vector.</span>
<span id="cb46-675"><a href="#cb46-675"></a><span class="ss">- </span>Finally, apply the select_second() function over split_low and </span>
<span id="cb46-676"><a href="#cb46-676"></a>assign the output to the variable years.</span>
<span id="cb46-677"><a href="#cb46-677"></a></span>
<span id="cb46-678"><a href="#cb46-678"></a> <span class="in">```{.r filename="ex_0.32.R"}</span></span>
<span id="cb46-679"><a href="#cb46-679"></a><span class="co"># Code from previous exercise:</span></span>
<span id="cb46-680"><a href="#cb46-680"></a>pioneers <span class="ot">&lt;-</span> </span>
<span id="cb46-681"><a href="#cb46-681"></a>  <span class="fu">c</span>(<span class="st">"GAUSS:1777"</span>, <span class="st">"BAYES:1702"</span>, <span class="st">"PASCAL:1623"</span>, <span class="st">"PEARSON:1857"</span>)</span>
<span id="cb46-682"><a href="#cb46-682"></a>split <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(pioneers, <span class="at">split =</span> <span class="st">":"</span>)</span>
<span id="cb46-683"><a href="#cb46-683"></a>split_low <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split, tolower)</span>
<span id="cb46-684"><a href="#cb46-684"></a><span class="co"># Write function select_first()</span></span>
<span id="cb46-685"><a href="#cb46-685"></a>select_first <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-686"><a href="#cb46-686"></a>  x[<span class="dv">1</span>]</span>
<span id="cb46-687"><a href="#cb46-687"></a>}</span>
<span id="cb46-688"><a href="#cb46-688"></a><span class="co"># Apply select_first() over split_low: names</span></span>
<span id="cb46-689"><a href="#cb46-689"></a>names <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_first)</span>
<span id="cb46-690"><a href="#cb46-690"></a><span class="co"># Write function select_second()</span></span>
<span id="cb46-691"><a href="#cb46-691"></a>select_second <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-692"><a href="#cb46-692"></a>  x[<span class="dv">2</span>]</span>
<span id="cb46-693"><a href="#cb46-693"></a>}</span>
<span id="cb46-694"><a href="#cb46-694"></a><span class="co"># Apply select_second() over split_low: years</span></span>
<span id="cb46-695"><a href="#cb46-695"></a>years <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_second)</span>
<span id="cb46-696"><a href="#cb46-696"></a> <span class="in">```</span></span>
<span id="cb46-697"><a href="#cb46-697"></a></span>
<span id="cb46-698"><a href="#cb46-698"></a> ## lapply and anonymous functions</span>
<span id="cb46-699"><a href="#cb46-699"></a>Writing your own functions and then using them inside <span class="in">`lapply()`</span> is </span>
<span id="cb46-700"><a href="#cb46-700"></a>quite an accomplishment! But defining functions to use them only </span>
<span id="cb46-701"><a href="#cb46-701"></a>once is kind of overkill, isn't it? That's why you can use so-called </span>
<span id="cb46-702"><a href="#cb46-702"></a>anonymous functions in R.</span>
<span id="cb46-703"><a href="#cb46-703"></a></span>
<span id="cb46-704"><a href="#cb46-704"></a>Previously, you learned that functions in R are objects in their own </span>
<span id="cb46-705"><a href="#cb46-705"></a>right. This means that they aren't automatically bound to a name. </span>
<span id="cb46-706"><a href="#cb46-706"></a>When you create a function, you can use the assignment operator to </span>
<span id="cb46-707"><a href="#cb46-707"></a>give the function a name. It's perfectly possible, however, to not </span>
<span id="cb46-708"><a href="#cb46-708"></a>give the function a name. This is called an anonymous function:</span>
<span id="cb46-709"><a href="#cb46-709"></a></span>
<span id="cb46-710"><a href="#cb46-710"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-711"><a href="#cb46-711"></a><span class="co"># Named function</span></span>
<span id="cb46-712"><a href="#cb46-712"></a>triple <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="dv">3</span> <span class="sc">*</span> x }</span>
<span id="cb46-713"><a href="#cb46-713"></a></span>
<span id="cb46-714"><a href="#cb46-714"></a><span class="co"># Anonymous function with same implementation</span></span>
<span id="cb46-715"><a href="#cb46-715"></a><span class="cf">function</span>(x) { <span class="dv">3</span> <span class="sc">*</span> x }</span>
<span id="cb46-716"><a href="#cb46-716"></a></span>
<span id="cb46-717"><a href="#cb46-717"></a><span class="co"># Use anonymous function inside lapply()</span></span>
<span id="cb46-718"><a href="#cb46-718"></a><span class="fu">lapply</span>(<span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="cf">function</span>(x) { <span class="dv">3</span> <span class="sc">*</span> x })</span>
<span id="cb46-719"><a href="#cb46-719"></a><span class="in">```</span></span>
<span id="cb46-720"><a href="#cb46-720"></a></span>
<span id="cb46-721"><a href="#cb46-721"></a><span class="in">`split_low`</span> is defined for you.</span>
<span id="cb46-722"><a href="#cb46-722"></a></span>
<span id="cb46-723"><a href="#cb46-723"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-724"><a href="#cb46-724"></a></span>
<span id="cb46-725"><a href="#cb46-725"></a><span class="ss">- </span>Transform the first call of <span class="in">`lapply()`</span> such that it uses an </span>
<span id="cb46-726"><a href="#cb46-726"></a>anonymous function that does the same thing.</span>
<span id="cb46-727"><a href="#cb46-727"></a><span class="ss">- </span>In a similar fashion, convert the second call of <span class="in">`lapply`</span> to use an anonymous </span>
<span id="cb46-728"><a href="#cb46-728"></a>version of the <span class="in">`select_second()`</span> function.</span>
<span id="cb46-729"><a href="#cb46-729"></a><span class="ss">- </span>Remove both the definitions of <span class="in">`select_first()`</span> and <span class="in">`select_second()`</span>, as they</span>
<span id="cb46-730"><a href="#cb46-730"></a> are no longer useful.</span>
<span id="cb46-731"><a href="#cb46-731"></a></span>
<span id="cb46-732"><a href="#cb46-732"></a> <span class="in">```{.r filename="ex_033.R"}</span></span>
<span id="cb46-733"><a href="#cb46-733"></a> <span class="co"># split_low has been created for you</span></span>
<span id="cb46-734"><a href="#cb46-734"></a>split_low</span>
<span id="cb46-735"><a href="#cb46-735"></a><span class="co"># Transform: use anonymous function inside lapply</span></span>
<span id="cb46-736"><a href="#cb46-736"></a>names <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, <span class="cf">function</span>(x){ x[<span class="dv">1</span>] })</span>
<span id="cb46-737"><a href="#cb46-737"></a><span class="co"># Transform: use anonymous function inside lapply</span></span>
<span id="cb46-738"><a href="#cb46-738"></a>years <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, <span class="cf">function</span>(x){ x[<span class="dv">2</span>] })</span>
<span id="cb46-739"><a href="#cb46-739"></a> </span>
<span id="cb46-740"><a href="#cb46-740"></a> <span class="in">```</span></span>
<span id="cb46-741"><a href="#cb46-741"></a></span>
<span id="cb46-742"><a href="#cb46-742"></a> ## Use lapply with additional arguments</span>
<span id="cb46-743"><a href="#cb46-743"></a></span>
<span id="cb46-744"><a href="#cb46-744"></a>In the video, the triple() function was transformed to the multiply() function </span>
<span id="cb46-745"><a href="#cb46-745"></a>to allow for a more generic approach. lapply() provides a way to handle </span>
<span id="cb46-746"><a href="#cb46-746"></a>functions that require more than one argument, such as the multiply() function:</span>
<span id="cb46-747"><a href="#cb46-747"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-748"><a href="#cb46-748"></a>multiply <span class="ot">&lt;-</span> <span class="cf">function</span>(x, factor) {</span>
<span id="cb46-749"><a href="#cb46-749"></a>  x <span class="sc">*</span> factor</span>
<span id="cb46-750"><a href="#cb46-750"></a>}</span>
<span id="cb46-751"><a href="#cb46-751"></a><span class="fu">lapply</span>(<span class="fu">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), multiply, <span class="at">factor =</span> <span class="dv">3</span>)</span>
<span id="cb46-752"><a href="#cb46-752"></a><span class="in">```</span></span>
<span id="cb46-753"><a href="#cb46-753"></a></span>
<span id="cb46-754"><a href="#cb46-754"></a>On the right we've included a generic version of the select functions that </span>
<span id="cb46-755"><a href="#cb46-755"></a>you've coded earlier: select_el(). It takes a vector as its first argument, and </span>
<span id="cb46-756"><a href="#cb46-756"></a>an index as its second argument. It returns the vector's element at the </span>
<span id="cb46-757"><a href="#cb46-757"></a>specified index.</span>
<span id="cb46-758"><a href="#cb46-758"></a></span>
<span id="cb46-759"><a href="#cb46-759"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-760"><a href="#cb46-760"></a></span>
<span id="cb46-761"><a href="#cb46-761"></a>Use lapply() twice to call select_el() over all elements in split_low: once with</span>
<span id="cb46-762"><a href="#cb46-762"></a>the index equal to 1 and a second time with the index equal to 2.</span>
<span id="cb46-763"><a href="#cb46-763"></a>Assign the result to names and years, respectively.</span>
<span id="cb46-764"><a href="#cb46-764"></a></span>
<span id="cb46-765"><a href="#cb46-765"></a><span class="in">```{.r filename="ex_034.R"}</span></span>
<span id="cb46-766"><a href="#cb46-766"></a><span class="co"># Definition of split_low</span></span>
<span id="cb46-767"><a href="#cb46-767"></a>pioneers <span class="ot">&lt;-</span> </span>
<span id="cb46-768"><a href="#cb46-768"></a><span class="fu">c</span>(<span class="st">"GAUSS:1777"</span>, <span class="st">"BAYES:1702"</span>, <span class="st">"PASCAL:1623"</span>, <span class="st">"PEARSON:1857"</span>)</span>
<span id="cb46-769"><a href="#cb46-769"></a>split <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(pioneers, <span class="at">split =</span> <span class="st">":"</span>)</span>
<span id="cb46-770"><a href="#cb46-770"></a>split_low <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split, tolower)</span>
<span id="cb46-771"><a href="#cb46-771"></a></span>
<span id="cb46-772"><a href="#cb46-772"></a><span class="co"># Generic select function</span></span>
<span id="cb46-773"><a href="#cb46-773"></a>select_el <span class="ot">&lt;-</span> <span class="cf">function</span>(x, index) {</span>
<span id="cb46-774"><a href="#cb46-774"></a>  x[index]</span>
<span id="cb46-775"><a href="#cb46-775"></a>}</span>
<span id="cb46-776"><a href="#cb46-776"></a></span>
<span id="cb46-777"><a href="#cb46-777"></a><span class="co"># Use lapply() twice on split_low: names and years</span></span>
<span id="cb46-778"><a href="#cb46-778"></a>names <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_el, <span class="dv">1</span>)</span>
<span id="cb46-779"><a href="#cb46-779"></a>years <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_low, select_el, <span class="dv">2</span>)</span>
<span id="cb46-780"><a href="#cb46-780"></a><span class="in">```</span></span>
<span id="cb46-781"><a href="#cb46-781"></a><span class="fu">## Apply functions that return NULL</span></span>
<span id="cb46-782"><a href="#cb46-782"></a></span>
<span id="cb46-783"><a href="#cb46-783"></a>In all of the previous exercises, it was assumed that the functions that were</span>
<span id="cb46-784"><a href="#cb46-784"></a>applied over vectors and lists actually returned a meaningful result. </span>
<span id="cb46-785"><a href="#cb46-785"></a>For example, the <span class="in">`tolower()`</span> function simply returns the strings with the </span>
<span id="cb46-786"><a href="#cb46-786"></a>characters in lowercase. This won't always be the case. Suppose you want to </span>
<span id="cb46-787"><a href="#cb46-787"></a>display the structure of every element of a list. You could use the <span class="in">`str()`</span> </span>
<span id="cb46-788"><a href="#cb46-788"></a>function for this, which returns <span class="in">`NULL`</span>:</span>
<span id="cb46-789"><a href="#cb46-789"></a><span class="in">```{.r code-line-numbers="false"} </span></span>
<span id="cb46-790"><a href="#cb46-790"></a><span class="fu">lapply</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="st">"a"</span>, <span class="cn">TRUE</span>), str)</span>
<span id="cb46-791"><a href="#cb46-791"></a><span class="in">```</span></span>
<span id="cb46-792"><a href="#cb46-792"></a></span>
<span id="cb46-793"><a href="#cb46-793"></a>This call actually returns a list, the same size as the input list, containing </span>
<span id="cb46-794"><a href="#cb46-794"></a>all <span class="in">`NULL`</span> values. On the other hand calling</span>
<span id="cb46-795"><a href="#cb46-795"></a></span>
<span id="cb46-796"><a href="#cb46-796"></a><span class="in">```{.r code-line-numbers="false"} </span></span>
<span id="cb46-797"><a href="#cb46-797"></a>  <span class="fu">str</span>(<span class="cn">TRUE</span>)</span>
<span id="cb46-798"><a href="#cb46-798"></a><span class="in">```</span></span>
<span id="cb46-799"><a href="#cb46-799"></a>on its own prints only the structure of the logical to the console, not <span class="in">`NULL`</span>. </span>
<span id="cb46-800"><a href="#cb46-800"></a>That's because <span class="in">`str()`</span> uses <span class="in">`invisible()`</span> behind the scenes, which returns an </span>
<span id="cb46-801"><a href="#cb46-801"></a>invisible copy of the return value, <span class="in">`NULL`</span> in this case. This prevents it from </span>
<span id="cb46-802"><a href="#cb46-802"></a>being printed when the result of <span class="in">`str()`</span> is not assigned.</span>
<span id="cb46-803"><a href="#cb46-803"></a></span>
<span id="cb46-804"><a href="#cb46-804"></a>What will the following code chunk return (<span class="in">`split_low`</span> is already available in </span>
<span id="cb46-805"><a href="#cb46-805"></a>the workspace)? Try to reason about the result before simply executing it in the </span>
<span id="cb46-806"><a href="#cb46-806"></a>console!</span>
<span id="cb46-807"><a href="#cb46-807"></a></span>
<span id="cb46-808"><a href="#cb46-808"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-809"><a href="#cb46-809"></a><span class="fu">lapply</span>(split_low, <span class="cf">function</span>(x) {</span>
<span id="cb46-810"><a href="#cb46-810"></a>  <span class="cf">if</span> (<span class="fu">nchar</span>(x[<span class="dv">1</span>]) <span class="sc">&gt;</span> <span class="dv">5</span>) {</span>
<span id="cb46-811"><a href="#cb46-811"></a>    <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb46-812"><a href="#cb46-812"></a>  } <span class="cf">else</span> {</span>
<span id="cb46-813"><a href="#cb46-813"></a>    <span class="fu">return</span>(x[<span class="dv">2</span>])</span>
<span id="cb46-814"><a href="#cb46-814"></a>  }</span>
<span id="cb46-815"><a href="#cb46-815"></a>})</span>
<span id="cb46-816"><a href="#cb46-816"></a><span class="in">```</span></span>
<span id="cb46-817"><a href="#cb46-817"></a><span class="fu">## How to use sapply</span></span>
<span id="cb46-818"><a href="#cb46-818"></a></span>
<span id="cb46-819"><a href="#cb46-819"></a>You can use <span class="in">`sapply()`</span> similar to how you used <span class="in">`lapply()`</span>. The first argument of </span>
<span id="cb46-820"><a href="#cb46-820"></a><span class="in">`sapply()`</span> is the list or vector <span class="in">`X`</span> over which you want to apply a function, </span>
<span id="cb46-821"><a href="#cb46-821"></a>FUN. Potential additional arguments to this function are specified </span>
<span id="cb46-822"><a href="#cb46-822"></a>afterwards <span class="in">`(...):`</span></span>
<span id="cb46-823"><a href="#cb46-823"></a></span>
<span id="cb46-824"><a href="#cb46-824"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-825"><a href="#cb46-825"></a><span class="fu">sapply</span>(X, FUN, ...)</span>
<span id="cb46-826"><a href="#cb46-826"></a><span class="in">```</span> </span>
<span id="cb46-827"><a href="#cb46-827"></a></span>
<span id="cb46-828"><a href="#cb46-828"></a>In the next couple of exercises, you'll be working with the variable <span class="in">`temp`</span>, </span>
<span id="cb46-829"><a href="#cb46-829"></a>that contains temperature measurements for 7 days. <span class="in">`temp`</span> is a list of length 7,</span>
<span id="cb46-830"><a href="#cb46-830"></a>where each element is a vector of length 5, representing 5 measurements on a </span>
<span id="cb46-831"><a href="#cb46-831"></a>given day. This variable has already been defined in the workspace: type </span>
<span id="cb46-832"><a href="#cb46-832"></a>str(temp) to see its structure.</span>
<span id="cb46-833"><a href="#cb46-833"></a></span>
<span id="cb46-834"><a href="#cb46-834"></a><span class="fu">### Instructions `100 XP`</span></span>
<span id="cb46-835"><a href="#cb46-835"></a></span>
<span id="cb46-836"><a href="#cb46-836"></a><span class="ss">- </span>Use <span class="in">`lapply()`</span> to calculate the minimum (built-in function <span class="in">`min()`</span>) of the </span>
<span id="cb46-837"><a href="#cb46-837"></a>temperature measurements for every day.</span>
<span id="cb46-838"><a href="#cb46-838"></a><span class="ss">- </span>Do the same thing but this time with <span class="in">`sapply()`</span>. See how the output differs.</span>
<span id="cb46-839"><a href="#cb46-839"></a><span class="ss">- </span>Use <span class="in">`lapply()`</span> to compute the the maximum (<span class="in">`max()`</span>) temperature for each day.</span>
<span id="cb46-840"><a href="#cb46-840"></a>Again, use <span class="in">`sapply()`</span> to solve the same question and see how <span class="in">`lapply()`</span> and </span>
<span id="cb46-841"><a href="#cb46-841"></a><span class="in">`sapply()`</span> differ.</span>
<span id="cb46-842"><a href="#cb46-842"></a></span>
<span id="cb46-843"><a href="#cb46-843"></a> <span class="in">```{.r filename="ex_035.R"}</span></span>
<span id="cb46-844"><a href="#cb46-844"></a> <span class="co"># temp has already been defined in the workspace</span></span>
<span id="cb46-845"><a href="#cb46-845"></a></span>
<span id="cb46-846"><a href="#cb46-846"></a><span class="co"># Use lapply() to find each day's minimum temperature</span></span>
<span id="cb46-847"><a href="#cb46-847"></a></span>
<span id="cb46-848"><a href="#cb46-848"></a><span class="fu">lapply</span>(temp, min)</span>
<span id="cb46-849"><a href="#cb46-849"></a></span>
<span id="cb46-850"><a href="#cb46-850"></a><span class="co"># Use sapply() to find each day's minimum temperature</span></span>
<span id="cb46-851"><a href="#cb46-851"></a><span class="fu">sapply</span>(temp, min)</span>
<span id="cb46-852"><a href="#cb46-852"></a></span>
<span id="cb46-853"><a href="#cb46-853"></a><span class="co"># Use lapply() to find each day's maximum temperature</span></span>
<span id="cb46-854"><a href="#cb46-854"></a><span class="fu">lapply</span>(temp, max)</span>
<span id="cb46-855"><a href="#cb46-855"></a></span>
<span id="cb46-856"><a href="#cb46-856"></a><span class="co"># Use sapply() to find each day's maximum temperature</span></span>
<span id="cb46-857"><a href="#cb46-857"></a><span class="fu">sapply</span>(temp, max)</span>
<span id="cb46-858"><a href="#cb46-858"></a><span class="in">```</span></span>
<span id="cb46-859"><a href="#cb46-859"></a><span class="fu">## sapply with your own function</span></span>
<span id="cb46-860"><a href="#cb46-860"></a></span>
<span id="cb46-861"><a href="#cb46-861"></a>Like <span class="in">`lapply()`</span>, <span class="in">`sapply()`</span> allows you to use self-defined functions and apply </span>
<span id="cb46-862"><a href="#cb46-862"></a>them over a vector or a list:</span>
<span id="cb46-863"><a href="#cb46-863"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-864"><a href="#cb46-864"></a><span class="fu">sapply</span>(X, FUN, ...)</span>
<span id="cb46-865"><a href="#cb46-865"></a><span class="in">```</span> </span>
<span id="cb46-866"><a href="#cb46-866"></a>Here, <span class="in">`FUN`</span> can be one of R's built-in functions, but it can also be a function </span>
<span id="cb46-867"><a href="#cb46-867"></a>you wrote. This self-written function can be defined before hand, or can be </span>
<span id="cb46-868"><a href="#cb46-868"></a>inserted directly as an anonymous function.</span>
<span id="cb46-869"><a href="#cb46-869"></a></span>
<span id="cb46-870"><a href="#cb46-870"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-871"><a href="#cb46-871"></a></span>
<span id="cb46-872"><a href="#cb46-872"></a><span class="ss">- </span>Finish the definition of <span class="in">`extremes_avg()`</span>: it takes a vector of temperatures </span>
<span id="cb46-873"><a href="#cb46-873"></a>and calculates the average of the minimum and maximum temperatures of the vector.</span>
<span id="cb46-874"><a href="#cb46-874"></a><span class="ss">- </span>Next, use this function inside <span class="in">`sapply()`</span> to apply it over the vectors inside </span>
<span id="cb46-875"><a href="#cb46-875"></a><span class="in">`temp`</span>.</span>
<span id="cb46-876"><a href="#cb46-876"></a><span class="ss">- </span>Use the same function over <span class="in">`temp`</span> with <span class="in">`lapply()`</span> and see how the outputs </span>
<span id="cb46-877"><a href="#cb46-877"></a>differ.</span>
<span id="cb46-878"><a href="#cb46-878"></a></span>
<span id="cb46-879"><a href="#cb46-879"></a><span class="in">```{.r filename="ex_036.R"}</span></span>
<span id="cb46-880"><a href="#cb46-880"></a><span class="co"># temp is already defined in the workspace</span></span>
<span id="cb46-881"><a href="#cb46-881"></a></span>
<span id="cb46-882"><a href="#cb46-882"></a><span class="co"># Finish function definition of extremes_avg</span></span>
<span id="cb46-883"><a href="#cb46-883"></a>extremes_avg <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-884"><a href="#cb46-884"></a>  ( <span class="fu">min</span>(x) <span class="sc">+</span> <span class="fu">max</span>(x) ) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb46-885"><a href="#cb46-885"></a>}</span>
<span id="cb46-886"><a href="#cb46-886"></a></span>
<span id="cb46-887"><a href="#cb46-887"></a><span class="co"># Apply extremes_avg() over temp using sapply()</span></span>
<span id="cb46-888"><a href="#cb46-888"></a><span class="fu">sapply</span>(temp, extremes_avg)</span>
<span id="cb46-889"><a href="#cb46-889"></a></span>
<span id="cb46-890"><a href="#cb46-890"></a><span class="co"># Apply extremes_avg() over temp using lapply()</span></span>
<span id="cb46-891"><a href="#cb46-891"></a><span class="fu">lapply</span>(temp, extremes_avg)</span>
<span id="cb46-892"><a href="#cb46-892"></a><span class="in">```</span></span>
<span id="cb46-893"><a href="#cb46-893"></a></span>
<span id="cb46-894"><a href="#cb46-894"></a><span class="fu">## sapply with function returning vector</span></span>
<span id="cb46-895"><a href="#cb46-895"></a></span>
<span id="cb46-896"><a href="#cb46-896"></a>In the previous exercises, you've seen how <span class="in">`sapply()`</span> simplifies the list that </span>
<span id="cb46-897"><a href="#cb46-897"></a><span class="in">`lapply()`</span> would return by turning it into a vector. But what if the function </span>
<span id="cb46-898"><a href="#cb46-898"></a>you're applying over a list or a vector returns a vector of length greater </span>
<span id="cb46-899"><a href="#cb46-899"></a>than 1? If you don't remember from the video, don't waste more time in the </span>
<span id="cb46-900"><a href="#cb46-900"></a>valley of ignorance and head over to the instructions!</span>
<span id="cb46-901"><a href="#cb46-901"></a></span>
<span id="cb46-902"><a href="#cb46-902"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-903"><a href="#cb46-903"></a></span>
<span id="cb46-904"><a href="#cb46-904"></a><span class="ss">- </span>Finish the definition of the <span class="in">`extremes()`</span> function. It takes a vector of </span>
<span id="cb46-905"><a href="#cb46-905"></a>numerical values and returns a vector containing the minimum and maximum values </span>
<span id="cb46-906"><a href="#cb46-906"></a>of a given vector, with the names <span class="in">`"min"`</span> and <span class="in">`"max"`</span>, respectively.</span>
<span id="cb46-907"><a href="#cb46-907"></a><span class="ss">- </span>Apply this function over the vector temp using <span class="in">`sapply()`</span>.</span>
<span id="cb46-908"><a href="#cb46-908"></a><span class="ss">- </span>Finally, apply this function over the vector temp using <span class="in">`lapply()`</span> as well.</span>
<span id="cb46-909"><a href="#cb46-909"></a></span>
<span id="cb46-910"><a href="#cb46-910"></a><span class="in">```{.r filename="ex_037.R"}</span></span>
<span id="cb46-911"><a href="#cb46-911"></a><span class="co"># temp is already available in the workspace</span></span>
<span id="cb46-912"><a href="#cb46-912"></a></span>
<span id="cb46-913"><a href="#cb46-913"></a><span class="co"># Create a function that returns min and max of a vector: extremes</span></span>
<span id="cb46-914"><a href="#cb46-914"></a>extremes <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-915"><a href="#cb46-915"></a>  <span class="fu">c</span>(<span class="at">min =</span> <span class="fu">min</span>(x), <span class="at">max =</span> <span class="fu">max</span>(x))</span>
<span id="cb46-916"><a href="#cb46-916"></a>}</span>
<span id="cb46-917"><a href="#cb46-917"></a></span>
<span id="cb46-918"><a href="#cb46-918"></a><span class="co"># Apply extremes() over temp with sapply()</span></span>
<span id="cb46-919"><a href="#cb46-919"></a><span class="fu">sapply</span>(temp, extremes)</span>
<span id="cb46-920"><a href="#cb46-920"></a></span>
<span id="cb46-921"><a href="#cb46-921"></a><span class="co"># Apply extremes() over temp with lapply()</span></span>
<span id="cb46-922"><a href="#cb46-922"></a><span class="fu">lapply</span>(temp, extremes)</span>
<span id="cb46-923"><a href="#cb46-923"></a><span class="in">```</span></span>
<span id="cb46-924"><a href="#cb46-924"></a></span>
<span id="cb46-925"><a href="#cb46-925"></a><span class="fu">## sapply can't simplify, now what?</span></span>
<span id="cb46-926"><a href="#cb46-926"></a></span>
<span id="cb46-927"><a href="#cb46-927"></a>It seems like we've hit the jackpot with <span class="in">`sapply()`</span>. On all of the examples so </span>
<span id="cb46-928"><a href="#cb46-928"></a>far, <span class="in">`sapply()`</span> was able to nicely simplify the rather bulky output of </span>
<span id="cb46-929"><a href="#cb46-929"></a><span class="in">`lapply()`</span>. But, as with life, there are things you can't simplify. How does </span>
<span id="cb46-930"><a href="#cb46-930"></a><span class="in">`sapply()`</span> react?</span>
<span id="cb46-931"><a href="#cb46-931"></a></span>
<span id="cb46-932"><a href="#cb46-932"></a>We already created a function, below_zero(), that takes a vector of numerical </span>
<span id="cb46-933"><a href="#cb46-933"></a>values and returns a vector that only contains the values that are strictly </span>
<span id="cb46-934"><a href="#cb46-934"></a>below zero.</span>
<span id="cb46-935"><a href="#cb46-935"></a></span>
<span id="cb46-936"><a href="#cb46-936"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-937"><a href="#cb46-937"></a></span>
<span id="cb46-938"><a href="#cb46-938"></a><span class="ss">- </span>Apply <span class="in">`below_zero()`</span> over <span class="in">`temp`</span> using <span class="in">`sapply()`</span> and store the result in </span>
<span id="cb46-939"><a href="#cb46-939"></a><span class="in">`freezing_s`</span>.</span>
<span id="cb46-940"><a href="#cb46-940"></a><span class="ss">- </span>Apply <span class="in">`below_zero()`</span> over temp using <span class="in">`lapply()`</span>. Save the resulting list in a </span>
<span id="cb46-941"><a href="#cb46-941"></a>variable <span class="in">`freezing_l`</span>.</span>
<span id="cb46-942"><a href="#cb46-942"></a><span class="ss">- </span>Compare <span class="in">`freezing_s`</span> to <span class="in">`freezing_l`</span> using the <span class="in">`identical()`</span> function.</span>
<span id="cb46-943"><a href="#cb46-943"></a></span>
<span id="cb46-944"><a href="#cb46-944"></a><span class="in">```{.r filename="ex_038.R"}</span></span>
<span id="cb46-945"><a href="#cb46-945"></a><span class="co"># temp is already prepared for you in the workspace</span></span>
<span id="cb46-946"><a href="#cb46-946"></a></span>
<span id="cb46-947"><a href="#cb46-947"></a><span class="co"># Definition of below_zero()</span></span>
<span id="cb46-948"><a href="#cb46-948"></a>below_zero <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-949"><a href="#cb46-949"></a>  <span class="fu">return</span>(x[x <span class="sc">&lt;</span> <span class="dv">0</span>])</span>
<span id="cb46-950"><a href="#cb46-950"></a>}</span>
<span id="cb46-951"><a href="#cb46-951"></a></span>
<span id="cb46-952"><a href="#cb46-952"></a><span class="co"># Apply below_zero over temp using sapply(): freezing_s</span></span>
<span id="cb46-953"><a href="#cb46-953"></a>freezing_s <span class="ot">&lt;-</span> <span class="fu">sapply</span>(temp, below_zero)</span>
<span id="cb46-954"><a href="#cb46-954"></a></span>
<span id="cb46-955"><a href="#cb46-955"></a><span class="co"># Apply below_zero over temp using lapply(): freezing_l</span></span>
<span id="cb46-956"><a href="#cb46-956"></a>freezing_l <span class="ot">&lt;-</span> <span class="fu">lapply</span>(temp, below_zero)</span>
<span id="cb46-957"><a href="#cb46-957"></a></span>
<span id="cb46-958"><a href="#cb46-958"></a><span class="co"># Are freezing_s and freezing_l identical?</span></span>
<span id="cb46-959"><a href="#cb46-959"></a><span class="fu">identical</span>(freezing_s, freezing_s)</span>
<span id="cb46-960"><a href="#cb46-960"></a><span class="in">```</span></span>
<span id="cb46-961"><a href="#cb46-961"></a><span class="fu">## sapply with functions that return NULL</span></span>
<span id="cb46-962"><a href="#cb46-962"></a></span>
<span id="cb46-963"><a href="#cb46-963"></a>You already have some apply tricks under your sleeve, but you're surely hungry </span>
<span id="cb46-964"><a href="#cb46-964"></a>for some more, aren't you? In this exercise, you'll see how <span class="in">`sapply()`</span> reacts </span>
<span id="cb46-965"><a href="#cb46-965"></a>when it is used to apply a function that returns <span class="in">`NULL`</span> over a vector or a list.</span>
<span id="cb46-966"><a href="#cb46-966"></a></span>
<span id="cb46-967"><a href="#cb46-967"></a>A function <span class="in">`print_info()`</span>, that takes a vector and prints the average of this </span>
<span id="cb46-968"><a href="#cb46-968"></a>vector, has already been created for you. It uses the <span class="in">`cat()`</span> function.</span>
<span id="cb46-969"><a href="#cb46-969"></a></span>
<span id="cb46-970"><a href="#cb46-970"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb46-971"><a href="#cb46-971"></a></span>
<span id="cb46-972"><a href="#cb46-972"></a><span class="ss">- </span>Apply <span class="in">`print_info()`</span> over the contents of temp with <span class="in">`sapply()`</span>.</span>
<span id="cb46-973"><a href="#cb46-973"></a><span class="ss">- </span>Repeat this process with <span class="in">`lapply()`</span>. Do you notice the difference?</span>
<span id="cb46-974"><a href="#cb46-974"></a></span>
<span id="cb46-975"><a href="#cb46-975"></a><span class="in">```{.r filename="ex_039.R"}</span></span>
<span id="cb46-976"><a href="#cb46-976"></a><span class="co"># temp is already available in the workspace</span></span>
<span id="cb46-977"><a href="#cb46-977"></a></span>
<span id="cb46-978"><a href="#cb46-978"></a><span class="co"># Definition of print_info()</span></span>
<span id="cb46-979"><a href="#cb46-979"></a>print_info <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb46-980"><a href="#cb46-980"></a>  <span class="fu">cat</span>(<span class="st">"The average temperature is"</span>, <span class="fu">mean</span>(x), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb46-981"><a href="#cb46-981"></a>}</span>
<span id="cb46-982"><a href="#cb46-982"></a></span>
<span id="cb46-983"><a href="#cb46-983"></a><span class="co"># Apply print_info() over temp using sapply()</span></span>
<span id="cb46-984"><a href="#cb46-984"></a><span class="fu">sapply</span>(temp, print_info)</span>
<span id="cb46-985"><a href="#cb46-985"></a></span>
<span id="cb46-986"><a href="#cb46-986"></a><span class="co"># Apply print_info() over temp using lapply()</span></span>
<span id="cb46-987"><a href="#cb46-987"></a><span class="fu">lapply</span>(temp, print_info)</span>
<span id="cb46-988"><a href="#cb46-988"></a><span class="in">```</span></span>
<span id="cb46-989"><a href="#cb46-989"></a><span class="fu">## Reverse engineering sapply</span></span>
<span id="cb46-990"><a href="#cb46-990"></a></span>
<span id="cb46-991"><a href="#cb46-991"></a><span class="in">```{.r code-line-numbers="false"}</span></span>
<span id="cb46-992"><a href="#cb46-992"></a><span class="fu">sapply</span>(<span class="fu">list</span>(<span class="fu">runif</span> (<span class="dv">10</span>), <span class="fu">runif</span> (<span class="dv">10</span>)), </span>
<span id="cb46-993"><a href="#cb46-993"></a>       <span class="cf">function</span>(x) <span class="fu">c</span>(<span class="at">min =</span> <span class="fu">min</span>(x), <span class="at">mean =</span> <span class="fu">mean</span>(x), <span class="at">max =</span> <span class="fu">max</span>(x)))</span>
<span id="cb46-994"><a href="#cb46-994"></a><span class="in">```</span></span>
<span id="cb46-995"><a href="#cb46-995"></a></span>
<span id="cb46-996"><a href="#cb46-996"></a>Without going straight to the console to run the code, try to reason through </span>
<span id="cb46-997"><a href="#cb46-997"></a>which of the following statements are correct and why.</span>
<span id="cb46-998"><a href="#cb46-998"></a></span>
<span id="cb46-999"><a href="#cb46-999"></a>(1) <span class="in">`sapply()`</span> can't simplify the result that <span class="in">`lapply()`</span> would return, </span>
<span id="cb46-1000"><a href="#cb46-1000"></a>and thus returns a list of vectors.</span>
<span id="cb46-1001"><a href="#cb46-1001"></a>(2) This code generates a matrix with 3 rows and 2 columns.</span>
<span id="cb46-1002"><a href="#cb46-1002"></a>(3) The function that is used inside sapply() is anonymous.</span>
<span id="cb46-1003"><a href="#cb46-1003"></a>(4) The resulting data structure does not contain any names.</span>
<span id="cb46-1004"><a href="#cb46-1004"></a></span>
<span id="cb46-1005"><a href="#cb46-1005"></a>Select the option that lists all correct statements.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>