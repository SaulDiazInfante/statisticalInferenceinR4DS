<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Introduction to R: Answers to excercises - 5&nbsp; Data frames</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./introduction_to_r_06.html" rel="next">
<link href="./introduction_to_r_04.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data frames</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Introduction to R: Answers to excercises</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">Grade rubric</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction_to_r_01.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Intro to basics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction_to_r_02.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Vectors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction_to_r_03.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Matrices</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction_to_r_04.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Factors</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction_to_r_05.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data frames</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction_to_r_06.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lists</span></a>
  </div>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#whats-a-data-frame" id="toc-whats-a-data-frame" class="nav-link active" data-scroll-target="#whats-a-data-frame"><span class="toc-section-number">5.1</span>  What’s a data frame?</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp" id="toc-instructions-100-xp" class="nav-link" data-scroll-target="#instructions-100-xp">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#quick-have-a-look-at-your-dataset" id="toc-quick-have-a-look-at-your-dataset" class="nav-link" data-scroll-target="#quick-have-a-look-at-your-dataset"><span class="toc-section-number">5.2</span>  Quick, have a look at your dataset</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-1" id="toc-instructions-100-xp-1" class="nav-link" data-scroll-target="#instructions-100-xp-1">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#have-a-look-at-the-structure" id="toc-have-a-look-at-the-structure" class="nav-link" data-scroll-target="#have-a-look-at-the-structure"><span class="toc-section-number">5.3</span>  Have a look at the structure</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-2" id="toc-instructions-100-xp-2" class="nav-link" data-scroll-target="#instructions-100-xp-2">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#creating-a-data-frame" id="toc-creating-a-data-frame" class="nav-link" data-scroll-target="#creating-a-data-frame"><span class="toc-section-number">5.4</span>  Creating a data frame</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-3" id="toc-instructions-100-xp-3" class="nav-link" data-scroll-target="#instructions-100-xp-3">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#creating-a-data-frame-2" id="toc-creating-a-data-frame-2" class="nav-link" data-scroll-target="#creating-a-data-frame-2"><span class="toc-section-number">5.5</span>  Creating a data frame (2)</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-4" id="toc-instructions-100-xp-4" class="nav-link" data-scroll-target="#instructions-100-xp-4">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#selection-of-data-frame-elements" id="toc-selection-of-data-frame-elements" class="nav-link" data-scroll-target="#selection-of-data-frame-elements"><span class="toc-section-number">5.6</span>  Selection of data frame elements</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-5" id="toc-instructions-100-xp-5" class="nav-link" data-scroll-target="#instructions-100-xp-5">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#selection-of-data-frame-elements-2" id="toc-selection-of-data-frame-elements-2" class="nav-link" data-scroll-target="#selection-of-data-frame-elements-2"><span class="toc-section-number">5.7</span>  Selection of data frame elements (2)</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-6" id="toc-instructions-100-xp-6" class="nav-link" data-scroll-target="#instructions-100-xp-6">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#only-planets-with-rings" id="toc-only-planets-with-rings" class="nav-link" data-scroll-target="#only-planets-with-rings"><span class="toc-section-number">5.8</span>  Only planets with rings</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-7" id="toc-instructions-100-xp-7" class="nav-link" data-scroll-target="#instructions-100-xp-7">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#only-planets-with-rings-2" id="toc-only-planets-with-rings-2" class="nav-link" data-scroll-target="#only-planets-with-rings-2"><span class="toc-section-number">5.9</span>  Only planets with rings (2)</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-8" id="toc-instructions-100-xp-8" class="nav-link" data-scroll-target="#instructions-100-xp-8">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#only-planets-with-rings-but-shorter" id="toc-only-planets-with-rings-but-shorter" class="nav-link" data-scroll-target="#only-planets-with-rings-but-shorter"><span class="toc-section-number">5.10</span>  Only planets with rings but shorter</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-9" id="toc-instructions-100-xp-9" class="nav-link" data-scroll-target="#instructions-100-xp-9">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#sorting" id="toc-sorting" class="nav-link" data-scroll-target="#sorting"><span class="toc-section-number">5.11</span>  Sorting</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-10" id="toc-instructions-100-xp-10" class="nav-link" data-scroll-target="#instructions-100-xp-10">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  <li>
<a href="#sorting-your-data-frame" id="toc-sorting-your-data-frame" class="nav-link" data-scroll-target="#sorting-your-data-frame"><span class="toc-section-number">5.12</span>  Sorting your data frame</a>
  <ul class="collapse">
<li><a href="#instructions-100-xp-11" id="toc-instructions-100-xp-11" class="nav-link" data-scroll-target="#instructions-100-xp-11">Instructions <code>100 XP</code></a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">
<span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data frames</span>
</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><section id="whats-a-data-frame" class="level2" data-number="5.1"><h2 data-number="5.1" class="anchored" data-anchor-id="whats-a-data-frame">
<span class="header-section-number">5.1</span> What’s a data frame?</h2>
<p>You may remember from the chapter about matrices that all the elements that you put in a matrix should be of the same type. Back then, your dataset on Star Wars only contained numeric elements.</p>
<p>When doing a market research survey, however, you often have questions such as:</p>
<ul>
<li>‘Are you married?’ or ‘yes/no’ questions (logical)</li>
<li>‘How old are you?’ (numeric)</li>
<li>‘What is your opinion on this product?’ or other ‘open-ended’ questions<br>
(character)</li>
<li>… The output, namely the respondents’ answers to the questions formulated above, is a dataset of different data types. You will often find yourself working with datasets that contain different data types instead of only one.</li>
</ul>
<p>A data frame has the variables of a dataset as columns and the observations as rows. This will be a familiar concept for those coming from different statistical software packages such as SAS or SPSS.</p>
<section id="instructions-100-xp" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp">Instructions <code>100 XP</code>
</h3>
<p>Submit the answer. The data from the built-in example data frame <code>mtcars</code> will be printed to the console.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>                     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
</div>
</div>
</section></section><section id="quick-have-a-look-at-your-dataset" class="level2" data-number="5.2"><h2 data-number="5.2" class="anchored" data-anchor-id="quick-have-a-look-at-your-dataset">
<span class="header-section-number">5.2</span> Quick, have a look at your dataset</h2>
<p>Wow, that is a lot of cars!</p>
<p>Working with large datasets is not uncommon in data analysis. When you work with (extremely) large datasets and data frames, your first task as a data analyst is to develop a clear understanding of its structure and main elements. Therefore, it is often useful to show only a small part of the entire dataset.</p>
<p>So how to do this in R? Well, the function <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> enables you to show the first observations of a data frame. Similarly, the function <code><a href="https://rdrr.io/r/utils/head.html">tail()</a></code> prints out the last observations in your dataset.</p>
<p>Both <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> and t<code>ail()</code> print a top line called the ‘header’, which contains the names of the different variables in your dataset.</p>
<section id="instructions-100-xp-1" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-1">Instructions <code>100 XP</code>
</h3>
<p>Call head() on the mtcars dataset to have a look at the header and the first observations.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_42.R</strong></pre>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># Call head() on mtcars</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">head</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="have-a-look-at-the-structure" class="level2" data-number="5.3"><h2 data-number="5.3" class="anchored" data-anchor-id="have-a-look-at-the-structure">
<span class="header-section-number">5.3</span> Have a look at the structure</h2>
<p>Another method that is often used to get a rapid overview of your data is the function <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code>. The function <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> shows you the structure of your dataset.</p>
<p>For a data frame it tells you:</p>
<ul>
<li>The total number of observations (e.g.&nbsp;32 car types)</li>
<li>The total number of variables (e.g.&nbsp;11 car features)</li>
<li>A full list of the variables names (e.g.&nbsp;mpg, cyl … )</li>
<li>The data type of each variable (e.g.&nbsp;num)</li>
<li>The first observations</li>
</ul>
<p>Applying the <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> function will often be the first thing that you do when receiving a new dataset or data frame. It is a great way to get more insight in your dataset before diving into the real analysis.</p>
<section id="instructions-100-xp-2" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-2">Instructions <code>100 XP</code>
</h3>
<p>Investigate the structure of mtcars. Make sure that you see the same numbers, variables and data types as mentioned above.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_43.R</strong></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">str</span>(mtcars)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="creating-a-data-frame" class="level2" data-number="5.4"><h2 data-number="5.4" class="anchored" data-anchor-id="creating-a-data-frame">
<span class="header-section-number">5.4</span> Creating a data frame</h2>
<p>Since using built-in datasets is not even half the fun of creating your own datasets, the rest of this chapter is based on your personally developed dataset. Put your jet pack on because it is time for some space exploration!</p>
<p>As a first goal, you want to construct a data frame that describes the main characteristics of eight planets in our solar system. According to your good friend Buzz, the main features of a planet are:</p>
<ul>
<li>The type of planet (Terrestrial or Gas Giant).</li>
<li>The planet’s diameter relative to the diameter of the Earth.</li>
<li>The planet’s rotation across the sun relative to that of the Earth.</li>
<li>If the planet has rings or not (TRUE or FALSE).</li>
</ul>
<p>After doing some high-quality research on Wikipedia, you feel confident enough to create the necessary vectors: name, type, diameter, rotation and rings; these vectors have already been coded up in the editor. The first element in each of these vectors correspond to the first observation.</p>
<p>You construct a data frame with the <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> function. As arguments, you pass the vectors from before: they will become the different columns of your data frame. Because every column has the same length, the vectors you pass should also have the same length. But don’t forget that it is possible (and likely) that they contain different types of data.</p>
<section id="instructions-100-xp-3" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-3">Instructions <code>100 XP</code>
</h3>
<p>Use the function <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code> to construct a data frame. Pass the vectors <code>name</code>, <code>type</code>, <code>diameter</code>, <code>rotation</code> and <code>rings</code> as arguments to <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, in this order. Call the resulting data frame <code>planets_df</code>.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_44.R</strong></pre>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mercury"</span>, <span class="st">"Venus"</span>, <span class="st">"Earth"</span>, </span>
<span id="cb4-2"><a href="#cb4-2"></a>          <span class="st">"Mars"</span>, <span class="st">"Jupiter"</span>, <span class="st">"Saturn"</span>, </span>
<span id="cb4-3"><a href="#cb4-3"></a>          <span class="st">"Uranus"</span>, <span class="st">"Neptune"</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Terrestrial planet"</span>, </span>
<span id="cb4-5"><a href="#cb4-5"></a>          <span class="st">"Terrestrial planet"</span>, </span>
<span id="cb4-6"><a href="#cb4-6"></a>          <span class="st">"Terrestrial planet"</span>, </span>
<span id="cb4-7"><a href="#cb4-7"></a>          <span class="st">"Terrestrial planet"</span>, <span class="st">"Gas giant"</span>, </span>
<span id="cb4-8"><a href="#cb4-8"></a>          <span class="st">"Gas giant"</span>, <span class="st">"Gas giant"</span>, <span class="st">"Gas giant"</span>)</span>
<span id="cb4-9"><a href="#cb4-9"></a>diameter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.382</span>, <span class="fl">0.949</span>, <span class="dv">1</span>, <span class="fl">0.532</span>, </span>
<span id="cb4-10"><a href="#cb4-10"></a>              <span class="fl">11.209</span>, <span class="fl">9.449</span>, <span class="fl">4.007</span>, <span class="fl">3.883</span>)</span>
<span id="cb4-11"><a href="#cb4-11"></a>rotation <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">58.64</span>, <span class="sc">-</span><span class="fl">243.02</span>, <span class="dv">1</span>, <span class="fl">1.03</span>, </span>
<span id="cb4-12"><a href="#cb4-12"></a>              <span class="fl">0.41</span>, <span class="fl">0.43</span>, <span class="sc">-</span><span class="fl">0.72</span>, <span class="fl">0.67</span>)</span>
<span id="cb4-13"><a href="#cb4-13"></a>rings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb4-14"><a href="#cb4-14"></a>planets_df <span class="ot">&lt;-</span> </span>
<span id="cb4-15"><a href="#cb4-15"></a>    <span class="fu">data.frame</span>(name, type, diameter, rotation, rings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="creating-a-data-frame-2" class="level2" data-number="5.5"><h2 data-number="5.5" class="anchored" data-anchor-id="creating-a-data-frame-2">
<span class="header-section-number">5.5</span> Creating a data frame (2)</h2>
<p>The <code>planets_df</code> data frame should have 8 observations and 5 variables. It has been made available in the workspace, so you can directly use it.</p>
<section id="instructions-100-xp-4" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-4">Instructions <code>100 XP</code>
</h3>
<p>Use <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> to investigate the structure of the new planets_df variable.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_45.R</strong></pre>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">str</span>(planets_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="selection-of-data-frame-elements" class="level2" data-number="5.6"><h2 data-number="5.6" class="anchored" data-anchor-id="selection-of-data-frame-elements">
<span class="header-section-number">5.6</span> Selection of data frame elements</h2>
<p>Similar to vectors and matrices, you select elements from a data frame with the help of square brackets <code>[ ]</code>. By using a comma, you can indicate what to select from the rows and the columns respectively. For example:</p>
<ul>
<li>
<code>my_df[1,2]</code> selects the value at the first row and second column in <code>my_df</code>.</li>
<li>
<code>my_df[1:3,2:4]</code> selects rows 1, 2, 3 and columns 2, 3, 4 in my_df.</li>
</ul>
<p>Sometimes you want to select all elements of a row or column. For example, <code>my_df[1, ]</code> selects all elements of the first row. Let us now apply this technique on <code>planets_df</code>!</p>
<section id="instructions-100-xp-5" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-5">Instructions <code>100 XP</code>
</h3>
<ul>
<li>From <code>planets_df</code>, select the diameter of Mercury: this is the value at the first row and the third column. Simply print out the result.</li>
<li>From <code>planets_df</code>, select all data on Mars (the fourth row). Simply print out the result.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_46.R</strong></pre>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># The planets_df data frame from the previous exercise is pre-loaded</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># Print out diameter of Mercury (row 1, column 3)</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">print</span>(planets_df[<span class="dv">1</span>, <span class="dv">3</span>])</span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># Print out data for Mars (entire fourth row)</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="fu">print</span>(planets_df[<span class="dv">4</span>, ])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="selection-of-data-frame-elements-2" class="level2" data-number="5.7"><h2 data-number="5.7" class="anchored" data-anchor-id="selection-of-data-frame-elements-2">
<span class="header-section-number">5.7</span> Selection of data frame elements (2)</h2>
<p>Instead of using numerics to select elements of a data frame, you can also use the variable names to select columns of a data frame.</p>
<p>Suppose you want to select the first three elements of the type column. One way to do this is</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>planets_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A possible disadvantage of this approach is that you have to know (or look up) the column number of type, which gets hard if you have a lot of variables. It is often easier to just make use of the variable name:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>planets_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="st">"type"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-100-xp-6" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-6">Instructions <code>100 XP</code>
</h3>
<p>Select and print out the first 5 values in the <code>"diameter"</code> column of <code>planets_df</code>.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_47.R</strong></pre>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">print</span>(planets_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"diameter"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="only-planets-with-rings" class="level2" data-number="5.8"><h2 data-number="5.8" class="anchored" data-anchor-id="only-planets-with-rings">
<span class="header-section-number">5.8</span> Only planets with rings</h2>
<p>You will often want to select an entire column, namely one specific variable from a data frame. If you want to select all elements of the variable diameter, for example, both of these will do the trick:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>planets_df[,<span class="dv">3</span>]</span>
<span id="cb10-2"><a href="#cb10-2"></a>planets_df[,<span class="st">"diameter"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>However, there is a short-cut. If your columns have names, you can use the <code>$</code> sign:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>planets_df<span class="sc">$</span>diameter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-100-xp-7" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-7">Instructions <code>100 XP</code>
</h3>
<ul>
<li>Use the <code>$</code> sign to select the <code>rings</code> variable from <code>planets_df</code>. Store the vector that results as <code>rings_vector</code>.</li>
<li>Print out <code>rings_vector</code> to see if you got it right.</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_48.R</strong></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># planets_df is pre-loaded in your workspace</span></span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co"># Select the rings variable from planets_df</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>rings_vector <span class="ot">&lt;-</span> planets_df<span class="sc">$</span>rings</span>
<span id="cb12-5"><a href="#cb12-5"></a>  </span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co"># Print out rings_vector</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="fu">print</span>(rings_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="only-planets-with-rings-2" class="level2" data-number="5.9"><h2 data-number="5.9" class="anchored" data-anchor-id="only-planets-with-rings-2">
<span class="header-section-number">5.9</span> Only planets with rings (2)</h2>
<p>You probably remember from high school that some planets in our solar system have rings and others do not. Unfortunately you can not recall their names. Could R help you out?</p>
<p>If you type rings_vector in the console, you get:</p>
<blockquote class="blockquote">
<p>[1] FALSE FALSE FALSE FALSE TRUE TRUE TRUE TRUE</p>
</blockquote>
<p>This means that the first four observations (or planets) do not have a ring (<code>FALSE</code>), but the other four do (<code>TRUE</code>). However, you do not get a nice overview of the names of these planets, their diameter, etc. Let’s try to use <code>rings_vector</code> to select the data for the four planets with rings.</p>
<section id="instructions-100-xp-8" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-8">Instructions <code>100 XP</code>
</h3>
<p>The code in the editor selects the <code>name</code> column of all planets that have rings. Adapt the code so that instead of only the <code>name</code> column, all columns for planets that have rings are selected.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_49.R</strong></pre>
</div>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># planets_df and rings_vector are pre-loaded in your workspace</span></span>
<span id="cb13-2"><a href="#cb13-2"></a></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co"># Adapt the code to select all columns for planets with rings</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>planets_df[rings_vector, <span class="st">"name"</span>]</span>
<span id="cb13-5"><a href="#cb13-5"></a>planets_df[rings_vector, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="only-planets-with-rings-but-shorter" class="level2" data-number="5.10"><h2 data-number="5.10" class="anchored" data-anchor-id="only-planets-with-rings-but-shorter">
<span class="header-section-number">5.10</span> Only planets with rings but shorter</h2>
<p>So what exactly did you learn in the previous exercises? You selected a subset from a data frame (<code>planets_df</code>) based on whether or not a certain condition was true (rings or no rings), and you managed to pull out all relevant data. Pretty awesome! By now, NASA is probably already flirting with your CV ;-).</p>
<p>Now, let us move up one level and use the function <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code>. You should see the <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code> function as a short-cut to do exactly the same as what you did in the previous exercises.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">subset</span>(my_df, <span class="at">subset =</span> some_condition)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The first argument of subset() specifies the dataset for which you want a subset. By adding the second argument, you give R the necessary information and conditions to select the correct subset.</p>
<p>The code below will give the exact same result as you got in the previous exercise, but this time, you didn’t need the <code>rings_vector</code>!</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">subset</span>(planets_df, <span class="at">subset =</span> rings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-100-xp-9" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-9">Instructions <code>100 XP</code>
</h3>
<p>Use <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code> on <code>planets_df</code> to select planets that have a <code>diameter</code> smaller than Earth. Because the <code>diameter</code> variable is a relative measure of the planet’s diameter w.r.t that of planet Earth, your condition is <code>diameter &lt; 1</code>.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_50.R</strong></pre>
</div>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># planets_df is pre-loaded in your workspace</span></span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co"># Select planets with diameter &lt; 1</span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="fu">subset</span>(planets_df, diameter <span class="sc">&lt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="sorting" class="level2" data-number="5.11"><h2 data-number="5.11" class="anchored" data-anchor-id="sorting">
<span class="header-section-number">5.11</span> Sorting</h2>
<p>Making and creating rankings is one of mankind’s favorite affairs. These rankings can be useful (best universities in the world), entertaining (most influential movie stars) or pointless (best 007 look-a-like).</p>
<p>In data analysis you can sort your data according to a certain variable in the dataset. In R, this is done with the help of the function <code><a href="https://rdrr.io/r/base/order.html">order()</a></code>.</p>
<p><code><a href="https://rdrr.io/r/base/order.html">order()</a></code> is a function that gives you the ranked position of each element when it is applied on a variable, such as a vector for example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">1000</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">order</span>(a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>10, which is the second element in a, is the smallest element, so 2 comes first in the output of order(a). 100, which is the first element in a is the second smallest element, so 1 comes second in the output of <code>order(a)</code>.</p>
<p>This means we can use the output of order(a) to reshuffle a:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>a[<span class="fu">order</span>(a)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="instructions-100-xp-10" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-10">Instructions <code>100 XP</code>
</h3>
<p>Experiment with the <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> function in the console. Submit the answer when you are ready to continue.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_51.R</strong></pre>
</div>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">order</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="sorting-your-data-frame" class="level2" data-number="5.12"><h2 data-number="5.12" class="anchored" data-anchor-id="sorting-your-data-frame">
<span class="header-section-number">5.12</span> Sorting your data frame</h2>
<p>Alright, now that you understand the <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> function, let us do something useful with it. You would like to rearrange your data frame such that it starts with the smallest planet and ends with the largest one. A sort on the <code>diameter</code> column.</p>
<section id="instructions-100-xp-11" class="level3 unnumbered"><h3 class="unnumbered anchored" data-anchor-id="instructions-100-xp-11">Instructions <code>100 XP</code>
</h3>
<ul>
<li><p>Call <code><a href="https://rdrr.io/r/base/order.html">order()</a></code> on <code>planets_df$diameter</code> (the <code>diameter</code> column of <code>planets_df</code>). Store the result as <code>positions</code>.</p></li>
<li><p>Now reshuffle planets_df with the positions vector as row indexes inside square brackets. Keep all columns. Simply print out the result.</p></li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ex_52.R</strong></pre>
</div>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># planets_df is pre-loaded in your workspace</span></span>
<span id="cb20-2"><a href="#cb20-2"></a></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="co"># Use order() to create positions</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>positions <span class="ot">&lt;-</span>  <span class="fu">order</span>(planets_df<span class="sc">$</span>diameter)</span>
<span id="cb20-5"><a href="#cb20-5"></a></span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="co"># Use positions to sort planets_df</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>planets_df[positions, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<!-- -->

</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./introduction_to_r_04.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Factors</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./introduction_to_r_06.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Lists</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb21" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb21-1"><a href="#cb21-1"></a><span class="co">---</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="an">format:</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co">  html: </span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co">    theme: darkly</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="co">    fig-width: 8</span></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="co">    fig-height: 4</span></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="co">    code-fold: true</span></span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="co">    code-link: true</span></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="co">    highlight-style: dracula</span></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="co">    code-line-numbers: true</span></span>
<span id="cb21-11"><a href="#cb21-11"></a><span class="co">    code-block-border-left: true</span></span>
<span id="cb21-12"><a href="#cb21-12"></a><span class="co">    code-tools:</span></span>
<span id="cb21-13"><a href="#cb21-13"></a><span class="co">      source: true</span></span>
<span id="cb21-14"><a href="#cb21-14"></a><span class="co">      toggle: false</span></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="co">      caption: none</span></span>
<span id="cb21-16"><a href="#cb21-16"></a><span class="co">---</span></span>
<span id="cb21-17"><a href="#cb21-17"></a></span>
<span id="cb21-18"><a href="#cb21-18"></a><span class="fu"># Data frames</span></span>
<span id="cb21-19"><a href="#cb21-19"></a></span>
<span id="cb21-20"><a href="#cb21-20"></a><span class="fu">## What's a data frame?</span></span>
<span id="cb21-21"><a href="#cb21-21"></a>You may remember from the chapter about matrices that all the elements that you</span>
<span id="cb21-22"><a href="#cb21-22"></a>put in a matrix should be of the same type. Back then, your dataset on Star Wars </span>
<span id="cb21-23"><a href="#cb21-23"></a>only contained numeric elements.</span>
<span id="cb21-24"><a href="#cb21-24"></a></span>
<span id="cb21-25"><a href="#cb21-25"></a>When doing a market research survey, however, you often have questions such as:</span>
<span id="cb21-26"><a href="#cb21-26"></a></span>
<span id="cb21-27"><a href="#cb21-27"></a><span class="ss">- </span>'Are you married?' or 'yes/no' questions (logical)</span>
<span id="cb21-28"><a href="#cb21-28"></a><span class="ss">- </span>'How old are you?' (numeric)</span>
<span id="cb21-29"><a href="#cb21-29"></a><span class="ss">- </span>'What is your opinion on this product?' or other 'open-ended' questions  </span>
<span id="cb21-30"><a href="#cb21-30"></a>(character)</span>
<span id="cb21-31"><a href="#cb21-31"></a><span class="ss">- </span>…</span>
<span id="cb21-32"><a href="#cb21-32"></a>The output, namely the respondents' answers to the questions formulated above,</span>
<span id="cb21-33"><a href="#cb21-33"></a>is a dataset of different data types. You will often find yourself working with</span>
<span id="cb21-34"><a href="#cb21-34"></a>datasets that contain different data types instead of only one.</span>
<span id="cb21-35"><a href="#cb21-35"></a></span>
<span id="cb21-36"><a href="#cb21-36"></a>A data frame has the variables of a dataset as columns and the observations as </span>
<span id="cb21-37"><a href="#cb21-37"></a>rows. This will be a familiar concept for those coming from different </span>
<span id="cb21-38"><a href="#cb21-38"></a>statistical software packages such as SAS or SPSS.</span>
<span id="cb21-39"><a href="#cb21-39"></a></span>
<span id="cb21-40"><a href="#cb21-40"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-41"><a href="#cb21-41"></a>Submit the answer. The data from the built-in example data frame </span>
<span id="cb21-42"><a href="#cb21-42"></a><span class="in">`mtcars`</span> will be printed to the console.</span>
<span id="cb21-43"><a href="#cb21-43"></a></span>
<span id="cb21-46"><a href="#cb21-46"></a><span class="in">```{r}</span></span>
<span id="cb21-47"><a href="#cb21-47"></a>mtcars</span>
<span id="cb21-48"><a href="#cb21-48"></a><span class="in">```</span></span>
<span id="cb21-49"><a href="#cb21-49"></a></span>
<span id="cb21-50"><a href="#cb21-50"></a><span class="fu">## Quick, have a look at your dataset</span></span>
<span id="cb21-51"><a href="#cb21-51"></a></span>
<span id="cb21-52"><a href="#cb21-52"></a>Wow, that is a lot of cars!</span>
<span id="cb21-53"><a href="#cb21-53"></a></span>
<span id="cb21-54"><a href="#cb21-54"></a>Working with large datasets is not uncommon in data analysis. When you work with</span>
<span id="cb21-55"><a href="#cb21-55"></a>(extremely) large datasets and data frames, your first task as a data analyst is</span>
<span id="cb21-56"><a href="#cb21-56"></a>to develop a clear understanding of its structure and main elements. Therefore, </span>
<span id="cb21-57"><a href="#cb21-57"></a>it is often useful to show only a small part of the entire dataset.</span>
<span id="cb21-58"><a href="#cb21-58"></a></span>
<span id="cb21-59"><a href="#cb21-59"></a>So how to do this in R? Well, the function <span class="in">`head()`</span> enables you to show the </span>
<span id="cb21-60"><a href="#cb21-60"></a>first observations of a data frame. Similarly, the function <span class="in">`tail()`</span> prints out </span>
<span id="cb21-61"><a href="#cb21-61"></a>the last observations in your dataset.</span>
<span id="cb21-62"><a href="#cb21-62"></a></span>
<span id="cb21-63"><a href="#cb21-63"></a>Both <span class="in">`head()`</span> and t<span class="in">`ail()`</span> print a top line called the </span>
<span id="cb21-64"><a href="#cb21-64"></a>'header', which contains the names of the different variables in your dataset.</span>
<span id="cb21-65"><a href="#cb21-65"></a></span>
<span id="cb21-66"><a href="#cb21-66"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-67"><a href="#cb21-67"></a></span>
<span id="cb21-68"><a href="#cb21-68"></a>Call head() on the mtcars dataset to have a look at the header and the first </span>
<span id="cb21-69"><a href="#cb21-69"></a>observations.</span>
<span id="cb21-70"><a href="#cb21-70"></a><span class="in">```{.r filename="ex_42.R"}</span></span>
<span id="cb21-71"><a href="#cb21-71"></a><span class="co"># Call head() on mtcars</span></span>
<span id="cb21-72"><a href="#cb21-72"></a><span class="fu">head</span>(mtcars)</span>
<span id="cb21-73"><a href="#cb21-73"></a><span class="in">```</span> </span>
<span id="cb21-74"><a href="#cb21-74"></a><span class="fu">## Have a look at the structure</span></span>
<span id="cb21-75"><a href="#cb21-75"></a></span>
<span id="cb21-76"><a href="#cb21-76"></a>Another method that is often used to get a rapid overview of your data is the</span>
<span id="cb21-77"><a href="#cb21-77"></a>function <span class="in">`str()`</span>. The function <span class="in">`str()`</span> shows you the structure of your dataset.</span>
<span id="cb21-78"><a href="#cb21-78"></a></span>
<span id="cb21-79"><a href="#cb21-79"></a>For a data frame it tells you:</span>
<span id="cb21-80"><a href="#cb21-80"></a></span>
<span id="cb21-81"><a href="#cb21-81"></a><span class="ss">- </span>The total number of observations (e.g. 32 car types)</span>
<span id="cb21-82"><a href="#cb21-82"></a><span class="ss">- </span>The total number of variables (e.g. 11 car features)</span>
<span id="cb21-83"><a href="#cb21-83"></a><span class="ss">- </span>A full list of the variables names (e.g. mpg, cyl … )</span>
<span id="cb21-84"><a href="#cb21-84"></a><span class="ss">- </span>The data type of each variable (e.g. num)</span>
<span id="cb21-85"><a href="#cb21-85"></a><span class="ss">- </span>The first observations</span>
<span id="cb21-86"><a href="#cb21-86"></a></span>
<span id="cb21-87"><a href="#cb21-87"></a>Applying the <span class="in">`str()`</span> function will often be the first thing that you do when </span>
<span id="cb21-88"><a href="#cb21-88"></a>receiving a new dataset or data frame. It is a great way to get more insight in </span>
<span id="cb21-89"><a href="#cb21-89"></a>your dataset before diving into the real analysis.</span>
<span id="cb21-90"><a href="#cb21-90"></a></span>
<span id="cb21-91"><a href="#cb21-91"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-92"><a href="#cb21-92"></a></span>
<span id="cb21-93"><a href="#cb21-93"></a>Investigate the structure of mtcars. Make sure that you see the same numbers,</span>
<span id="cb21-94"><a href="#cb21-94"></a>variables and data types as mentioned above.</span>
<span id="cb21-95"><a href="#cb21-95"></a></span>
<span id="cb21-96"><a href="#cb21-96"></a><span class="in">```{.r filename="ex_43.R"}</span></span>
<span id="cb21-97"><a href="#cb21-97"></a><span class="fu">str</span>(mtcars)</span>
<span id="cb21-98"><a href="#cb21-98"></a><span class="in">```</span></span>
<span id="cb21-99"><a href="#cb21-99"></a></span>
<span id="cb21-100"><a href="#cb21-100"></a><span class="fu">## Creating a data frame</span></span>
<span id="cb21-101"><a href="#cb21-101"></a></span>
<span id="cb21-102"><a href="#cb21-102"></a>Since using built-in datasets is not even half the fun of creating your own </span>
<span id="cb21-103"><a href="#cb21-103"></a>datasets, the rest of this chapter is based on your personally developed </span>
<span id="cb21-104"><a href="#cb21-104"></a>dataset. Put your jet pack on because it is time for some space exploration!</span>
<span id="cb21-105"><a href="#cb21-105"></a></span>
<span id="cb21-106"><a href="#cb21-106"></a>As a first goal, you want to construct a data frame that describes the main </span>
<span id="cb21-107"><a href="#cb21-107"></a>characteristics of eight planets in our solar system. </span>
<span id="cb21-108"><a href="#cb21-108"></a>According to your good friend Buzz, the main features of a planet are:</span>
<span id="cb21-109"><a href="#cb21-109"></a></span>
<span id="cb21-110"><a href="#cb21-110"></a><span class="ss">- </span>The type of planet (Terrestrial or Gas Giant).</span>
<span id="cb21-111"><a href="#cb21-111"></a><span class="ss">- </span>The planet's diameter relative to the diameter of the Earth.</span>
<span id="cb21-112"><a href="#cb21-112"></a><span class="ss">- </span>The planet's rotation across the sun relative to that of the Earth.</span>
<span id="cb21-113"><a href="#cb21-113"></a><span class="ss">- </span>If the planet has rings or not (TRUE or FALSE).</span>
<span id="cb21-114"><a href="#cb21-114"></a></span>
<span id="cb21-115"><a href="#cb21-115"></a>After doing some high-quality research on Wikipedia, you feel confident enough</span>
<span id="cb21-116"><a href="#cb21-116"></a>to create the necessary vectors: name, type, diameter, rotation and rings;</span>
<span id="cb21-117"><a href="#cb21-117"></a>these vectors have already been coded up in the editor. The first element in</span>
<span id="cb21-118"><a href="#cb21-118"></a>each of these vectors correspond to the first observation.</span>
<span id="cb21-119"><a href="#cb21-119"></a></span>
<span id="cb21-120"><a href="#cb21-120"></a>You construct a data frame with the <span class="in">`data.frame()`</span> function. As arguments,</span>
<span id="cb21-121"><a href="#cb21-121"></a>you pass the vectors from before: they will become the different columns of your</span>
<span id="cb21-122"><a href="#cb21-122"></a>data frame. Because every column has the same length, the vectors you pass </span>
<span id="cb21-123"><a href="#cb21-123"></a>should also have the same length. But don't forget that it is possible </span>
<span id="cb21-124"><a href="#cb21-124"></a>(and likely) that they contain different types of data.</span>
<span id="cb21-125"><a href="#cb21-125"></a></span>
<span id="cb21-126"><a href="#cb21-126"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-127"><a href="#cb21-127"></a></span>
<span id="cb21-128"><a href="#cb21-128"></a>Use the function <span class="in">`data.frame()`</span> to construct a data frame. </span>
<span id="cb21-129"><a href="#cb21-129"></a>Pass the vectors <span class="in">`name`</span>, <span class="in">`type`</span>, <span class="in">`diameter`</span>, <span class="in">`rotation`</span> and <span class="in">`rings`</span> as </span>
<span id="cb21-130"><a href="#cb21-130"></a>arguments to <span class="in">`data.frame()`</span>, in this order. Call the resulting data frame</span>
<span id="cb21-131"><a href="#cb21-131"></a><span class="in">`planets_df`</span>.</span>
<span id="cb21-132"><a href="#cb21-132"></a></span>
<span id="cb21-133"><a href="#cb21-133"></a><span class="in">```{.r filename="ex_44.R"}</span></span>
<span id="cb21-134"><a href="#cb21-134"></a>name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mercury"</span>, <span class="st">"Venus"</span>, <span class="st">"Earth"</span>, </span>
<span id="cb21-135"><a href="#cb21-135"></a>          <span class="st">"Mars"</span>, <span class="st">"Jupiter"</span>, <span class="st">"Saturn"</span>, </span>
<span id="cb21-136"><a href="#cb21-136"></a>          <span class="st">"Uranus"</span>, <span class="st">"Neptune"</span>)</span>
<span id="cb21-137"><a href="#cb21-137"></a>type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Terrestrial planet"</span>, </span>
<span id="cb21-138"><a href="#cb21-138"></a>          <span class="st">"Terrestrial planet"</span>, </span>
<span id="cb21-139"><a href="#cb21-139"></a>          <span class="st">"Terrestrial planet"</span>, </span>
<span id="cb21-140"><a href="#cb21-140"></a>          <span class="st">"Terrestrial planet"</span>, <span class="st">"Gas giant"</span>, </span>
<span id="cb21-141"><a href="#cb21-141"></a>          <span class="st">"Gas giant"</span>, <span class="st">"Gas giant"</span>, <span class="st">"Gas giant"</span>)</span>
<span id="cb21-142"><a href="#cb21-142"></a>diameter <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.382</span>, <span class="fl">0.949</span>, <span class="dv">1</span>, <span class="fl">0.532</span>, </span>
<span id="cb21-143"><a href="#cb21-143"></a>              <span class="fl">11.209</span>, <span class="fl">9.449</span>, <span class="fl">4.007</span>, <span class="fl">3.883</span>)</span>
<span id="cb21-144"><a href="#cb21-144"></a>rotation <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">58.64</span>, <span class="sc">-</span><span class="fl">243.02</span>, <span class="dv">1</span>, <span class="fl">1.03</span>, </span>
<span id="cb21-145"><a href="#cb21-145"></a>              <span class="fl">0.41</span>, <span class="fl">0.43</span>, <span class="sc">-</span><span class="fl">0.72</span>, <span class="fl">0.67</span>)</span>
<span id="cb21-146"><a href="#cb21-146"></a>rings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb21-147"><a href="#cb21-147"></a>planets_df <span class="ot">&lt;-</span> </span>
<span id="cb21-148"><a href="#cb21-148"></a>    <span class="fu">data.frame</span>(name, type, diameter, rotation, rings)</span>
<span id="cb21-149"><a href="#cb21-149"></a><span class="in">```</span></span>
<span id="cb21-150"><a href="#cb21-150"></a></span>
<span id="cb21-151"><a href="#cb21-151"></a><span class="fu">## Creating a data frame (2)</span></span>
<span id="cb21-152"><a href="#cb21-152"></a></span>
<span id="cb21-153"><a href="#cb21-153"></a>The <span class="in">`planets_df`</span> data frame should have 8 observations and 5 variables. </span>
<span id="cb21-154"><a href="#cb21-154"></a>It has been made available in the workspace, so you can directly use it.</span>
<span id="cb21-155"><a href="#cb21-155"></a></span>
<span id="cb21-156"><a href="#cb21-156"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-157"><a href="#cb21-157"></a></span>
<span id="cb21-158"><a href="#cb21-158"></a>Use <span class="in">`str()`</span> to investigate the structure of the new planets_df variable.</span>
<span id="cb21-159"><a href="#cb21-159"></a></span>
<span id="cb21-160"><a href="#cb21-160"></a><span class="in">```{.r filename="ex_45.R"}</span></span>
<span id="cb21-161"><a href="#cb21-161"></a><span class="fu">str</span>(planets_df)</span>
<span id="cb21-162"><a href="#cb21-162"></a><span class="in">```</span></span>
<span id="cb21-163"><a href="#cb21-163"></a></span>
<span id="cb21-164"><a href="#cb21-164"></a><span class="fu">## Selection of data frame elements</span></span>
<span id="cb21-165"><a href="#cb21-165"></a></span>
<span id="cb21-166"><a href="#cb21-166"></a>Similar to vectors and matrices, you select elements from a data frame with</span>
<span id="cb21-167"><a href="#cb21-167"></a>the help of square brackets <span class="in">`[ ]`</span>. By using a comma, you can indicate what </span>
<span id="cb21-168"><a href="#cb21-168"></a>to select from the rows and the columns respectively. For example:</span>
<span id="cb21-169"><a href="#cb21-169"></a></span>
<span id="cb21-170"><a href="#cb21-170"></a><span class="ss">- </span><span class="in">`my_df[1,2]`</span> selects the value at the first row and second column in <span class="in">`my_df`</span>.</span>
<span id="cb21-171"><a href="#cb21-171"></a><span class="ss">- </span><span class="in">`my_df[1:3,2:4]`</span> selects rows 1, 2, 3 and columns 2, 3, 4 in my_df.</span>
<span id="cb21-172"><a href="#cb21-172"></a> </span>
<span id="cb21-173"><a href="#cb21-173"></a>Sometimes you want to select all elements of a row or column.</span>
<span id="cb21-174"><a href="#cb21-174"></a>For example, <span class="in">`my_df[1, ]`</span> selects all elements of the first row.</span>
<span id="cb21-175"><a href="#cb21-175"></a>Let us now apply this technique on <span class="in">`planets_df`</span>!</span>
<span id="cb21-176"><a href="#cb21-176"></a></span>
<span id="cb21-177"><a href="#cb21-177"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-178"><a href="#cb21-178"></a></span>
<span id="cb21-179"><a href="#cb21-179"></a><span class="ss">- </span>From <span class="in">`planets_df`</span>, select the diameter of Mercury: this is the value at </span>
<span id="cb21-180"><a href="#cb21-180"></a>the first row and the third column. Simply print out the result.</span>
<span id="cb21-181"><a href="#cb21-181"></a><span class="ss">- </span>From <span class="in">`planets_df`</span>, select all data on Mars (the fourth row).</span>
<span id="cb21-182"><a href="#cb21-182"></a> Simply print out the result.</span>
<span id="cb21-183"><a href="#cb21-183"></a></span>
<span id="cb21-184"><a href="#cb21-184"></a><span class="in">```{.r filename="ex_46.R"}</span></span>
<span id="cb21-185"><a href="#cb21-185"></a><span class="co"># The planets_df data frame from the previous exercise is pre-loaded</span></span>
<span id="cb21-186"><a href="#cb21-186"></a></span>
<span id="cb21-187"><a href="#cb21-187"></a><span class="co"># Print out diameter of Mercury (row 1, column 3)</span></span>
<span id="cb21-188"><a href="#cb21-188"></a><span class="fu">print</span>(planets_df[<span class="dv">1</span>, <span class="dv">3</span>])</span>
<span id="cb21-189"><a href="#cb21-189"></a></span>
<span id="cb21-190"><a href="#cb21-190"></a><span class="co"># Print out data for Mars (entire fourth row)</span></span>
<span id="cb21-191"><a href="#cb21-191"></a><span class="fu">print</span>(planets_df[<span class="dv">4</span>, ])</span>
<span id="cb21-192"><a href="#cb21-192"></a><span class="in">```</span></span>
<span id="cb21-193"><a href="#cb21-193"></a><span class="fu">## Selection of data frame elements (2)</span></span>
<span id="cb21-194"><a href="#cb21-194"></a>Instead of using numerics to select elements of a data frame, you can also </span>
<span id="cb21-195"><a href="#cb21-195"></a>use the variable names to select columns of a data frame.</span>
<span id="cb21-196"><a href="#cb21-196"></a></span>
<span id="cb21-197"><a href="#cb21-197"></a>Suppose you want to select the first three elements of the type column.</span>
<span id="cb21-198"><a href="#cb21-198"></a>One way to do this is</span>
<span id="cb21-199"><a href="#cb21-199"></a><span class="in">```{.r }</span></span>
<span id="cb21-200"><a href="#cb21-200"></a>planets_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>]</span>
<span id="cb21-201"><a href="#cb21-201"></a><span class="in">```</span></span>
<span id="cb21-202"><a href="#cb21-202"></a>A possible disadvantage of this approach is that you have to know</span>
<span id="cb21-203"><a href="#cb21-203"></a>(or look up) the column number of type, which gets hard if you have a </span>
<span id="cb21-204"><a href="#cb21-204"></a>lot of variables. It is often easier to just make use of the variable name:</span>
<span id="cb21-205"><a href="#cb21-205"></a></span>
<span id="cb21-206"><a href="#cb21-206"></a><span class="in">```{.r }</span></span>
<span id="cb21-207"><a href="#cb21-207"></a>planets_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="st">"type"</span>]</span>
<span id="cb21-208"><a href="#cb21-208"></a><span class="in">```</span></span>
<span id="cb21-209"><a href="#cb21-209"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-210"><a href="#cb21-210"></a></span>
<span id="cb21-211"><a href="#cb21-211"></a>Select and print out the first 5 values in the <span class="in">`"diameter"`</span> </span>
<span id="cb21-212"><a href="#cb21-212"></a>column of <span class="in">`planets_df`</span>.</span>
<span id="cb21-213"><a href="#cb21-213"></a></span>
<span id="cb21-214"><a href="#cb21-214"></a><span class="in">```{.r filename="ex_47.R"}</span></span>
<span id="cb21-215"><a href="#cb21-215"></a><span class="fu">print</span>(planets_df[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"diameter"</span>])</span>
<span id="cb21-216"><a href="#cb21-216"></a><span class="in">```</span></span>
<span id="cb21-217"><a href="#cb21-217"></a><span class="fu">## Only planets with rings</span></span>
<span id="cb21-218"><a href="#cb21-218"></a></span>
<span id="cb21-219"><a href="#cb21-219"></a>You will often want to select an entire column, namely one specific </span>
<span id="cb21-220"><a href="#cb21-220"></a>variable from a data frame. If you want to select all elements of the</span>
<span id="cb21-221"><a href="#cb21-221"></a> variable diameter, for example, both of these will do the trick:</span>
<span id="cb21-222"><a href="#cb21-222"></a></span>
<span id="cb21-223"><a href="#cb21-223"></a><span class="in">```{.r}</span></span>
<span id="cb21-224"><a href="#cb21-224"></a>planets_df[,<span class="dv">3</span>]</span>
<span id="cb21-225"><a href="#cb21-225"></a>planets_df[,<span class="st">"diameter"</span>]</span>
<span id="cb21-226"><a href="#cb21-226"></a><span class="in">```</span></span>
<span id="cb21-227"><a href="#cb21-227"></a>However, there is a short-cut. If your columns have names,</span>
<span id="cb21-228"><a href="#cb21-228"></a>you can use the <span class="in">`$`</span> sign:</span>
<span id="cb21-229"><a href="#cb21-229"></a></span>
<span id="cb21-230"><a href="#cb21-230"></a><span class="in">```{.r }</span></span>
<span id="cb21-231"><a href="#cb21-231"></a>planets_df<span class="sc">$</span>diameter</span>
<span id="cb21-232"><a href="#cb21-232"></a><span class="in">```</span></span>
<span id="cb21-233"><a href="#cb21-233"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-234"><a href="#cb21-234"></a></span>
<span id="cb21-235"><a href="#cb21-235"></a><span class="ss">- </span>Use the <span class="in">`$`</span> sign to select the <span class="in">`rings`</span> variable from <span class="in">`planets_df`</span>.</span>
<span id="cb21-236"><a href="#cb21-236"></a>Store the vector that results as <span class="in">`rings_vector`</span>.</span>
<span id="cb21-237"><a href="#cb21-237"></a><span class="ss">- </span>Print out <span class="in">`rings_vector`</span> to see if you got it right.</span>
<span id="cb21-238"><a href="#cb21-238"></a></span>
<span id="cb21-239"><a href="#cb21-239"></a><span class="in">```{.r filename="ex_48.R"}</span></span>
<span id="cb21-240"><a href="#cb21-240"></a><span class="co"># planets_df is pre-loaded in your workspace</span></span>
<span id="cb21-241"><a href="#cb21-241"></a></span>
<span id="cb21-242"><a href="#cb21-242"></a><span class="co"># Select the rings variable from planets_df</span></span>
<span id="cb21-243"><a href="#cb21-243"></a>rings_vector <span class="ot">&lt;-</span> planets_df<span class="sc">$</span>rings</span>
<span id="cb21-244"><a href="#cb21-244"></a>  </span>
<span id="cb21-245"><a href="#cb21-245"></a><span class="co"># Print out rings_vector</span></span>
<span id="cb21-246"><a href="#cb21-246"></a><span class="fu">print</span>(rings_vector)</span>
<span id="cb21-247"><a href="#cb21-247"></a><span class="in">```</span> </span>
<span id="cb21-248"><a href="#cb21-248"></a></span>
<span id="cb21-249"><a href="#cb21-249"></a><span class="fu">## Only planets with rings (2)</span></span>
<span id="cb21-250"><a href="#cb21-250"></a>You probably remember from high school that some planets in our solar</span>
<span id="cb21-251"><a href="#cb21-251"></a>system have rings and others do not. Unfortunately you can not recall</span>
<span id="cb21-252"><a href="#cb21-252"></a> their names. Could R help you out?</span>
<span id="cb21-253"><a href="#cb21-253"></a></span>
<span id="cb21-254"><a href="#cb21-254"></a>If you type rings_vector in the console, you get:</span>
<span id="cb21-255"><a href="#cb21-255"></a></span>
<span id="cb21-256"><a href="#cb21-256"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">1</span><span class="co">]</span><span class="at"> FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE</span></span>
<span id="cb21-257"><a href="#cb21-257"></a></span>
<span id="cb21-258"><a href="#cb21-258"></a>This means that the first four observations (or planets) do not have a</span>
<span id="cb21-259"><a href="#cb21-259"></a>ring (<span class="in">`FALSE`</span>), but the other four do (<span class="in">`TRUE`</span>). However, you do not get</span>
<span id="cb21-260"><a href="#cb21-260"></a>a nice overview of the names of these planets, their diameter, etc.</span>
<span id="cb21-261"><a href="#cb21-261"></a>Let's try to use <span class="in">`rings_vector`</span> to select the data for the four planets</span>
<span id="cb21-262"><a href="#cb21-262"></a>with rings.</span>
<span id="cb21-263"><a href="#cb21-263"></a></span>
<span id="cb21-264"><a href="#cb21-264"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-265"><a href="#cb21-265"></a></span>
<span id="cb21-266"><a href="#cb21-266"></a>The code in the editor selects the <span class="in">`name`</span> column of all planets that have rings.</span>
<span id="cb21-267"><a href="#cb21-267"></a>Adapt the code so that instead of only the <span class="in">`name`</span> column, all columns </span>
<span id="cb21-268"><a href="#cb21-268"></a>for planets that have rings are selected.</span>
<span id="cb21-269"><a href="#cb21-269"></a></span>
<span id="cb21-270"><a href="#cb21-270"></a><span class="in">```{.r filename="ex_49.R"}</span></span>
<span id="cb21-271"><a href="#cb21-271"></a><span class="co"># planets_df and rings_vector are pre-loaded in your workspace</span></span>
<span id="cb21-272"><a href="#cb21-272"></a></span>
<span id="cb21-273"><a href="#cb21-273"></a><span class="co"># Adapt the code to select all columns for planets with rings</span></span>
<span id="cb21-274"><a href="#cb21-274"></a>planets_df[rings_vector, <span class="st">"name"</span>]</span>
<span id="cb21-275"><a href="#cb21-275"></a>planets_df[rings_vector, ]</span>
<span id="cb21-276"><a href="#cb21-276"></a></span>
<span id="cb21-277"><a href="#cb21-277"></a><span class="in">```</span></span>
<span id="cb21-278"><a href="#cb21-278"></a></span>
<span id="cb21-279"><a href="#cb21-279"></a><span class="fu">## Only planets with rings but shorter</span></span>
<span id="cb21-280"><a href="#cb21-280"></a></span>
<span id="cb21-281"><a href="#cb21-281"></a>So what exactly did you learn in the previous exercises? </span>
<span id="cb21-282"><a href="#cb21-282"></a>You selected a subset from a data frame (<span class="in">`planets_df`</span>) based on whether or </span>
<span id="cb21-283"><a href="#cb21-283"></a>not a certain condition was true (rings or no rings),</span>
<span id="cb21-284"><a href="#cb21-284"></a>and you managed to pull out all relevant data. Pretty awesome! By now,</span>
<span id="cb21-285"><a href="#cb21-285"></a>NASA is probably already flirting with your CV ;-).</span>
<span id="cb21-286"><a href="#cb21-286"></a></span>
<span id="cb21-287"><a href="#cb21-287"></a>Now, let us move up one level and use the function <span class="in">`subset()`</span>. </span>
<span id="cb21-288"><a href="#cb21-288"></a>You should see the <span class="in">`subset()`</span> function as a short-cut to do</span>
<span id="cb21-289"><a href="#cb21-289"></a> exactly the same as what you did in the previous exercises.</span>
<span id="cb21-290"><a href="#cb21-290"></a></span>
<span id="cb21-291"><a href="#cb21-291"></a><span class="in">```{.r}</span></span>
<span id="cb21-292"><a href="#cb21-292"></a><span class="fu">subset</span>(my_df, <span class="at">subset =</span> some_condition)</span>
<span id="cb21-293"><a href="#cb21-293"></a><span class="in">```</span></span>
<span id="cb21-294"><a href="#cb21-294"></a>The first argument of subset() specifies the dataset for which</span>
<span id="cb21-295"><a href="#cb21-295"></a>you want a subset. By adding the second argument, you give R the</span>
<span id="cb21-296"><a href="#cb21-296"></a>necessary information and conditions to select the correct subset.</span>
<span id="cb21-297"><a href="#cb21-297"></a></span>
<span id="cb21-298"><a href="#cb21-298"></a>The code below will give the exact same result as you got in the </span>
<span id="cb21-299"><a href="#cb21-299"></a>previous exercise, but this time, you didn't need the <span class="in">`rings_vector`</span>!</span>
<span id="cb21-300"><a href="#cb21-300"></a></span>
<span id="cb21-301"><a href="#cb21-301"></a><span class="in">```{.r}</span></span>
<span id="cb21-302"><a href="#cb21-302"></a><span class="fu">subset</span>(planets_df, <span class="at">subset =</span> rings)</span>
<span id="cb21-303"><a href="#cb21-303"></a><span class="in">```</span></span>
<span id="cb21-304"><a href="#cb21-304"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-305"><a href="#cb21-305"></a></span>
<span id="cb21-306"><a href="#cb21-306"></a>Use <span class="in">`subset()`</span> on <span class="in">`planets_df`</span> to select planets that have a </span>
<span id="cb21-307"><a href="#cb21-307"></a><span class="in">`diameter`</span> smaller than Earth. Because the </span>
<span id="cb21-308"><a href="#cb21-308"></a><span class="in">`diameter`</span> variable is a relative measure of the planet's diameter w.r.t </span>
<span id="cb21-309"><a href="#cb21-309"></a>that of planet Earth, your condition is <span class="in">`diameter &lt; 1`</span>.</span>
<span id="cb21-310"><a href="#cb21-310"></a></span>
<span id="cb21-311"><a href="#cb21-311"></a><span class="in">```{.r filename="ex_50.R"}</span></span>
<span id="cb21-312"><a href="#cb21-312"></a><span class="co"># planets_df is pre-loaded in your workspace</span></span>
<span id="cb21-313"><a href="#cb21-313"></a></span>
<span id="cb21-314"><a href="#cb21-314"></a><span class="co"># Select planets with diameter &lt; 1</span></span>
<span id="cb21-315"><a href="#cb21-315"></a><span class="fu">subset</span>(planets_df, diameter <span class="sc">&lt;</span> <span class="dv">1</span>)</span>
<span id="cb21-316"><a href="#cb21-316"></a><span class="in">```</span></span>
<span id="cb21-317"><a href="#cb21-317"></a><span class="fu">## Sorting</span></span>
<span id="cb21-318"><a href="#cb21-318"></a>Making and creating rankings is one of mankind's favorite affairs. </span>
<span id="cb21-319"><a href="#cb21-319"></a>These rankings can be useful (best universities in the world),</span>
<span id="cb21-320"><a href="#cb21-320"></a>entertaining (most influential movie stars) or pointless</span>
<span id="cb21-321"><a href="#cb21-321"></a>(best 007 look-a-like).</span>
<span id="cb21-322"><a href="#cb21-322"></a></span>
<span id="cb21-323"><a href="#cb21-323"></a>In data analysis you can sort your data according to a certain variable</span>
<span id="cb21-324"><a href="#cb21-324"></a>in the dataset. In R, this is done with the help of the function <span class="in">`order()`</span>.</span>
<span id="cb21-325"><a href="#cb21-325"></a></span>
<span id="cb21-326"><a href="#cb21-326"></a><span class="in">`order()`</span> is a function that gives you the ranked position of each element when it is applied on a variable, such as a vector for example:</span>
<span id="cb21-327"><a href="#cb21-327"></a></span>
<span id="cb21-328"><a href="#cb21-328"></a><span class="in">```{.r}</span></span>
<span id="cb21-329"><a href="#cb21-329"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">10</span>, <span class="dv">1000</span>)</span>
<span id="cb21-330"><a href="#cb21-330"></a><span class="fu">order</span>(a)</span>
<span id="cb21-331"><a href="#cb21-331"></a><span class="in">```</span></span>
<span id="cb21-332"><a href="#cb21-332"></a></span>
<span id="cb21-333"><a href="#cb21-333"></a>10, which is the second element in a, is the smallest element, so 2 comes first in the output of order(a). 100, which is the first element in a is the second smallest element, so 1 comes second in the output of <span class="in">`order(a)`</span>.</span>
<span id="cb21-334"><a href="#cb21-334"></a></span>
<span id="cb21-335"><a href="#cb21-335"></a>This means we can use the output of order(a) to reshuffle a:</span>
<span id="cb21-336"><a href="#cb21-336"></a><span class="in">```{.r}</span></span>
<span id="cb21-337"><a href="#cb21-337"></a>a[<span class="fu">order</span>(a)]</span>
<span id="cb21-338"><a href="#cb21-338"></a><span class="in">```</span></span>
<span id="cb21-339"><a href="#cb21-339"></a></span>
<span id="cb21-340"><a href="#cb21-340"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-341"><a href="#cb21-341"></a></span>
<span id="cb21-342"><a href="#cb21-342"></a>Experiment with the <span class="in">`order()`</span> function in the console. Submit the answer when</span>
<span id="cb21-343"><a href="#cb21-343"></a>you are ready to continue.</span>
<span id="cb21-344"><a href="#cb21-344"></a><span class="in">```{.r filename="ex_51.R"}</span></span>
<span id="cb21-345"><a href="#cb21-345"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb21-346"><a href="#cb21-346"></a><span class="fu">order</span>(x)</span>
<span id="cb21-347"><a href="#cb21-347"></a><span class="in">```</span></span>
<span id="cb21-348"><a href="#cb21-348"></a><span class="fu">## Sorting your data frame</span></span>
<span id="cb21-349"><a href="#cb21-349"></a></span>
<span id="cb21-350"><a href="#cb21-350"></a>Alright, now that you understand the <span class="in">`order()`</span> function, let us do </span>
<span id="cb21-351"><a href="#cb21-351"></a>something useful with it. You would like to rearrange your data frame</span>
<span id="cb21-352"><a href="#cb21-352"></a>such that it starts with the smallest planet and ends with the largest one.</span>
<span id="cb21-353"><a href="#cb21-353"></a>A sort on the <span class="in">`diameter`</span> column.</span>
<span id="cb21-354"><a href="#cb21-354"></a></span>
<span id="cb21-355"><a href="#cb21-355"></a><span class="fu">### Instructions `100 XP` {.unnumbered}</span></span>
<span id="cb21-356"><a href="#cb21-356"></a></span>
<span id="cb21-357"><a href="#cb21-357"></a><span class="ss">- </span>Call <span class="in">`order()`</span> on <span class="in">`planets_df$diameter`</span> (the <span class="in">`diameter`</span> column of </span>
<span id="cb21-358"><a href="#cb21-358"></a><span class="in">`planets_df`</span>). Store the result as <span class="in">`positions`</span>.</span>
<span id="cb21-359"><a href="#cb21-359"></a></span>
<span id="cb21-360"><a href="#cb21-360"></a><span class="ss">- </span>Now reshuffle planets_df with the positions </span>
<span id="cb21-361"><a href="#cb21-361"></a>vector as row indexes inside square brackets. </span>
<span id="cb21-362"><a href="#cb21-362"></a>Keep all columns. Simply print out the result.</span>
<span id="cb21-363"><a href="#cb21-363"></a></span>
<span id="cb21-364"><a href="#cb21-364"></a></span>
<span id="cb21-365"><a href="#cb21-365"></a><span class="in">```{.r filename="ex_52.R"}</span></span>
<span id="cb21-366"><a href="#cb21-366"></a><span class="co"># planets_df is pre-loaded in your workspace</span></span>
<span id="cb21-367"><a href="#cb21-367"></a></span>
<span id="cb21-368"><a href="#cb21-368"></a><span class="co"># Use order() to create positions</span></span>
<span id="cb21-369"><a href="#cb21-369"></a>positions <span class="ot">&lt;-</span>  <span class="fu">order</span>(planets_df<span class="sc">$</span>diameter)</span>
<span id="cb21-370"><a href="#cb21-370"></a></span>
<span id="cb21-371"><a href="#cb21-371"></a><span class="co"># Use positions to sort planets_df</span></span>
<span id="cb21-372"><a href="#cb21-372"></a>planets_df[positions, ]</span>
<span id="cb21-373"><a href="#cb21-373"></a></span>
<span id="cb21-374"><a href="#cb21-374"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>